"use strict";(self.webpackChunkSocioSync=self.webpackChunkSocioSync||[]).push([[179],{778:(ec,vi,$t)=>{$t.d(vi,{Z:()=>se});var Ot,pt,ye=$t(582),T=$t(157),Ge=$t(75),st=$t(83),zi=((Ot={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ot["bad-app-name"]="Illegal App name: '{$appName}",Ot["duplicate-app"]="Firebase App named '{$appName}' already exists",Ot["app-deleted"]="Firebase App named '{$appName}' already deleted",Ot["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ot["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ot),Fr=new T.LL("app","Firebase",zi),$i="@firebase/app",zn="[DEFAULT]",Ke=((pt={})[$i]="fire-core",pt["@firebase/analytics"]="fire-analytics",pt["@firebase/app-check"]="fire-app-check",pt["@firebase/auth"]="fire-auth",pt["@firebase/database"]="fire-rtdb",pt["@firebase/functions"]="fire-fn",pt["@firebase/installations"]="fire-iid",pt["@firebase/messaging"]="fire-fcm",pt["@firebase/performance"]="fire-perf",pt["@firebase/remote-config"]="fire-rc",pt["@firebase/storage"]="fire-gcs",pt["@firebase/firestore"]="fire-fst",pt["fire-js"]="fire-js",pt["firebase-wrapper"]="fire-js-all",pt),Gt=new st.Yd("@firebase/app"),qi=function(){function K(J,ve,fe){var Ie=this;this.firebase_=fe,this.isDeleted_=!1,this.name_=ve.name,this.automaticDataCollectionEnabled_=ve.automaticDataCollectionEnabled||!1,this.options_=(0,T.p$)(J),this.container=new Ge.H0(ve.name),this._addComponent(new Ge.wA("app",function(){return Ie},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(Pt){return Ie._addComponent(Pt)})}return Object.defineProperty(K.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(J){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=J},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(K.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),K.prototype.delete=function(){var J=this;return new Promise(function(ve){J.checkDestroyed_(),ve()}).then(function(){return J.firebase_.INTERNAL.removeApp(J.name_),Promise.all(J.container.getProviders().map(function(ve){return ve.delete()}))}).then(function(){J.isDeleted_=!0})},K.prototype._getService=function(J,ve){var fe;void 0===ve&&(ve=zn),this.checkDestroyed_();var Ie=this.container.getProvider(J);return!Ie.isInitialized()&&"EXPLICIT"===(null===(fe=Ie.getComponent())||void 0===fe?void 0:fe.instantiationMode)&&Ie.initialize(),Ie.getImmediate({identifier:ve})},K.prototype._removeServiceInstance=function(J,ve){void 0===ve&&(ve=zn),this.container.getProvider(J).clearInstance(ve)},K.prototype._addComponent=function(J){try{this.container.addComponent(J)}catch(ve){Gt.debug("Component "+J.name+" failed to register with FirebaseApp "+this.name,ve)}},K.prototype._addOrOverwriteComponent=function(J){this.container.addOrOverwriteComponent(J)},K.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},K.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Fr.create("app-deleted",{appName:this.name_})},K}();qi.prototype.name&&qi.prototype.options||qi.prototype.delete||console.log("dc");var Lr=function Q(){var K=function so(K){var J={},ve=new Map,fe={__esModule:!0,initializeApp:function Qe(Ct,Tt){void 0===Tt&&(Tt={}),("object"!=typeof Tt||null===Tt)&&(Tt={name:Tt});var rn=Tt;void 0===rn.name&&(rn.name=zn);var An=rn.name;if("string"!=typeof An||!An)throw Fr.create("bad-app-name",{appName:String(An)});if((0,T.r3)(J,An))throw Fr.create("duplicate-app",{appName:An});var Nn=new K(Ct,rn,fe);return J[An]=Nn,Nn},app:Pt,registerVersion:function yt(Ct,Tt,Kn){var rn,An=null!==(rn=Ke[Ct])&&void 0!==rn?rn:Ct;Kn&&(An+="-"+Kn);var Nn=An.match(/\s|\//),cn=Tt.match(/\s|\//);if(Nn||cn){var Pn=['Unable to register library "'+An+'" with version "'+Tt+'":'];return Nn&&Pn.push('library name "'+An+'" contains illegal characters (whitespace or "/")'),Nn&&cn&&Pn.push("and"),cn&&Pn.push('version name "'+Tt+'" contains illegal characters (whitespace or "/")'),void Gt.warn(Pn.join(" "))}mn(new Ge.wA(An+"-version",function(){return{library:An,version:Tt}},"VERSION"))},setLogLevel:st.Ub,onLog:function Vt(Ct,Tt){if(null!==Ct&&"function"!=typeof Ct)throw Fr.create("invalid-log-argument");(0,st.Am)(Ct,Tt)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:mn,removeApp:function Ie(Ct){delete J[Ct]},components:ve,useAsService:function ii(Ct,Tt){return"serverAuth"===Tt?null:Tt}}};function Pt(Ct){if(!(0,T.r3)(J,Ct=Ct||zn))throw Fr.create("no-app",{appName:Ct});return J[Ct]}function mn(Ct){var Tt=Ct.name;if(ve.has(Tt))return Gt.debug("There were multiple attempts to register component "+Tt+"."),"PUBLIC"===Ct.type?fe[Tt]:null;if(ve.set(Tt,Ct),"PUBLIC"===Ct.type){var Kn=function(cn){if(void 0===cn&&(cn=Pt()),"function"!=typeof cn[Tt])throw Fr.create("invalid-app-argument",{appName:Tt});return cn[Tt]()};void 0!==Ct.serviceProps&&(0,T.ZB)(Kn,Ct.serviceProps),fe[Tt]=Kn,K.prototype[Tt]=function(){for(var cn=[],Pn=0;Pn<arguments.length;Pn++)cn[Pn]=arguments[Pn];return this._getService.bind(this,Tt).apply(this,Ct.multipleInstances?cn:[])}}for(var rn=0,An=Object.keys(J);rn<An.length;rn++)J[An[rn]]._addComponent(Ct);return"PUBLIC"===Ct.type?fe[Tt]:null}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function Xe(){return Object.keys(J).map(function(Ct){return J[Ct]})}}),Pt.App=K,fe}(qi);return K.INTERNAL=(0,ye.pi)((0,ye.pi)({},K.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function J(ve){(0,T.ZB)(K,ve)},createSubscribe:T.ne,ErrorFactory:T.LL,deepExtend:T.ZB}),K}(),On=function(){function K(J){this.container=J}return K.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(ve){if(function ao(K){var J=K.getComponent();return"VERSION"===J?.type}(ve)){var fe=ve.getImmediate();return fe.library+"/"+fe.version}return null}).filter(function(ve){return ve}).join(" ")},K}();if((0,T.jU)()&&void 0!==self.firebase){Gt.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ri=self.firebase.SDK_VERSION;ri&&ri.indexOf("LITE")>=0&&Gt.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var $n=Lr.initializeApp;Lr.initializeApp=function(){for(var K=[],J=0;J<arguments.length;J++)K[J]=arguments[J];return(0,T.UG)()&&Gt.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),$n.apply(void 0,K)};var ce=Lr;!function mt(K,J){K.INTERNAL.registerComponent(new Ge.wA("platform-logger",function(ve){return new On(ve)},"PRIVATE")),K.registerVersion($i,"0.6.30",J),K.registerVersion("fire-js","")}(ce);const se=ce},75:(ec,vi,$t)=>{$t.d(vi,{H0:()=>$i,wA:()=>Ge});var ye=$t(582),T=$t(157),Ge=function(){function le($,Ce,Re){this.name=$,this.instanceFactory=Ce,this.type=Re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return le.prototype.setInstantiationMode=function($){return this.instantiationMode=$,this},le.prototype.setMultipleInstances=function($){return this.multipleInstances=$,this},le.prototype.setServiceProps=function($){return this.serviceProps=$,this},le.prototype.setInstanceCreatedCallback=function($){return this.onInstanceCreated=$,this},le}(),st="[DEFAULT]",Ot=function(){function le($,Ce){this.name=$,this.container=Ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return le.prototype.get=function($){var Ce=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(Ce)){var Re=new T.BH;if(this.instancesDeferred.set(Ce,Re),this.isInitialized(Ce)||this.shouldAutoInitialize())try{var xe=this.getOrInitializeService({instanceIdentifier:Ce});xe&&Re.resolve(xe)}catch{}}return this.instancesDeferred.get(Ce).promise},le.prototype.getImmediate=function($){var Ce,Re=this.normalizeInstanceIdentifier($?.identifier),xe=null!==(Ce=$?.optional)&&void 0!==Ce&&Ce;if(!this.isInitialized(Re)&&!this.shouldAutoInitialize()){if(xe)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:Re})}catch(Ne){if(xe)return null;throw Ne}},le.prototype.getComponent=function(){return this.component},le.prototype.setComponent=function($){var Ce,Re;if($.name!==this.name)throw Error("Mismatching Component "+$.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=$,this.shouldAutoInitialize()){if(function Fr(le){return"EAGER"===le.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:st})}catch{}try{for(var xe=(0,ye.XA)(this.instancesDeferred.entries()),Ne=xe.next();!Ne.done;Ne=xe.next()){var jt=(0,ye.CR)(Ne.value,2),Bt=jt[1],ft=this.normalizeInstanceIdentifier(jt[0]);try{var hr=this.getOrInitializeService({instanceIdentifier:ft});Bt.resolve(hr)}catch{}}}catch(qt){Ce={error:qt}}finally{try{Ne&&!Ne.done&&(Re=xe.return)&&Re.call(xe)}finally{if(Ce)throw Ce.error}}}},le.prototype.clearInstance=function($){void 0===$&&($=st),this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)},le.prototype.delete=function(){return(0,ye.mG)(this,void 0,void 0,function(){var $;return(0,ye.Jh)(this,function(Ce){switch(Ce.label){case 0:return $=Array.from(this.instances.values()),[4,Promise.all((0,ye.ev)((0,ye.ev)([],(0,ye.CR)($.filter(function(Re){return"INTERNAL"in Re}).map(function(Re){return Re.INTERNAL.delete()}))),(0,ye.CR)($.filter(function(Re){return"_delete"in Re}).map(function(Re){return Re._delete()}))))];case 1:return Ce.sent(),[2]}})})},le.prototype.isComponentSet=function(){return null!=this.component},le.prototype.isInitialized=function($){return void 0===$&&($=st),this.instances.has($)},le.prototype.getOptions=function($){return void 0===$&&($=st),this.instancesOptions.get($)||{}},le.prototype.initialize=function($){var Ce,Re;void 0===$&&($={});var xe=$.options,Ne=void 0===xe?{}:xe,jt=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(jt))throw Error(this.name+"("+jt+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Nt=this.getOrInitializeService({instanceIdentifier:jt,options:Ne});try{for(var Bt=(0,ye.XA)(this.instancesDeferred.entries()),ft=Bt.next();!ft.done;ft=Bt.next()){var hr=(0,ye.CR)(ft.value,2),fr=hr[1];jt===this.normalizeInstanceIdentifier(hr[0])&&fr.resolve(Nt)}}catch(zn){Ce={error:zn}}finally{try{ft&&!ft.done&&(Re=Bt.return)&&Re.call(Bt)}finally{if(Ce)throw Ce.error}}return Nt},le.prototype.onInit=function($,Ce){var Re,xe=this.normalizeInstanceIdentifier(Ce),Ne=null!==(Re=this.onInitCallbacks.get(xe))&&void 0!==Re?Re:new Set;Ne.add($),this.onInitCallbacks.set(xe,Ne);var jt=this.instances.get(xe);return jt&&$(jt,xe),function(){Ne.delete($)}},le.prototype.invokeOnInitCallbacks=function($,Ce){var Re,xe,Ne=this.onInitCallbacks.get(Ce);if(Ne)try{for(var jt=(0,ye.XA)(Ne),Nt=jt.next();!Nt.done;Nt=jt.next()){var Bt=Nt.value;try{Bt($,Ce)}catch{}}}catch(ft){Re={error:ft}}finally{try{Nt&&!Nt.done&&(xe=jt.return)&&xe.call(jt)}finally{if(Re)throw Re.error}}},le.prototype.getOrInitializeService=function($){var Ce=$.instanceIdentifier,Re=$.options,xe=void 0===Re?{}:Re,Ne=this.instances.get(Ce);if(!Ne&&this.component&&(Ne=this.component.instanceFactory(this.container,{instanceIdentifier:zi(Ce),options:xe}),this.instances.set(Ce,Ne),this.instancesOptions.set(Ce,xe),this.invokeOnInitCallbacks(Ne,Ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ce,Ne)}catch{}return Ne||null},le.prototype.normalizeInstanceIdentifier=function($){return void 0===$&&($=st),this.component?this.component.multipleInstances?$:st:$},le.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},le}();function zi(le){return le===st?void 0:le}var $i=function(){function le($){this.name=$,this.providers=new Map}return le.prototype.addComponent=function($){var Ce=this.getProvider($.name);if(Ce.isComponentSet())throw new Error("Component "+$.name+" has already been registered with "+this.name);Ce.setComponent($)},le.prototype.addOrOverwriteComponent=function($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)},le.prototype.getProvider=function($){if(this.providers.has($))return this.providers.get($);var Ce=new Ot($,this);return this.providers.set($,Ce),Ce},le.prototype.getProviders=function(){return Array.from(this.providers.values())},le}()},83:(ec,vi,$t)=>{function ye(){for(var Re=0,xe=0,Ne=arguments.length;xe<Ne;xe++)Re+=arguments[xe].length;var jt=Array(Re),Nt=0;for(xe=0;xe<Ne;xe++)for(var Bt=arguments[xe],ft=0,hr=Bt.length;ft<hr;ft++,Nt++)jt[Nt]=Bt[ft];return jt}$t.d(vi,{Am:()=>Ce,Ub:()=>$,Yd:()=>le,in:()=>st});var T,Ge=[],st=function(Re){return Re[Re.DEBUG=0]="DEBUG",Re[Re.VERBOSE=1]="VERBOSE",Re[Re.INFO=2]="INFO",Re[Re.WARN=3]="WARN",Re[Re.ERROR=4]="ERROR",Re[Re.SILENT=5]="SILENT",Re}(st||{}),Ot={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},zi=st.INFO,Fr=((T={})[st.DEBUG]="log",T[st.VERBOSE]="log",T[st.INFO]="info",T[st.WARN]="warn",T[st.ERROR]="error",T),$i=function(Re,xe){for(var Ne=[],jt=2;jt<arguments.length;jt++)Ne[jt-2]=arguments[jt];if(!(xe<Re.logLevel)){var Nt=(new Date).toISOString(),Bt=Fr[xe];if(!Bt)throw new Error("Attempted to log a message with an invalid logType (value: "+xe+")");console[Bt].apply(console,ye(["["+Nt+"]  "+Re.name+":"],Ne))}},le=function(){function Re(xe){this.name=xe,this._logLevel=zi,this._logHandler=$i,this._userLogHandler=null,Ge.push(this)}return Object.defineProperty(Re.prototype,"logLevel",{get:function(){return this._logLevel},set:function(xe){if(!(xe in st))throw new TypeError('Invalid value "'+xe+'" assigned to `logLevel`');this._logLevel=xe},enumerable:!1,configurable:!0}),Re.prototype.setLogLevel=function(xe){this._logLevel="string"==typeof xe?Ot[xe]:xe},Object.defineProperty(Re.prototype,"logHandler",{get:function(){return this._logHandler},set:function(xe){if("function"!=typeof xe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=xe},enumerable:!1,configurable:!0}),Object.defineProperty(Re.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(xe){this._userLogHandler=xe},enumerable:!1,configurable:!0}),Re.prototype.debug=function(){for(var xe=[],Ne=0;Ne<arguments.length;Ne++)xe[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,ye([this,st.DEBUG],xe)),this._logHandler.apply(this,ye([this,st.DEBUG],xe))},Re.prototype.log=function(){for(var xe=[],Ne=0;Ne<arguments.length;Ne++)xe[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,ye([this,st.VERBOSE],xe)),this._logHandler.apply(this,ye([this,st.VERBOSE],xe))},Re.prototype.info=function(){for(var xe=[],Ne=0;Ne<arguments.length;Ne++)xe[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,ye([this,st.INFO],xe)),this._logHandler.apply(this,ye([this,st.INFO],xe))},Re.prototype.warn=function(){for(var xe=[],Ne=0;Ne<arguments.length;Ne++)xe[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,ye([this,st.WARN],xe)),this._logHandler.apply(this,ye([this,st.WARN],xe))},Re.prototype.error=function(){for(var xe=[],Ne=0;Ne<arguments.length;Ne++)xe[Ne]=arguments[Ne];this._userLogHandler&&this._userLogHandler.apply(this,ye([this,st.ERROR],xe)),this._logHandler.apply(this,ye([this,st.ERROR],xe))},Re}();function $(Re){Ge.forEach(function(xe){xe.setLogLevel(Re)})}function Ce(Re,xe){for(var Ne=function(ft){var hr=null;xe&&xe.level&&(hr=Ot[xe.level]),ft.userLogHandler=null===Re?null:function(qt,fr){for(var pt=[],zn=2;zn<arguments.length;zn++)pt[zn-2]=arguments[zn];var Ke=pt.map(function(Gt){if(null==Gt)return null;if("string"==typeof Gt)return Gt;if("number"==typeof Gt||"boolean"==typeof Gt)return Gt.toString();if(Gt instanceof Error)return Gt.message;try{return JSON.stringify(Gt)}catch{return null}}).filter(function(Gt){return Gt}).join(" ");fr>=(hr??qt.logLevel)&&Re({level:st[fr].toLowerCase(),message:Ke,args:pt,type:qt.name})}},jt=0,Nt=Ge;jt<Nt.length;jt++)Ne(Nt[jt])}},157:(ec,vi,$t)=>{$t.d(vi,{BH:()=>Ne,G6:()=>qi,LL:()=>mt,Mn:()=>Ke,Sg:()=>jt,UG:()=>ft,ZB:()=>Re,ZR:()=>ao,b$:()=>fr,d:()=>pt,jU:()=>hr,m9:()=>jo,ne:()=>rn,p$:()=>Ce,r3:()=>Pt,ru:()=>qt,uI:()=>Bt,w1:()=>zn,z$:()=>Nt});var ye=$t(582),Ot=function(G){for(var q=[],ee=0,oe=0;oe<G.length;oe++){var X=G.charCodeAt(oe);X<128?q[ee++]=X:X<2048?(q[ee++]=X>>6|192,q[ee++]=63&X|128):55296==(64512&X)&&oe+1<G.length&&56320==(64512&G.charCodeAt(oe+1))?(X=65536+((1023&X)<<10)+(1023&G.charCodeAt(++oe)),q[ee++]=X>>18|240,q[ee++]=X>>12&63|128,q[ee++]=X>>6&63|128,q[ee++]=63&X|128):(q[ee++]=X>>12|224,q[ee++]=X>>6&63|128,q[ee++]=63&X|128)}return q},Fr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(G,q){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ee=q?this.byteToCharMapWebSafe_:this.byteToCharMap_,oe=[],X=0;X<G.length;X+=3){var Ae=G[X],ut=X+1<G.length,Xt=ut?G[X+1]:0,un=X+2<G.length,en=un?G[X+2]:0,_t=(15&Xt)<<2|en>>6,yi=63&en;un||(yi=64,ut||(_t=64)),oe.push(ee[Ae>>2],ee[(3&Ae)<<4|Xt>>4],ee[_t],ee[yi])}return oe.join("")},encodeString:function(G,q){return this.HAS_NATIVE_SUPPORT&&!q?btoa(G):this.encodeByteArray(Ot(G),q)},decodeString:function(G,q){return this.HAS_NATIVE_SUPPORT&&!q?atob(G):function(G){for(var q=[],ee=0,oe=0;ee<G.length;){var X=G[ee++];if(X<128)q[oe++]=String.fromCharCode(X);else if(X>191&&X<224){var Ae=G[ee++];q[oe++]=String.fromCharCode((31&X)<<6|63&Ae)}else if(X>239&&X<365){var un=((7&X)<<18|(63&(Ae=G[ee++]))<<12|(63&(ut=G[ee++]))<<6|63&G[ee++])-65536;q[oe++]=String.fromCharCode(55296+(un>>10)),q[oe++]=String.fromCharCode(56320+(1023&un))}else{Ae=G[ee++];var ut=G[ee++];q[oe++]=String.fromCharCode((15&X)<<12|(63&Ae)<<6|63&ut)}}return q.join("")}(this.decodeStringToByteArray(G,q))},decodeStringToByteArray:function(G,q){this.init_();for(var ee=q?this.charToByteMapWebSafe_:this.charToByteMap_,oe=[],X=0;X<G.length;){var Ae=ee[G.charAt(X++)],Xt=X<G.length?ee[G.charAt(X)]:0,en=++X<G.length?ee[G.charAt(X)]:64,Qt=++X<G.length?ee[G.charAt(X)]:64;if(++X,null==Ae||null==Xt||null==en||null==Qt)throw Error();oe.push(Ae<<2|Xt>>4),64!==en&&(oe.push(Xt<<4&240|en>>2),64!==Qt&&oe.push(en<<6&192|Qt))}return oe},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},le=function(G){return function(G){var q=Ot(G);return Fr.encodeByteArray(q,!0)}(G).replace(/\./g,"")};function Ce(G){return Re(void 0,G)}function Re(G,q){if(!(q instanceof Object))return q;switch(q.constructor){case Date:return new Date(q.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return q}for(var oe in q)!q.hasOwnProperty(oe)||!xe(oe)||(G[oe]=Re(G[oe],q[oe]));return G}function xe(G){return"__proto__"!==G}var Ne=function(){function G(){var q=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ee,oe){q.resolve=ee,q.reject=oe})}return G.prototype.wrapCallback=function(q){var ee=this;return function(oe,X){oe?ee.reject(oe):ee.resolve(X),"function"==typeof q&&(ee.promise.catch(function(){}),1===q.length?q(oe):q(oe,X))}},G}();function jt(G,q){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var oe=q||"demo-project",X=G.iat||0,Ae=G.sub||G.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var ut=(0,ye.pi)({iss:"https://securetoken.google.com/"+oe,aud:oe,iat:X,exp:X+3600,auth_time:X,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},G);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(ut)),""].join(".")}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Bt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function ft(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function hr(){return"object"==typeof self&&self.self===self}function qt(){var G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function fr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pt(){return Nt().indexOf("Electron/")>=0}function zn(){var G=Nt();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ke(){return Nt().indexOf("MSAppHost/")>=0}function qi(){return!ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var ao=function(G){function q(ee,oe,X){var Ae=G.call(this,oe)||this;return Ae.code=ee,Ae.customData=X,Ae.name="FirebaseError",Object.setPrototypeOf(Ae,q.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ae,mt.prototype.create),Ae}return(0,ye.ZT)(q,G),q}(Error),mt=function(){function G(q,ee,oe){this.service=q,this.serviceName=ee,this.errors=oe}return G.prototype.create=function(q){for(var ee=[],oe=1;oe<arguments.length;oe++)ee[oe-1]=arguments[oe];var X=ee[0]||{},Ae=this.service+"/"+q,ut=this.errors[q],Xt=ut?function ri(G,q){return G.replace($n,function(ee,oe){var X=q[oe];return null!=X?String(X):"<"+oe+"?>"})}(ut,X):"Error";return new ao(Ae,this.serviceName+": "+Xt+" ("+Ae+").",X)},G}(),$n=/\{\$([^}]+)}/g;function Pt(G,q){return Object.prototype.hasOwnProperty.call(G,q)}function rn(G,q){var ee=new An(G,q);return ee.subscribe.bind(ee)}!function(){function G(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var q=1;q<this.blockSize;++q)this.pad_[q]=0;this.reset()}G.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},G.prototype.compress_=function(q,ee){ee||(ee=0);var oe=this.W_;if("string"==typeof q)for(var X=0;X<16;X++)oe[X]=q.charCodeAt(ee)<<24|q.charCodeAt(ee+1)<<16|q.charCodeAt(ee+2)<<8|q.charCodeAt(ee+3),ee+=4;else for(X=0;X<16;X++)oe[X]=q[ee]<<24|q[ee+1]<<16|q[ee+2]<<8|q[ee+3],ee+=4;for(X=16;X<80;X++)oe[X]=4294967295&((Ae=oe[X-3]^oe[X-8]^oe[X-14]^oe[X-16])<<1|Ae>>>31);var Qt,_t,ut=this.chain_[0],Xt=this.chain_[1],un=this.chain_[2],en=this.chain_[3],Br=this.chain_[4];for(X=0;X<80;X++){X<40?X<20?(Qt=en^Xt&(un^en),_t=1518500249):(Qt=Xt^un^en,_t=1859775393):X<60?(Qt=Xt&un|en&(Xt|un),_t=2400959708):(Qt=Xt^un^en,_t=3395469782);var Ae=(ut<<5|ut>>>27)+Qt+Br+_t+oe[X]&4294967295;Br=en,en=un,un=4294967295&(Xt<<30|Xt>>>2),Xt=ut,ut=Ae}this.chain_[0]=this.chain_[0]+ut&4294967295,this.chain_[1]=this.chain_[1]+Xt&4294967295,this.chain_[2]=this.chain_[2]+un&4294967295,this.chain_[3]=this.chain_[3]+en&4294967295,this.chain_[4]=this.chain_[4]+Br&4294967295},G.prototype.update=function(q,ee){if(null!=q){void 0===ee&&(ee=q.length);for(var oe=ee-this.blockSize,X=0,Ae=this.buf_,ut=this.inbuf_;X<ee;){if(0===ut)for(;X<=oe;)this.compress_(q,X),X+=this.blockSize;if("string"==typeof q){for(;X<ee;)if(Ae[ut]=q.charCodeAt(X),++X,++ut===this.blockSize){this.compress_(Ae),ut=0;break}}else for(;X<ee;)if(Ae[ut]=q[X],++X,++ut===this.blockSize){this.compress_(Ae),ut=0;break}}this.inbuf_=ut,this.total_+=ee}},G.prototype.digest=function(){var q=[],ee=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&ee,ee/=256;this.compress_(this.buf_);var X=0;for(oe=0;oe<5;oe++)for(var Ae=24;Ae>=0;Ae-=8)q[X]=this.chain_[oe]>>Ae&255,++X;return q}}();var An=function(){function G(q,ee){var oe=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ee,this.task.then(function(){q(oe)}).catch(function(X){oe.error(X)})}return G.prototype.next=function(q){this.forEachObserver(function(ee){ee.next(q)})},G.prototype.error=function(q){this.forEachObserver(function(ee){ee.error(q)}),this.close(q)},G.prototype.complete=function(){this.forEachObserver(function(q){q.complete()}),this.close()},G.prototype.subscribe=function(q,ee,oe){var Ae,X=this;if(void 0===q&&void 0===ee&&void 0===oe)throw new Error("Missing Observer.");Ae=function cn(G,q){if("object"!=typeof G||null===G)return!1;for(var ee=0,oe=q;ee<oe.length;ee++){var X=oe[ee];if(X in G&&"function"==typeof G[X])return!0}return!1}(q,["next","error","complete"])?q:{next:q,error:ee,complete:oe},void 0===Ae.next&&(Ae.next=Pn),void 0===Ae.error&&(Ae.error=Pn),void 0===Ae.complete&&(Ae.complete=Pn);var ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{X.finalError?Ae.error(X.finalError):Ae.complete()}catch{}}),this.observers.push(Ae),ut},G.prototype.unsubscribeOne=function(q){void 0===this.observers||void 0===this.observers[q]||(delete this.observers[q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},G.prototype.forEachObserver=function(q){if(!this.finalized)for(var ee=0;ee<this.observers.length;ee++)this.sendOne(ee,q)},G.prototype.sendOne=function(q,ee){var oe=this;this.task.then(function(){if(void 0!==oe.observers&&void 0!==oe.observers[q])try{ee(oe.observers[q])}catch(X){typeof console<"u"&&console.error&&console.error(X)}})},G.prototype.close=function(q){var ee=this;this.finalized||(this.finalized=!0,void 0!==q&&(this.finalError=q),this.task.then(function(){ee.observers=void 0,ee.onNoObservers=void 0}))},G}();function Pn(){}function jo(G){return G&&G._delegate?G._delegate:G}},482:(ec,vi,$t)=>{function ye(e){return"function"==typeof e}function T(e){const t=e(o=>{Error.call(o),o.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ge=T(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((o,a)=>`${a+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function st(e,i){if(e){const t=e.indexOf(i);0<=t&&e.splice(t,1)}}class Ot{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const d of t)d.remove(this);else t.remove(this);const{initialTeardown:o}=this;if(ye(o))try{o()}catch(d){i=d instanceof Ge?d.errors:[d]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const d of a)try{$i(d)}catch(p){i=i??[],p instanceof Ge?i=[...i,...p.errors]:i.push(p)}}if(i)throw new Ge(i)}}add(i){var t;if(i&&i!==this)if(this.closed)$i(i);else{if(i instanceof Ot){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(i)}}_hasParent(i){const{_parentage:t}=this;return t===i||Array.isArray(t)&&t.includes(i)}_addParent(i){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(i),t):t?[t,i]:i}_removeParent(i){const{_parentage:t}=this;t===i?this._parentage=null:Array.isArray(t)&&st(t,i)}remove(i){const{_finalizers:t}=this;t&&st(t,i),i instanceof Ot&&i._removeParent(this)}}Ot.EMPTY=(()=>{const e=new Ot;return e.closed=!0,e})();const zi=Ot.EMPTY;function Fr(e){return e instanceof Ot||e&&"closed"in e&&ye(e.remove)&&ye(e.add)&&ye(e.unsubscribe)}function $i(e){ye(e)?e():e.unsubscribe()}const le={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},$={setTimeout(e,i,...t){const{delegate:o}=$;return o?.setTimeout?o.setTimeout(e,i,...t):setTimeout(e,i,...t)},clearTimeout(e){const{delegate:i}=$;return(i?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ce(e){$.setTimeout(()=>{const{onUnhandledError:i}=le;if(!i)throw e;i(e)})}function Re(){}const xe=Nt("C",void 0,void 0);function Nt(e,i,t){return{kind:e,value:i,error:t}}let Bt=null;function ft(e){if(le.useDeprecatedSynchronousErrorHandling){const i=!Bt;if(i&&(Bt={errorThrown:!1,error:null}),e(),i){const{errorThrown:t,error:o}=Bt;if(Bt=null,t)throw o}}else e()}class qt extends Ot{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,Fr(i)&&i.add(this)):this.destination=so}static create(i,t,o){return new Ke(i,t,o)}next(i){this.isStopped?ct(function jt(e){return Nt("N",e,void 0)}(i),this):this._next(i)}error(i){this.isStopped?ct(function Ne(e){return Nt("E",void 0,e)}(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?ct(xe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const fr=Function.prototype.bind;function pt(e,i){return fr.call(e,i)}class zn{constructor(i){this.partialObserver=i}next(i){const{partialObserver:t}=this;if(t.next)try{t.next(i)}catch(o){Gt(o)}}error(i){const{partialObserver:t}=this;if(t.error)try{t.error(i)}catch(o){Gt(o)}else Gt(i)}complete(){const{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(t){Gt(t)}}}class Ke extends qt{constructor(i,t,o){let a;if(super(),ye(i)||!i)a={next:i??void 0,error:t??void 0,complete:o??void 0};else{let d;this&&le.useDeprecatedNextContext?(d=Object.create(i),d.unsubscribe=()=>this.unsubscribe(),a={next:i.next&&pt(i.next,d),error:i.error&&pt(i.error,d),complete:i.complete&&pt(i.complete,d)}):a=i}this.destination=new zn(a)}}function Gt(e){le.useDeprecatedSynchronousErrorHandling?function hr(e){le.useDeprecatedSynchronousErrorHandling&&Bt&&(Bt.errorThrown=!0,Bt.error=e)}(e):Ce(e)}function ct(e,i){const{onStoppedNotification:t}=le;t&&$.setTimeout(()=>t(e,i))}const so={closed:!0,next:Re,error:function qi(e){throw e},complete:Re},Q="function"==typeof Symbol&&Symbol.observable||"@@observable";function Lr(e){return e}function ao(e){return 0===e.length?Lr:1===e.length?e[0]:function(t){return e.reduce((o,a)=>a(o),t)}}let mt=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const o=new e;return o.source=this,o.operator=t,o}subscribe(t,o,a){const d=function ce(e){return e&&e instanceof qt||function $n(e){return e&&ye(e.next)&&ye(e.error)&&ye(e.complete)}(e)&&Fr(e)}(t)?t:new Ke(t,o,a);return ft(()=>{const{operator:p,source:g}=this;d.add(p?p.call(d,g):g?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(t){try{return this._subscribe(t)}catch(o){t.error(o)}}forEach(t,o){return new(o=ri(o))((a,d)=>{const p=new Ke({next:g=>{try{t(g)}catch(_){d(_),p.unsubscribe()}},error:d,complete:a});this.subscribe(p)})}_subscribe(t){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(t)}[Q](){return this}pipe(...t){return ao(t)(this)}toPromise(t){return new(t=ri(t))((o,a)=>{let d;this.subscribe(p=>d=p,p=>a(p),()=>o(d))})}}return e.create=i=>new e(i),e})();function ri(e){var i;return null!==(i=e??le.Promise)&&void 0!==i?i:Promise}const se=T(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let K=(()=>{class e extends mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const o=new J(this,this);return o.operator=t,o}_throwIfClosed(){if(this.closed)throw new se}next(t){ft(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const o of this.currentObservers)o.next(t)}})}error(t){ft(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:o}=this;for(;o.length;)o.shift().error(t)}})}complete(){ft(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:o,isStopped:a,observers:d}=this;return o||a?zi:(this.currentObservers=null,d.push(t),new Ot(()=>{this.currentObservers=null,st(d,t)}))}_checkFinalizedStatuses(t){const{hasError:o,thrownError:a,isStopped:d}=this;o?t.error(a):d&&t.complete()}asObservable(){const t=new mt;return t.source=this,t}}return e.create=(i,t)=>new J(i,t),e})();class J extends K{constructor(i,t){super(),this.destination=i,this.source=t}next(i){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===o||o.call(t,i)}error(i){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===o||o.call(t,i)}complete(){var i,t;null===(t=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===t||t.call(i)}_subscribe(i){var t,o;return null!==(o=null===(t=this.source)||void 0===t?void 0:t.subscribe(i))&&void 0!==o?o:zi}}function ve(e){return ye(e?.lift)}function fe(e){return i=>{if(ve(i))return i.lift(function(t){try{return e(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ie(e,i,t,o,a){return new Pt(e,i,t,o,a)}class Pt extends qt{constructor(i,t,o,a,d,p){super(i),this.onFinalize=d,this.shouldUnsubscribe=p,this._next=t?function(g){try{t(g)}catch(_){i.error(_)}}:super._next,this._error=a?function(g){try{a(g)}catch(_){i.error(_)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(g){i.error(g)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}function Qe(e,i){return fe((t,o)=>{let a=0;t.subscribe(Ie(o,d=>{o.next(e.call(i,d,a++))}))})}var Xe=$t(582);const mn=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function yt(e){return ye(e?.then)}function Vt(e){return ye(e[Q])}function ii(e){return Symbol.asyncIterator&&ye(e?.[Symbol.asyncIterator])}function Ct(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Kn=function Tt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function rn(e){return ye(e?.[Kn])}function An(e){return(0,Xe.FC)(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:o,done:a}=yield(0,Xe.qq)(t.read());if(a)return yield(0,Xe.qq)(void 0);yield yield(0,Xe.qq)(o)}}finally{t.releaseLock()}})}function Nn(e){return ye(e?.getReader)}function cn(e){if(e instanceof mt)return e;if(null!=e){if(Vt(e))return function Pn(e){return new mt(i=>{const t=e[Q]();if(ye(t.subscribe))return t.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(mn(e))return function Rs(e){return new mt(i=>{for(let t=0;t<e.length&&!i.closed;t++)i.next(e[t]);i.complete()})}(e);if(yt(e))return function co(e){return new mt(i=>{e.then(t=>{i.closed||(i.next(t),i.complete())},t=>i.error(t)).then(null,Ce)})}(e);if(ii(e))return jr(e);if(rn(e))return function yd(e){return new mt(i=>{for(const t of e)if(i.next(t),i.closed)return;i.complete()})}(e);if(Nn(e))return function is(e){return jr(An(e))}(e)}throw Ct(e)}function jr(e){return new mt(i=>{(function ef(e,i){var t,o,a,d;return(0,Xe.mG)(this,void 0,void 0,function*(){try{for(t=(0,Xe.KL)(e);!(o=yield t.next()).done;)if(i.next(o.value),i.closed)return}catch(p){a={error:p}}finally{try{o&&!o.done&&(d=t.return)&&(yield d.call(t))}finally{if(a)throw a.error}}i.complete()})})(e,i).catch(t=>i.error(t))})}function Oi(e,i,t,o=0,a=!1){const d=i.schedule(function(){t(),a?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(d),!a)return d}function It(e,i,t=1/0){return ye(i)?It((o,a)=>Qe((d,p)=>i(o,d,a,p))(cn(e(o,a))),t):("number"==typeof i&&(t=i),fe((o,a)=>function _d(e,i,t,o,a,d,p,g){const _=[];let E=0,I=0,R=!1;const F=()=>{R&&!_.length&&!E&&i.complete()},j=W=>E<o?H(W):_.push(W),H=W=>{d&&i.next(W),E++;let he=!1;cn(t(W,I++)).subscribe(Ie(i,we=>{a?.(we),d?j(we):i.next(we)},()=>{he=!0},void 0,()=>{if(he)try{for(E--;_.length&&E<o;){const we=_.shift();p?Oi(i,p,()=>H(we)):H(we)}F()}catch(we){i.error(we)}}))};return e.subscribe(Ie(i,j,()=>{R=!0,F()})),()=>{g?.()}}(o,a,e,t)))}function Gi(e=1/0){return It(Lr,e)}const pr=new mt(e=>e.complete());function Mn(e){return e&&ye(e.schedule)}function jo(e){return e[e.length-1]}function G(e){return ye(jo(e))?e.pop():void 0}function q(e){return Mn(jo(e))?e.pop():void 0}function oe(e,i=0){return fe((t,o)=>{t.subscribe(Ie(o,a=>Oi(o,e,()=>o.next(a),i),()=>Oi(o,e,()=>o.complete(),i),a=>Oi(o,e,()=>o.error(a),i)))})}function X(e,i=0){return fe((t,o)=>{o.add(e.schedule(()=>t.subscribe(o),i))})}function en(e,i){if(!e)throw new Error("Iterable cannot be null");return new mt(t=>{Oi(t,i,()=>{const o=e[Symbol.asyncIterator]();Oi(t,i,()=>{o.next().then(a=>{a.done?t.complete():t.next(a.value)})},0,!0)})})}function _t(e,i){return i?function Qt(e,i){if(null!=e){if(Vt(e))return function Ae(e,i){return cn(e).pipe(X(i),oe(i))}(e,i);if(mn(e))return function Xt(e,i){return new mt(t=>{let o=0;return i.schedule(function(){o===e.length?t.complete():(t.next(e[o++]),t.closed||this.schedule())})})}(e,i);if(yt(e))return function ut(e,i){return cn(e).pipe(X(i),oe(i))}(e,i);if(ii(e))return en(e,i);if(rn(e))return function un(e,i){return new mt(t=>{let o;return Oi(t,i,()=>{o=e[Kn](),Oi(t,i,()=>{let a,d;try{({value:a,done:d}=o.next())}catch(p){return void t.error(p)}d?t.complete():t.next(a)},0,!0)}),()=>ye(o?.return)&&o.return()})}(e,i);if(Nn(e))return function Br(e,i){return en(An(e),i)}(e,i)}throw Ct(e)}(e,i):cn(e)}function yi(...e){const i=q(e),t=function ee(e,i){return"number"==typeof jo(e)?e.pop():i}(e,1/0),o=e;return o.length?1===o.length?cn(o[0]):Gi(t)(_t(o,i)):pr}class Vr extends K{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const t=super._subscribe(i);return!t.closed&&i.next(this._value),t}getValue(){const{hasError:i,thrownError:t,_value:o}=this;if(i)throw t;return this._throwIfClosed(),o}next(i){super.next(this._value=i)}}function nt(...e){return _t(e,q(e))}function Wu(e={}){const{connector:i=(()=>new K),resetOnError:t=!0,resetOnComplete:o=!0,resetOnRefCountZero:a=!0}=e;return d=>{let p,g,_,E=0,I=!1,R=!1;const F=()=>{g?.unsubscribe(),g=void 0},j=()=>{F(),p=_=void 0,I=R=!1},H=()=>{const W=p;j(),W?.unsubscribe()};return fe((W,he)=>{E++,!R&&!I&&F();const we=_=_??i();he.add(()=>{E--,0===E&&!R&&!I&&(g=uo(H,a))}),we.subscribe(he),!p&&E>0&&(p=new Ke({next:ae=>we.next(ae),error:ae=>{R=!0,F(),g=uo(j,t,ae),we.error(ae)},complete:()=>{I=!0,F(),g=uo(j,o),we.complete()}}),cn(W).subscribe(p))})(d)}}function uo(e,i,...t){if(!0===i)return void e();if(!1===i)return;const o=new Ke({next:()=>{o.unsubscribe(),e()}});return cn(i(...t)).subscribe(o)}function ln(e,i){return fe((t,o)=>{let a=null,d=0,p=!1;const g=()=>p&&!a&&o.complete();t.subscribe(Ie(o,_=>{a?.unsubscribe();let E=0;const I=d++;cn(e(_,I)).subscribe(a=Ie(o,R=>o.next(i?i(_,R,I,E++):R),()=>{a=null,g()}))},()=>{p=!0,g()}))})}function ks(e,i=Lr){return e=e??bd,fe((t,o)=>{let a,d=!0;t.subscribe(Ie(o,p=>{const g=i(p);(d||!e(a,g))&&(d=!1,a=g,o.next(p))}))})}function bd(e,i){return e===i}function gn(e){for(let i in e)if(e[i]===gn)return i;throw Error("Could not find renamed property on target object.")}function Bo(e,i){for(const t in i)i.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=i[t])}function Fn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Fn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const i=e.toString();if(null==i)return""+i;const t=i.indexOf("\n");return-1===t?i:i.substring(0,t)}function tc(e,i){return null==e||""===e?null===i?"":i:null==i||""===i?e:e+" "+i}const Gc=gn({__forward_ref__:gn});function sa(e){return e.__forward_ref__=sa,e.toString=function(){return Fn(this())},e}function ot(e){return Wc(e)?e():e}function Wc(e){return"function"==typeof e&&e.hasOwnProperty(Gc)&&e.__forward_ref__===sa}function Kc(e){return e&&!!e.\u0275providers}const aa="https://g.co/ng/security#xss";class pe extends Error{constructor(i,t){super(function os(e,i){return`NG0${Math.abs(e)}${i?": "+i:""}`}(i,t)),this.code=i}}function gt(e){return"string"==typeof e?e:null==e?"":String(e)}function Os(e,i){throw new pe(-201,!1)}function Ur(e,i){null==e&&function lt(e,i,t,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${t} ${o} ${i} <=Actual]`))}(i,e,null,"!=")}function ke(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function _n(e){return{providers:e.providers||[],imports:e.imports||[]}}function Xc(e){return da(e,ic)||da(e,kt)}function da(e,i){return e.hasOwnProperty(i)?e[i]:null}function as(e){return e&&(e.hasOwnProperty(Qc)||e.hasOwnProperty(Ns))?e[Qc]:null}const ic=gn({\u0275prov:gn}),Qc=gn({\u0275inj:gn}),kt=gn({ngInjectableDef:gn}),Ns=gn({ngInjectorDef:gn});var Dt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Dt||{});let oi;function Ir(e){const i=oi;return oi=e,i}function Uo(e,i,t){const o=Xc(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:t&Dt.Optional?null:void 0!==i?i:void Os(Fn(e))}const dt=globalThis;class S{constructor(i,t){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ke({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const or={},dn="__NG_DI_FLAG__",In="ngTempTokenPath",cs=/\n/gm,Wi="__source";let wi;function Ki(e){const i=wi;return wi=e,i}function gr(e,i=Dt.Default){if(void 0===wi)throw new pe(-203,!1);return null===wi?Uo(e,void 0,i):wi.get(e,i&Dt.Optional?null:void 0,i)}function ne(e,i=Dt.Default){return(function oc(){return oi}()||gr)(ot(e),i)}function Le(e,i=Dt.Default){return ne(e,Dd(i))}function Dd(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ac(e){const i=[];for(let t=0;t<e.length;t++){const o=ot(e[t]);if(Array.isArray(o)){if(0===o.length)throw new pe(900,!1);let a,d=Dt.Default;for(let p=0;p<o.length;p++){const g=o[p],_=af(g);"number"==typeof _?-1===_?a=g.token:d|=_:a=g}i.push(ne(a,d))}else i.push(ne(o))}return i}function cc(e,i){return e[dn]=i,e.prototype[dn]=i,e}function af(e){return e[dn]}function Ho(e){return{toString:e}.toString()}var Jc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Jc||{}),Zi=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Zi||{});const sr={},hn=[],Id=gn({\u0275cmp:gn}),eu=gn({\u0275dir:gn}),Xi=gn({\u0275pipe:gn}),zp=gn({\u0275mod:gn}),Ps=gn({\u0275fac:gn}),ha=gn({__NG_ELEMENT_ID__:gn}),tu=gn({__NG_ENV_ID__:gn});function Sd(e,i,t){let o=e.length;for(;;){const a=e.indexOf(i,t);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=i.length;if(a+d===o||e.charCodeAt(a+d)<=32)return a}t=a+1}}function uc(e,i,t){let o=0;for(;o<t.length;){const a=t[o];if("number"==typeof a){if(0!==a)break;o++;const d=t[o++],p=t[o++],g=t[o++];e.setAttribute(i,p,g,d)}else{const d=a,p=t[++o];lc(d)?e.setProperty(i,d,p):e.setAttribute(i,d,p),o++}}return o}function Td(e){return 3===e||4===e||6===e}function lc(e){return 64===e.charCodeAt(0)}function ar(e,i){if(null!==i&&0!==i.length)if(null===e||0===e.length)e=i.slice();else{let t=-1;for(let o=0;o<i.length;o++){const a=i[o];"number"==typeof a?t=a:0===t||$p(e,t,a,null,-1===t||2===t?i[++o]:null)}}return e}function $p(e,i,t,o,a){let d=0,p=e.length;if(-1===i)p=-1;else for(;d<e.length;){const g=e[d++];if("number"==typeof g){if(g===i){p=-1;break}if(g>i){p=d-1;break}}}for(;d<e.length;){const g=e[d];if("number"==typeof g)break;if(g===t){if(null===o)return void(null!==a&&(e[d+1]=a));if(o===e[d+1])return void(e[d+2]=a)}d++,null!==o&&d++,null!==a&&d++}-1!==p&&(e.splice(p,0,i),d=p+1),e.splice(d++,0,t),null!==o&&e.splice(d++,0,o),null!==a&&e.splice(d++,0,a)}const cr="ng-template";function xd(e,i,t){let o=0,a=!0;for(;o<e.length;){let d=e[o++];if("string"==typeof d&&a){const p=e[o++];if(t&&"class"===d&&-1!==Sd(p.toLowerCase(),i,0))return!0}else{if(1===d){for(;o<e.length&&"string"==typeof(d=e[o++]);)if(d.toLowerCase()===i)return!0;return!1}"number"==typeof d&&(a=!1)}}return!1}function uf(e){return 4===e.type&&e.value!==cr}function Xu(e,i,t){return i===(4!==e.type||t?e.value:cr)}function mg(e,i,t){let o=4;const a=e.attrs||[],d=function Fs(e){for(let i=0;i<e.length;i++)if(Td(e[i]))return i;return e.length}(a);let p=!1;for(let g=0;g<i.length;g++){const _=i[g];if("number"!=typeof _){if(!p)if(4&o){if(o=2|1&o,""!==_&&!Xu(e,_,t)||""===_&&1===i.length){if(zo(o))return!1;p=!0}}else{const E=8&o?_:i[++g];if(8&o&&null!==e.attrs){if(!xd(e.attrs,E,t)){if(zo(o))return!1;p=!0}continue}const R=gg(8&o?"class":_,a,uf(e),t);if(-1===R){if(zo(o))return!1;p=!0;continue}if(""!==E){let F;F=R>d?"":a[R+1].toLowerCase();const j=8&o?F:null;if(j&&-1!==Sd(j,E,0)||2&o&&E!==F){if(zo(o))return!1;p=!0}}}}else{if(!p&&!zo(o)&&!zo(_))return!1;if(p&&zo(_))continue;p=!1,o=_|1&o}}return zo(o)||p}function zo(e){return 0==(1&e)}function gg(e,i,t,o){if(null===i)return-1;let a=0;if(o||!t){let d=!1;for(;a<i.length;){const p=i[a];if(p===e)return a;if(3===p||6===p)d=!0;else{if(1===p||2===p){let g=i[++a];for(;"string"==typeof g;)g=i[++a];continue}if(4===p)break;if(0===p){a+=4;continue}}a+=d?1:2}return-1}return function qp(e,i){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const o=e[t];if("number"==typeof o)return-1;if(o===i)return t;t++}return-1}(i,e)}function dc(e,i,t=!1){for(let o=0;o<i.length;o++)if(mg(e,i[o],t))return!0;return!1}function fa(e,i){e:for(let t=0;t<i.length;t++){const o=i[t];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function Ls(e,i){return e?":not("+i.trim()+")":i}function Ad(e){let i=e[0],t=1,o=2,a="",d=!1;for(;t<e.length;){let p=e[t];if("string"==typeof p)if(2&o){const g=e[++t];a+="["+p+(g.length>0?'="'+g+'"':"")+"]"}else 8&o?a+="."+p:4&o&&(a+=" "+p);else""!==a&&!zo(p)&&(i+=Ls(d,a),a=""),o=p,d=d||!zo(o);t++}return""!==a&&(i+=Ls(d,a)),i}function xt(e){return Ho(()=>{const i=Qu(e),t={...i,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Jc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Zi.Emulated,styles:e.styles||hn,_:null,schemas:e.schemas||null,tView:null,id:""};$o(t);const o=e.dependencies;return t.directiveDefs=iu(o,!1),t.pipeDefs=iu(o,!0),t.id=function Gp(e){let i=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of t)i=Math.imul(31,i)+a.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(t),t})}function Ei(e){return sn(e)||ai(e)}function Md(e){return null!==e}function Sn(e){return Ho(()=>({type:e.type,bootstrap:e.bootstrap||hn,declarations:e.declarations||hn,imports:e.imports||hn,exports:e.exports||hn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function vg(e,i){if(null==e)return sr;const t={};for(const o in e)if(e.hasOwnProperty(o)){let a=e[o],d=a;Array.isArray(a)&&(d=a[1],a=a[0]),t[a]=o,i&&(i[a]=d)}return t}function fn(e){return Ho(()=>{const i=Qu(e);return $o(i),i})}function sn(e){return e[Id]||null}function ai(e){return e[eu]||null}function Ci(e){return e[Xi]||null}function Sr(e,i){const t=e[zp]||null;if(!t&&!0===i)throw new Error(`Type ${Fn(e)} does not have '\u0275mod' property.`);return t}function Qu(e){const i={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:e.inputs||sr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||hn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vg(e.inputs,i),outputs:vg(e.outputs)}}function $o(e){e.features?.forEach(i=>i(e))}function iu(e,i){if(!e)return null;const t=i?Ci:Ei;return()=>("function"==typeof e?e():e).map(o=>t(o)).filter(Md)}const Rn=0,Ue=1,Mt=2,Ln=3,Yn=4,ou=5,Di=6,qo=7,Jn=8,Co=9,js=10,St=11,Ju=12,Rd=13,Do=14,qn=15,el=16,kd=17,pa=18,Hr=19,ue=20,_e=21,Tr=22,Ii=23,Se=24,it=25,su=1,et=2,Ze=7,us=9,Be=11;function xr(e){return Array.isArray(e)&&"object"==typeof e[su]}function Cn(e){return Array.isArray(e)&&!0===e[su]}function At(e){return 0!=(4&e.flags)}function Go(e){return e.componentOffset>-1}function ho(e){return 1==(1&e.flags)}function Io(e){return!!e.template}function ma(e){return 0!=(512&e[Mt])}function Bs(e,i){return e.hasOwnProperty(Ps)?e[Ps]:null}let yr=null,Pd=!1;function Ti(e){const i=yr;return yr=e,i}const ga={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Kp(e){if(!lu(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Fd(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Zp(e){e.dirty=!0,function ui(e){if(void 0===e.liveConsumerNode)return;const i=Pd;Pd=!0;try{for(const t of e.liveConsumerNode)t.dirty||Zp(t)}finally{Pd=i}}(e),e.consumerMarkedDirty?.(e)}function mc(e){return e&&(e.nextProducerIndex=0),Ti(e)}function uu(e,i){if(Ti(i),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(lu(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)mf(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Fd(e){gc(e);for(let i=0;i<e.producerNode.length;i++){const t=e.producerNode[i],o=e.producerLastReadVersion[i];if(o!==t.version||(Kp(t),o!==t.version))return!0}return!1}function eo(e){if(gc(e),lu(e))for(let i=0;i<e.producerNode.length;i++)mf(e.producerNode[i],e.producerIndexOfThis[i]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function mf(e,i){if(function Xp(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),gc(e),1===e.liveConsumerNode.length)for(let o=0;o<e.producerNode.length;o++)mf(e.producerNode[o],e.producerIndexOfThis[o]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[i]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[i]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,i<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[i],a=e.liveConsumerNode[i];gc(a),a.producerIndexOfThis[o]=i}}function lu(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function gc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let jd=null;const al=()=>{},Dg=(()=>({...ga,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:al}))();class vc{constructor(i,t,o){this.previousValue=i,this.currentValue=t,this.firstChange=o}isFirstChange(){return this.firstChange}}function va(){return Jp}function Jp(e){return e.type.prototype.ngOnChanges&&(e.setInput=yf),$d}function $d(){const e=cl(this),i=e?.current;if(i){const t=e.previous;if(t===sr)e.previous=i;else for(let o in i)t[o]=i[o];e.current=null,this.ngOnChanges(i)}}function yf(e,i,t,o){const a=this.declaredInputs[t],d=cl(e)||function em(e,i){return e[qd]=i}(e,{previous:sr,current:null}),p=d.current||(d.current={}),g=d.previous,_=g[a];p[a]=new vc(_&&_.currentValue,i,g===sr),e[o]=i}va.ngInherit=!0;const qd="__ngSimpleChanges__";function cl(e){return e[qd]||null}const er=function(e,i,t){};function vn(e){for(;Array.isArray(e);)e=e[Rn];return e}function Vs(e,i){return vn(i[e])}function li(e,i){return vn(i[e.index])}function _a(e,i){return e.data[i]}function yn(e,i){const t=i[e];return xr(t)?t:t[Rn]}function di(e,i){return null==i?null:e[i]}function Ef(e){e[kd]=0}function Ig(e){1024&e[Mt]||(e[Mt]|=1024,du(e,1))}function ba(e){1024&e[Mt]&&(e[Mt]&=-1025,du(e,-1))}function du(e,i){let t=e[Ln];if(null===t)return;t[ou]+=i;let o=t;for(t=t[Ln];null!==t&&(1===i&&1===o[ou]||-1===i&&0===o[ou]);)t[ou]+=i,o=t,t=t[Ln]}const vt={lFrame:Ko(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function tm(){return vt.bindingsEnabled}function fo(){return null!==vt.skipHydrationRootTNode}function be(){return vt.lFrame.lView}function Kt(){return vt.lFrame.tView}function Tn(e){return vt.lFrame.contextLView=e,e[Jn]}function ps(e){return vt.lFrame.contextLView=null,e}function Mr(){let e=Cf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Cf(){return vt.lFrame.currentTNode}function ms(e,i){const t=vt.lFrame;t.currentTNode=e,t.isParent=i}function Dn(){return vt.lFrame.isParent}function Kd(){vt.lFrame.isParent=!1}function Rr(){const e=vt.lFrame;let i=e.bindingRootIndex;return-1===i&&(i=e.bindingRootIndex=e.tView.bindingStartIndex),i}function Ea(){return vt.lFrame.bindingIndex++}function Wo(e){const i=vt.lFrame,t=i.bindingIndex;return i.bindingIndex=i.bindingIndex+e,t}function Tg(e,i){const t=vt.lFrame;t.bindingIndex=t.bindingRootIndex=e,Yd(i)}function Yd(e){vt.lFrame.currentDirectiveIndex=e}function hu(e){const i=vt.lFrame.currentDirectiveIndex;return-1===i?null:e[i]}function Zd(){return vt.lFrame.currentQueryIndex}function fu(e){vt.lFrame.currentQueryIndex=e}function Kr(e){const i=e[Ue];return 2===i.type?i.declTNode:1===i.type?e[Di]:null}function fl(e,i,t){if(t&Dt.SkipSelf){let a=i,d=e;for(;!(a=a.parent,null!==a||t&Dt.Host||(a=Kr(d),null===a||(d=d[Do],10&a.type))););if(null===a)return!1;i=a,e=d}const o=vt.lFrame=pl();return o.currentTNode=i,o.lView=e,!0}function Tf(e){const i=pl(),t=e[Ue];vt.lFrame=i,i.currentTNode=t.firstChild,i.lView=e,i.tView=t,i.contextLView=e,i.bindingIndex=t.bindingStartIndex,i.inI18n=!1}function pl(){const e=vt.lFrame,i=null===e?null:e.child;return null===i?Ko(e):i}function Ko(e){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=i),i}function ml(){const e=vt.lFrame;return vt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const gl=ml;function Ca(){const e=ml();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Yr(){return vt.lFrame.selectedIndex}function Yo(e){vt.lFrame.selectedIndex=e}function Zn(){const e=vt.lFrame;return _a(e.tView,e.selectedIndex)}let sm=!0;function xf(){return sm}function wc(e){sm=e}function zs(e,i){for(let t=i.directiveStart,o=i.directiveEnd;t<o;t++){const d=e.data[t].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:g,ngAfterViewInit:_,ngAfterViewChecked:E,ngOnDestroy:I}=d;p&&(e.contentHooks??=[]).push(-t,p),g&&((e.contentHooks??=[]).push(t,g),(e.contentCheckHooks??=[]).push(t,g)),_&&(e.viewHooks??=[]).push(-t,_),E&&((e.viewHooks??=[]).push(t,E),(e.viewCheckHooks??=[]).push(t,E)),null!=I&&(e.destroyHooks??=[]).push(t,I)}}function Qd(e,i,t){Af(e,i,3,t)}function Jd(e,i,t,o){(3&e[Mt])===t&&Af(e,i,t,o)}function wl(e,i){let t=e[Mt];(3&t)===i&&(t&=8191,t+=1,e[Mt]=t)}function Af(e,i,t,o){const d=o??-1,p=i.length-1;let g=0;for(let _=void 0!==o?65535&e[kd]:0;_<p;_++)if("number"==typeof i[_+1]){if(g=i[_],null!=o&&g>=o)break}else i[_]<0&&(e[kd]+=65536),(g<d||-1==d)&&(Mf(e,t,i,_),e[kd]=(4294901760&e[kd])+_+2),_++}function Fi(e,i){er(4,e,i);const t=Ti(null);try{i.call(e)}finally{Ti(t),er(5,e,i)}}function Mf(e,i,t,o){const a=t[o]<0,d=t[o+1],g=e[a?-t[o]:t[o]];a?e[Mt]>>13<e[kd]>>16&&(3&e[Mt])===i&&(e[Mt]+=8192,Fi(g,d)):Fi(g,d)}const pu=-1;class kr{constructor(i,t,o){this.factory=i,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=o}}function ji(e){return e!==pu}function Zr(e){return 32767&e}function Xr(e,i){let t=function qr(e){return e>>16}(e),o=i;for(;t>0;)o=o[Do],t--;return o}let Da=!0;function Zo(e){const i=Da;return Da=e,i}const gu=255,Ag=5;let Rf=0;const mo={};function Te(e,i){const t=vu(e,i);if(-1!==t)return t;const o=i[Ue];o.firstCreatePass&&(e.injectorIndex=i.length,go(o.data,e),go(i,null),go(o.blueprint,null));const a=kf(e,i),d=e.injectorIndex;if(ji(a)){const p=Zr(a),g=Xr(a,i),_=g[Ue].data;for(let E=0;E<8;E++)i[d+E]=g[p+E]|_[p+E]}return i[d+8]=a,d}function go(e,i){e.push(0,0,0,0,0,0,0,0,i)}function vu(e,i){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===i[e.injectorIndex+8]?-1:e.injectorIndex}function kf(e,i){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,o=null,a=i;for(;null!==a;){if(o=Cl(a),null===o)return pu;if(t++,a=a[Do],-1!==o.injectorIndex)return o.injectorIndex|t<<16}return pu}function yu(e,i,t){!function Wn(e,i,t){let o;"string"==typeof t?o=t.charCodeAt(0)||0:t.hasOwnProperty(ha)&&(o=t[ha]),null==o&&(o=t[ha]=Rf++);const a=o&gu;i.data[e+(a>>Ag)]|=1<<a}(e,i,t)}function am(e,i,t){if(t&Dt.Optional||void 0!==e)return e;Os()}function gs(e,i,t,o){if(t&Dt.Optional&&void 0===o&&(o=null),!(t&(Dt.Self|Dt.Host))){const a=e[Co],d=Ir(void 0);try{return a?a.get(i,o,t&Dt.Optional):Uo(i,o,t&Dt.Optional)}finally{Ir(d)}}return am(o,0,t)}function eh(e,i,t,o=Dt.Default,a){if(null!==e){if(2048&i[Mt]&&!(o&Dt.Self)){const p=function El(e,i,t,o,a){let d=e,p=i;for(;null!==d&&null!==p&&2048&p[Mt]&&!(512&p[Mt]);){const g=th(d,p,t,o|Dt.Self,mo);if(g!==mo)return g;let _=d.parent;if(!_){const E=p[ue];if(E){const I=E.get(t,mo,o);if(I!==mo)return I}_=Cl(p),p=p[Do]}d=_}return a}(e,i,t,o,mo);if(p!==mo)return p}const d=th(e,i,t,o,mo);if(d!==mo)return d}return gs(i,t,o,a)}function th(e,i,t,o,a){const d=function Yv(e){if("string"==typeof e)return e.charCodeAt(0)||0;const i=e.hasOwnProperty(ha)?e[ha]:void 0;return"number"==typeof i?i>=0?i&gu:Mg:i}(t);if("function"==typeof d){if(!fl(i,e,o))return o&Dt.Host?am(a,0,o):gs(i,t,o,a);try{let p;if(p=d(o),null!=p||o&Dt.Optional)return p;Os()}finally{gl()}}else if("number"==typeof d){let p=null,g=vu(e,i),_=pu,E=o&Dt.Host?i[qn][Di]:null;for((-1===g||o&Dt.SkipSelf)&&(_=-1===g?kf(e,i):i[g+8],_!==pu&&Of(o,!1)?(p=i[Ue],g=Zr(_),i=Xr(_,i)):g=-1);-1!==g;){const I=i[Ue];if(nh(d,g,I.data)){const R=cm(g,i,t,p,o,E);if(R!==mo)return R}_=i[g+8],_!==pu&&Of(o,i[Ue].data[g+8]===E)&&nh(d,g,i)?(p=I,g=Zr(_),i=Xr(_,i)):g=-1}}return a}function cm(e,i,t,o,a,d){const p=i[Ue],g=p.data[e+8],I=Ai(g,p,t,null==o?Go(g)&&Da:o!=p&&0!=(3&g.type),a&Dt.Host&&d===g);return null!==I?$s(i,p,I,g):mo}function Ai(e,i,t,o,a){const d=e.providerIndexes,p=i.data,g=1048575&d,_=e.directiveStart,I=d>>20,F=a?g+I:e.directiveEnd;for(let j=o?g:g+I;j<F;j++){const H=p[j];if(j<_&&t===H||j>=_&&H.type===t)return j}if(a){const j=p[_];if(j&&Io(j)&&j.type===t)return _}return null}function $s(e,i,t,o){let a=e[t];const d=i.data;if(function mu(e){return e instanceof kr}(a)){const p=a;p.resolving&&function tf(e,i){const t=i?`. Dependency path: ${i.join(" > ")} > ${e}`:"";throw new pe(-200,`Circular dependency in DI detected for ${e}${t}`)}(function on(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():gt(e)}(d[t]));const g=Zo(p.canSeeViewProviders);p.resolving=!0;const E=p.injectImpl?Ir(p.injectImpl):null;fl(e,o,Dt.Default);try{a=e[t]=p.factory(void 0,d,e,o),i.firstCreatePass&&t>=o.directiveStart&&function bl(e,i,t){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:d}=i.type.prototype;if(o){const p=Jp(i);(t.preOrderHooks??=[]).push(e,p),(t.preOrderCheckHooks??=[]).push(e,p)}a&&(t.preOrderHooks??=[]).push(0-e,a),d&&((t.preOrderHooks??=[]).push(e,d),(t.preOrderCheckHooks??=[]).push(e,d))}(t,d[t],i)}finally{null!==E&&Ir(E),Zo(g),p.resolving=!1,gl()}}return a}function nh(e,i,t){return!!(t[i+(e>>Ag)]&1<<e)}function Of(e,i){return!(e&Dt.Self||e&Dt.Host&&i)}class Mi{constructor(i,t){this._tNode=i,this._lView=t}get(i,t,o){return eh(this._tNode,this._lView,i,Dd(o),t)}}function Mg(){return new Mi(Mr(),be())}function qs(e){return Wc(e)?()=>{const i=qs(ot(e));return i&&i()}:Bs(e)}function Cl(e){const i=e[Ue],t=i.type;return 2===t?i.declTNode:1===t?e[Di]:null}function Dl(e){return function _u(e,i){if("class"===i)return e.classes;if("style"===i)return e.styles;const t=e.attrs;if(t){const o=t.length;let a=0;for(;a<o;){const d=t[a];if(Td(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<o&&"string"==typeof t[a];)a++;else{if(d===i)return t[a+1];a+=2}}}return null}(Mr(),e)}const Il="__parameters__";function Sa(e,i,t){return Ho(()=>{const o=function ih(e){return function(...t){if(e){const o=e(...t);for(const a in o)this[a]=o[a]}}}(i);function a(...d){if(this instanceof a)return o.apply(this,d),this;const p=new a(...d);return g.annotation=p,g;function g(_,E,I){const R=_.hasOwnProperty(Il)?_[Il]:Object.defineProperty(_,Il,{value:[]})[Il];for(;R.length<=I;)R.push(null);return(R[I]=R[I]||[]).push(p),_}}return t&&(a.prototype=Object.create(t.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}function Xo(e,i){e.forEach(t=>Array.isArray(t)?Xo(t,i):i(t))}function hm(e,i,t){i>=e.length?e.push(t):e.splice(i,0,t)}function Pf(e,i){return i>=e.length-1?e.pop():e.splice(i,1)[0]}function oh(e,i){const t=[];for(let o=0;o<e;o++)t.push(i);return t}function to(e,i,t){let o=xl(e,i);return o>=0?e[1|o]=t:(o=~o,function Ff(e,i,t,o){let a=e.length;if(a==i)e.push(t,o);else if(1===a)e.push(o,e[0]),e[0]=t;else{for(a--,e.push(e[a-1],e[a]);a>i;)e[a]=e[a-2],a--;e[i]=t,e[i+1]=o}}(e,o,i,t)),o}function fm(e,i){const t=xl(e,i);if(t>=0)return e[1|t]}function xl(e,i){return function Ta(e,i,t){let o=0,a=e.length>>t;for(;a!==o;){const d=o+(a-o>>1),p=e[d<<t];if(i===p)return d<<t;p>i?a=d:o=d+1}return~(a<<t)}(e,i,1)}const xa=cc(Sa("Optional"),8),Rl=cc(Sa("SkipSelf"),4);function Aa(e){return 128==(128&e.flags)}var _s=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(_s||{});const hh=new Map;let fh=0;const Ks="__ngContext__";function Nr(e,i){xr(i)?(e[Ks]=i[Hr],function qf(e){hh.set(e[Hr],e)}(i)):e[Ks]=i}let jl;function Sc(e,i){return jl(e,i)}function Tu(e){const i=e[Ln];return Cn(i)?i[Ln]:i}function gh(e){return Dm(e[Ju])}function Bl(e){return Dm(e[Yn])}function Dm(e){for(;null!==e&&!Cn(e);)e=e[Yn];return e}function Vl(e,i,t,o,a){if(null!=o){let d,p=!1;Cn(o)?d=o:xr(o)&&(p=!0,o=o[Rn]);const g=vn(o);0===e&&null!==t?null==a?np(i,t,g):Ys(i,t,g,a||null,!0):1===e&&null!==t?Ys(i,t,g,a||null,!0):2===e?function wh(e,i,t){const o=Hl(e,i);o&&function Zg(e,i,t,o){e.removeChild(i,t,o)}(e,o,i,t)}(i,g,p):3===e&&i.destroyNode(g),null!=d&&function ip(e,i,t,o,a){const d=t[Ze];d!==vn(t)&&Vl(i,e,o,d,a);for(let g=Be;g<t.length;g++){const _=t[g];ql(_[Ue],_,e,i,o,d)}}(i,e,d,t,a)}}function Xf(e,i,t){return e.createElement(i,t)}function vh(e,i){const t=e[us],o=t.indexOf(i);ba(i),t.splice(o,1)}function yh(e,i){if(e.length<=Be)return;const t=Be+i,o=e[t];if(o){const a=o[el];null!==a&&a!==e&&vh(a,o),i>0&&(e[t-1][Yn]=o[Yn]);const d=Pf(e,Be+i);!function Sm(e,i){ql(e,i,i[St],2,null,null),i[Rn]=null,i[Di]=null}(o[Ue],o);const p=d[pa];null!==p&&p.detachView(d[Ue]),o[Ln]=null,o[Yn]=null,o[Mt]&=-129}return o}function Ul(e,i){if(!(256&i[Mt])){const t=i[St];i[Ii]&&eo(i[Ii]),i[Se]&&eo(i[Se]),t.destroyNode&&ql(e,i,t,3,null,null),function Jf(e){let i=e[Ju];if(!i)return Tm(e[Ue],e);for(;i;){let t=null;if(xr(i))t=i[Ju];else{const o=i[Be];o&&(t=o)}if(!t){for(;i&&!i[Yn]&&i!==e;)xr(i)&&Tm(i[Ue],i),i=i[Ln];null===i&&(i=e),xr(i)&&Tm(i[Ue],i),t=i&&i[Yn]}i=t}}(i)}}function Tm(e,i){if(!(256&i[Mt])){i[Mt]&=-129,i[Mt]|=256,function Yg(e,i){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let o=0;o<t.length;o+=2){const a=i[t[o]];if(!(a instanceof kr)){const d=t[o+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const g=a[d[p]],_=d[p+1];er(4,g,_);try{_.call(g)}finally{er(5,g,_)}}else{er(4,a,d);try{d.call(a)}finally{er(5,a,d)}}}}}(e,i),function ep(e,i){const t=e.cleanup,o=i[qo];if(null!==t)for(let d=0;d<t.length-1;d+=2)if("string"==typeof t[d]){const p=t[d+3];p>=0?o[p]():o[-p].unsubscribe(),d+=2}else t[d].call(o[t[d+1]]);null!==o&&(i[qo]=null);const a=i[_e];if(null!==a){i[_e]=null;for(let d=0;d<a.length;d++)(0,a[d])()}}(e,i),1===i[Ue].type&&i[St].destroy();const t=i[el];if(null!==t&&Cn(i[Ln])){t!==i[Ln]&&vh(t,i);const o=i[pa];null!==o&&o.detachView(e)}!function Ic(e){hh.delete(e[Hr])}(i)}}function tp(e,i,t){return function _h(e,i,t){let o=i;for(;null!==o&&40&o.type;)o=(i=o).parent;if(null===o)return t[Rn];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:d}=e.data[o.directiveStart+a];if(d===Zi.None||d===Zi.Emulated)return null}return li(o,t)}}(e,i.parent,t)}function Ys(e,i,t,o,a){e.insertBefore(i,t,o,a)}function np(e,i,t){e.appendChild(i,t)}function xm(e,i,t,o,a){null!==o?Ys(e,i,t,o,a):np(e,i,t)}function Hl(e,i){return e.parentNode(i)}function Am(e,i,t){return bh(e,i,t)}let Zs,ku,Ch,ap,bh=function zl(e,i,t){return 40&e.type?li(e,t):null};function Ru(e,i,t,o){const a=tp(e,o,i),d=i[St],g=Am(o.parent||i[Di],o,i);if(null!=a)if(Array.isArray(t))for(let _=0;_<t.length;_++)xm(d,a,t[_],g,!1);else xm(d,a,t,g,!1);void 0!==Zs&&Zs(d,o,i,t,a)}function Tc(e,i){if(null!==i){const t=i.type;if(3&t)return li(i,e);if(4&t)return bs(-1,e[i.index]);if(8&t){const o=i.child;if(null!==o)return Tc(e,o);{const a=e[i.index];return Cn(a)?bs(-1,a):vn(a)}}if(32&t)return Sc(i,e)()||vn(e[i.index]);{const o=rp(e,i);return null!==o?Array.isArray(o)?o[0]:Tc(Tu(e[qn]),o):Tc(e,i.next)}}return null}function rp(e,i){return null!==i?e[qn][Di].projection[i.projection]:null}function bs(e,i){const t=Be+e+1;if(t<i.length){const o=i[t],a=o[Ue].firstChild;if(null!==a)return Tc(o,a)}return i[Ze]}function Mm(e,i,t,o,a,d,p){for(;null!=t;){const g=o[t.index],_=t.type;if(p&&0===i&&(g&&Nr(vn(g),o),t.flags|=2),32!=(32&t.flags))if(8&_)Mm(e,i,t.child,o,a,d,!1),Vl(i,e,a,g,d);else if(32&_){const E=Sc(t,o);let I;for(;I=E();)Vl(i,e,a,I,d);Vl(i,e,a,g,d)}else 16&_?Rm(e,i,o,t,a,d):Vl(i,e,a,g,d);t=p?t.projectionNext:t.next}}function ql(e,i,t,o,a,d){Mm(t,o,e.firstChild,i,a,d,!1)}function Rm(e,i,t,o,a,d){const p=t[qn],_=p[Di].projection[o.projection];if(Array.isArray(_))for(let E=0;E<_.length;E++)Vl(i,e,a,_[E],d);else{let E=_;const I=p[Ln];Aa(o)&&(E.flags|=128),Mm(e,i,E,I,a,d,!0)}}function sp(e,i,t){""===t?e.removeAttribute(i,"class"):e.setAttribute(i,"class",t)}function km(e,i,t){const{mergedAttrs:o,classes:a,styles:d}=t;null!==o&&uc(e,i,o),null!==a&&sp(e,i,a),null!==d&&function fy(e,i,t){e.setAttribute(i,"style",t)}(e,i,d)}function Nu(e){return function Ou(){if(void 0===ku&&(ku=null,dt.trustedTypes))try{ku=dt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ku}()?.createHTML(e)||e}function Dh(e){return function Gl(){if(void 0===ap&&(ap=null,dt.trustedTypes))try{ap=dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ap}()?.createScriptURL(e)||e}class ws{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aa})`}}class Ih extends ws{getTypeName(){return"HTML"}}class Pm extends ws{getTypeName(){return"Style"}}class Fm extends ws{getTypeName(){return"Script"}}class Jg extends ws{getTypeName(){return"URL"}}class Wl extends ws{getTypeName(){return"ResourceURL"}}function fi(e){return e instanceof ws?e.changingThisBreaksApplicationSecurity:e}function Es(e,i){const t=function vo(e){return e instanceof ws&&e.getTypeName()||null}(e);if(null!=t&&t!==i){if("ResourceURL"===t&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${t} (see ${aa})`)}return t===i}class py{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const t=(new window.DOMParser).parseFromString(Nu(i),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(i):(t.removeChild(t.firstChild),t)}catch{return null}}}class ev{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const t=this.inertDocument.createElement("template");return t.innerHTML=Nu(i),t}}const Sh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zl(e){return(e=String(e)).match(Sh)?e:"unsafe:"+e}function Bi(e){const i={};for(const t of e.split(","))i[t]=!0;return i}function Xs(...e){const i={};for(const t of e)for(const o in t)t.hasOwnProperty(o)&&(i[o]=!0);return i}const hp=Bi("area,br,col,hr,img,wbr"),Xl=Bi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),an=Bi("rp,rt"),bn=Xs(hp,Xs(Xl,Bi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xs(an,Bi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xs(an,Xl)),Jr=Bi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xh=Xs(Jr,Bi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Bi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tv=Bi("script,style,template");class Ah{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let t=i.firstChild,o=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?o=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,o&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let a=this.checkClobberedElement(t,t.nextSibling);if(a){t=a;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(i){const t=i.nodeName.toLowerCase();if(!bn.hasOwnProperty(t))return this.sanitizedSomething=!0,!tv.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const o=i.attributes;for(let a=0;a<o.length;a++){const d=o.item(a),p=d.name,g=p.toLowerCase();if(!xh.hasOwnProperty(g)){this.sanitizedSomething=!0;continue}let _=d.value;Jr[g]&&(_=Zl(_)),this.buf.push(" ",p,'="',Um(_),'"')}return this.buf.push(">"),!0}endElement(i){const t=i.nodeName.toLowerCase();bn.hasOwnProperty(t)&&!hp.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(i){this.buf.push(Um(i))}checkClobberedElement(i,t){if(t&&(i.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return t}}const Mh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pu=/([^\#-~ |!])/g;function Um(e){return e.replace(/&/g,"&amp;").replace(Mh,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Pu,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rh;function ur(e,i){let t=null;try{Rh=Rh||function dp(e){const i=new ev(e);return function jm(){try{return!!(new window.DOMParser).parseFromString(Nu(""),"text/html")}catch{return!1}}()?new py(i):i}(e);let o=i?String(i):"";t=Rh.getInertBodyElement(o);let a=5,d=o;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,o=d,d=t.innerHTML,t=Rh.getInertBodyElement(o)}while(o!==d);return Nu((new Ah).sanitizeChildren(Yt(t)||t))}finally{if(t){const o=Yt(t)||t;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function Yt(e){return"content"in e&&function nv(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ei=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ei||{});function Oa(e){const i=Cs();return i?i.sanitize(ei.URL,e)||"":Es(e,"URL")?fi(e):Zl(gt(e))}function ea(e){const i=Cs();if(i)return Dh(i.sanitize(ei.RESOURCE_URL,e)||"");if(Es(e,"ResourceURL"))return Dh(fi(e));throw new pe(904,!1)}function Cs(){const e=be();return e&&e[js].sanitizer}const Pa=new S("ENVIRONMENT_INITIALIZER"),Oh=new S("INJECTOR",-1),pp=new S("INJECTOR_DEF_TYPES");class Mc{get(i,t=or){if(t===or){const o=new Error(`NullInjectorError: No provider for ${Fn(i)}!`);throw o.name="NullInjectorError",o}return t}}function iv(...e){return{\u0275providers:qm(0,e),\u0275fromNgModule:!0}}function qm(e,...i){const t=[],o=new Set;let a;const d=p=>{t.push(p)};return Xo(i,p=>{const g=p;Ql(g,d,[],o)&&(a||=[],a.push(g))}),void 0!==a&&Nh(a,d),t}function Nh(e,i){for(let t=0;t<e.length;t++){const{ngModule:o,providers:a}=e[t];Ds(a,d=>{i(d,o)})}}function Ql(e,i,t,o){if(!(e=ot(e)))return!1;let a=null,d=as(e);const p=!d&&sn(e);if(d||p){if(p&&!p.standalone)return!1;a=e}else{const _=e.ngModule;if(d=as(_),!d)return!1;a=_}const g=o.has(a);if(p){if(g)return!1;if(o.add(a),p.dependencies){const _="function"==typeof p.dependencies?p.dependencies():p.dependencies;for(const E of _)Ql(E,i,t,o)}}else{if(!d)return!1;{if(null!=d.imports&&!g){let E;o.add(a);try{Xo(d.imports,I=>{Ql(I,i,t,o)&&(E||=[],E.push(I))})}finally{}void 0!==E&&Nh(E,i)}if(!g){const E=Bs(a)||(()=>new a);i({provide:a,useFactory:E,deps:hn},a),i({provide:pp,useValue:a,multi:!0},a),i({provide:Pa,useValue:()=>ne(a),multi:!0},a)}const _=d.providers;if(null!=_&&!g){const E=e;Ds(_,I=>{i(I,E)})}}}return a!==e&&void 0!==e.providers}function Ds(e,i){for(let t of e)Kc(t)&&(t=t.\u0275providers),Array.isArray(t)?Ds(t,i):i(t)}const ov=gn({provide:String,useValue:gn});function Ph(e){return null!==e&&"object"==typeof e&&ov in e}function Fu(e){return"function"==typeof e}const Jl=new S("Set Injector scope."),Is={},wn={};let Ft;function ta(){return void 0===Ft&&(Ft=new Mc),Ft}class br{}class yo extends br{get destroyed(){return this._destroyed}constructor(i,t,o,a){super(),this.parent=t,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lh(i,p=>this.processProvider(p)),this.records.set(Oh,La(void 0,this)),a.has("environment")&&this.records.set(br,La(void 0,this));const d=this.records.get(Jl);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(pp.multi,hn,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of i)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const t=Ki(this),o=Ir(void 0);try{return i()}finally{Ki(t),Ir(o)}}get(i,t=or,o=Dt.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(tu))return i[tu](this);o=Dd(o);const d=Ki(this),p=Ir(void 0);try{if(!(o&Dt.SkipSelf)){let _=this.records.get(i);if(void 0===_){const E=function Wm(e){return"function"==typeof e||"object"==typeof e&&e instanceof S}(i)&&Xc(i);_=E&&this.injectableDefInScope(E)?La(kn(i),Is):null,this.records.set(i,_)}if(null!=_)return this.hydrate(i,_)}return(o&Dt.Self?ta():this.parent).get(i,t=o&Dt.Optional&&t===or?null:t)}catch(g){if("NullInjectorError"===g.name){if((g[In]=g[In]||[]).unshift(Fn(i)),d)throw g;return function cf(e,i,t,o){const a=e[In];throw i[Wi]&&a.unshift(i[Wi]),e.message=function Hp(e,i,t,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Fn(i);if(Array.isArray(i))a=i.map(Fn).join(" -> ");else if("object"==typeof i){let d=[];for(let p in i)if(i.hasOwnProperty(p)){let g=i[p];d.push(p+":"+("string"==typeof g?JSON.stringify(g):Fn(g)))}a=`{${d.join(", ")}}`}return`${t}${o?"("+o+")":""}[${a}]: ${e.replace(cs,"\n  ")}`}("\n"+e.message,a,t,o),e.ngTokenPath=a,e[In]=null,e}(g,i,"R3InjectorError",this.source)}throw g}finally{Ir(p),Ki(d)}}resolveInjectorInitializers(){const i=Ki(this),t=Ir(void 0);try{const a=this.get(Pa.multi,hn,Dt.Self);for(const d of a)d()}finally{Ki(i),Ir(t)}}toString(){const i=[],t=this.records;for(const o of t.keys())i.push(Fn(o));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new pe(205,!1)}processProvider(i){let t=Fu(i=ot(i))?i:ot(i&&i.provide);const o=function ed(e){return Ph(e)?La(void 0,e.useValue):La(function Fh(e,i,t){let o;if(Fu(e)){const a=ot(e);return Bs(a)||kn(a)}if(Ph(e))o=()=>ot(e.useValue);else if(function Fa(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...ac(e.deps||[]));else if(function mp(e){return!(!e||!e.useExisting)}(e))o=()=>ne(ot(e.useExisting));else{const a=ot(e&&(e.useClass||e.provide));if(!function td(e){return!!e.deps}(e))return Bs(a)||kn(a);o=()=>new a(...ac(e.deps))}return o}(e),Is)}(i);if(Fu(i)||!0!==i.multi)this.records.get(t);else{let a=this.records.get(t);a||(a=La(void 0,Is,!0),a.factory=()=>ac(a.multi),this.records.set(t,a)),t=i,a.multi.push(i)}this.records.set(t,o)}hydrate(i,t){return t.value===Is&&(t.value=wn,t.value=t.factory()),"object"==typeof t.value&&t.value&&function Ss(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(i){if(!i.providedIn)return!1;const t=ot(i.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(i){const t=this._onDestroyHooks.indexOf(i);-1!==t&&this._onDestroyHooks.splice(t,1)}}function kn(e){const i=Xc(e),t=null!==i?i.factory:Bs(e);if(null!==t)return t;if(e instanceof S)throw new pe(204,!1);if(e instanceof Function)return function Jo(e){const i=e.length;if(i>0)throw oh(i,"?"),new pe(204,!1);const t=function Zu(e){return e&&(e[ic]||e[kt])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new pe(204,!1)}function La(e,i,t=!1){return{factory:e,value:i,multi:t?[]:void 0}}function Lh(e,i){for(const t of e)Array.isArray(t)?Lh(t,i):t&&Kc(t)?Lh(t.\u0275providers,i):i(t)}const Lu=new S("AppId",{providedIn:"root",factory:()=>gp}),gp="ng",jh=new S("Platform Initializer"),Rc=new S("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),No=new S("AnimationModuleType"),nd=new S("CSP nonce",{providedIn:"root",factory:()=>function Ac(){if(void 0!==Ch)return Ch;if(typeof document<"u")return document;throw new pe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let bp=(e,i,t)=>null;function pi(e,i,t=!1){return bp(e,i,t)}class D{}class k{}class c{resolveComponentFactory(i){throw function N(e){const i=Error(`No component factory found for ${Fn(e)}.`);return i.ngComponent=e,i}(i)}}let s=(()=>{class e{static#e=this.NULL=new c}return e})();function l(){return h(Mr(),be())}function h(e,i){return new m(li(e,i))}let m=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=l}return e})();function y(e){return e instanceof m?e.nativeElement:e}class b{}let C=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function x(){const e=be(),t=yn(Mr().index,e);return(xr(t)?t:e)[St]}()}return e})(),O=(()=>{class e{static#e=this.\u0275prov=ke({token:e,providedIn:"root",factory:()=>null})}return e})();class P{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const B=new P("16.2.11"),z={};function sv(e,i=null,t=null,o){const a=wp(e,i,t,o);return a.resolveInjectorInitializers(),a}function wp(e,i=null,t=null,o,a=new Set){const d=[t||hn,iv(e)];return o=o||("object"==typeof e?void 0:Fn(e)),new yo(d,i||ta(),o||null,a)}let ti=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=or;static#t=this.NULL=new Mc;static create(t,o){if(Array.isArray(t))return sv({name:""},o,t,"");{const a=t.name??"";return sv({name:a},t.parent,t.providers,a)}}static#n=this.\u0275prov=ke({token:e,providedIn:"any",factory:()=>ne(Oh)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function z0(e){return e.ngOriginalError}class Nc{constructor(){this._console=console}handleError(i){const t=this._findOriginalError(i);this._console.error("ERROR",i),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(i){let t=i&&z0(i);for(;t&&z0(t);)t=z0(t);return t||null}}function q0(e){return i=>{setTimeout(e,void 0,i)}}const no=class j1 extends K{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,t,o){let a=i,d=t||(()=>null),p=o;if(i&&"object"==typeof i){const _=i;a=_.next?.bind(_),d=_.error?.bind(_),p=_.complete?.bind(_)}this.__isAsync&&(d=q0(d),a&&(a=q0(a)),p&&(p=q0(p)));const g=super.subscribe({next:a,error:d,complete:p});return i instanceof Ot&&i.add(g),g}};function gD(...e){}class Lt{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new no(!1),this.onMicrotaskEmpty=new no(!1),this.onStable=new no(!1),this.onError=new no(!1),typeof Zone>"u")throw new pe(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&t,a.shouldCoalesceRunChangeDetection=o,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function B1(){const e="function"==typeof dt.requestAnimationFrame;let i=dt[e?"requestAnimationFrame":"setTimeout"],t=dt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&t){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const a=t[Zone.__symbol__("OriginalDelegate")];a&&(t=a)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function H1(e){const i=()=>{!function U1(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(dt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,W0(e),e.isCheckStableRunning=!0,G0(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),W0(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,o,a,d,p,g)=>{if(function $1(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(g))return t.invokeTask(a,d,p,g);try{return vD(e),t.invokeTask(a,d,p,g)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&i(),yD(e)}},onInvoke:(t,o,a,d,p,g,_)=>{try{return vD(e),t.invoke(a,d,p,g,_)}finally{e.shouldCoalesceRunChangeDetection&&i(),yD(e)}},onHasTask:(t,o,a,d)=>{t.hasTask(a,d),o===a&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,W0(e),G0(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(t,o,a,d)=>(t.handleError(a,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Lt.isInAngularZone())throw new pe(909,!1)}static assertNotInAngularZone(){if(Lt.isInAngularZone())throw new pe(909,!1)}run(i,t,o){return this._inner.run(i,t,o)}runTask(i,t,o,a){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+a,i,V1,gD,gD);try{return d.runTask(p,t,o)}finally{d.cancelTask(p)}}runGuarded(i,t,o){return this._inner.runGuarded(i,t,o)}runOutsideAngular(i){return this._outer.run(i)}}const V1={};function G0(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function W0(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function vD(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function yD(e){e._nesting--,G0(e)}class z1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new no,this.onMicrotaskEmpty=new no,this.onStable=new no,this.onError=new no}run(i,t,o){return i.apply(t,o)}runGuarded(i,t,o){return i.apply(t,o)}runOutsideAngular(i){return i()}runTask(i,t,o,a){return i.apply(t,o)}}const _D=new S("",{providedIn:"root",factory:bD});function bD(){const e=Le(Lt);let i=!0;return yi(new mt(a=>{i=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{a.next(i),a.complete()})}),new mt(a=>{let d;e.runOutsideAngular(()=>{d=e.onStable.subscribe(()=>{Lt.assertNotInAngularZone(),queueMicrotask(()=>{!i&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(i=!0,a.next(!0))})})});const p=e.onUnstable.subscribe(()=>{Lt.assertInAngularZone(),i&&(i=!1,e.runOutsideAngular(()=>{a.next(!1)}))});return()=>{d.unsubscribe(),p.unsubscribe()}}).pipe(Wu()))}function zh(e){return e instanceof Function?e():e}let K0=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ke({token:e,providedIn:"root",factory:()=>new e})}return e})();function wy(e){for(;e;){e[Mt]|=64;const i=Tu(e);if(ma(e)&&!i)return e;e=i}return null}const ID=new S("",{providedIn:"root",factory:()=>!1});let P_=null;function AD(e,i){return e[i]??kD()}function MD(e,i){const t=kD();t.producerNode?.length&&(e[i]=P_,t.lView=e,P_=RD())}const ek={...ga,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{wy(e.lView)},lView:null};function RD(){return Object.create(ek)}function kD(){return P_??=RD(),P_}const zt={};function Pr(e){OD(Kt(),be(),Yr()+e,!1)}function OD(e,i,t,o){if(!o)if(3==(3&i[Mt])){const d=e.preOrderCheckHooks;null!==d&&Qd(i,d,t)}else{const d=e.preOrderHooks;null!==d&&Jd(i,d,0,t)}Yo(t)}function ge(e,i=Dt.Default){const t=be();return null===t?ne(e,i):eh(Mr(),t,ot(e),i)}function F_(){throw new Error("invalid")}function L_(e,i,t,o,a,d,p,g,_,E,I){const R=i.blueprint.slice();return R[Rn]=a,R[Mt]=140|o,(null!==E||e&&2048&e[Mt])&&(R[Mt]|=2048),Ef(R),R[Ln]=R[Do]=e,R[Jn]=t,R[js]=p||e&&e[js],R[St]=g||e&&e[St],R[Co]=_||e&&e[Co]||null,R[Di]=d,R[Hr]=function Fl(){return fh++}(),R[Tr]=I,R[ue]=E,R[qn]=2==i.type?e[qn]:R,R}function uv(e,i,t,o,a){let d=e.data[i];if(null===d)d=function Y0(e,i,t,o,a){const d=Cf(),p=Dn(),_=e.data[i]=function ck(e,i,t,o,a,d){let p=i?i.injectorIndex:-1,g=0;return fo()&&(g|=128),{type:t,index:o,insertBeforeIndex:null,injectorIndex:p,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:g,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,t,i,o,a);return null===e.firstChild&&(e.firstChild=_),null!==d&&(p?null==d.child&&null!==_.parent&&(d.child=_):null===d.next&&(d.next=_,_.prev=d)),_}(e,i,t,o,a),function nm(){return vt.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=t,d.value=o,d.attrs=a;const p=function Pi(){const e=vt.lFrame,i=e.currentTNode;return e.isParent?i:i.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return ms(d,!0),d}function Ey(e,i,t,o){if(0===t)return-1;const a=i.length;for(let d=0;d<t;d++)i.push(o),e.blueprint.push(o),e.data.push(null);return a}function ND(e,i,t,o,a){const d=AD(i,Ii),p=Yr(),g=2&o;try{Yo(-1),g&&i.length>it&&OD(e,i,it,!1),er(g?2:0,a);const E=g?d:null,I=mc(E);try{null!==E&&(E.dirty=!1),t(o,a)}finally{uu(E,I)}}finally{g&&null===i[Ii]&&MD(i,Ii),Yo(p),er(g?3:1,a)}}function Z0(e,i,t){if(At(i)){const o=Ti(null);try{const d=i.directiveEnd;for(let p=i.directiveStart;p<d;p++){const g=e.data[p];g.contentQueries&&g.contentQueries(1,t[p],p)}}finally{Ti(o)}}}function X0(e,i,t){tm()&&(function mk(e,i,t,o){const a=t.directiveStart,d=t.directiveEnd;Go(t)&&function Ek(e,i,t){const o=li(i,e),a=PD(t);let p=16;t.signals?p=4096:t.onPush&&(p=64);const g=j_(e,L_(e,a,null,p,o,i,null,e[js].rendererFactory.createRenderer(o,t),null,null,null));e[i.index]=g}(i,t,e.data[a+t.componentOffset]),e.firstCreatePass||Te(t,i),Nr(o,i);const p=t.initialInputs;for(let g=a;g<d;g++){const _=e.data[g],E=$s(i,e,g,t);Nr(E,i),null!==p&&Ck(0,g-a,E,_,0,p),Io(_)&&(yn(t.index,i)[Jn]=$s(i,e,g,t))}}(e,i,t,li(t,i)),64==(64&t.flags)&&VD(e,i,t))}function Q0(e,i,t=li){const o=i.localNames;if(null!==o){let a=i.index+1;for(let d=0;d<o.length;d+=2){const p=o[d+1],g=-1===p?t(i,e):e[p];e[a++]=g}}}function PD(e){const i=e.tView;return null===i||i.incompleteFirstPass?e.tView=J0(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):i}function J0(e,i,t,o,a,d,p,g,_,E,I){const R=it+o,F=R+a,j=function nk(e,i){const t=[];for(let o=0;o<i;o++)t.push(o<e?null:zt);return t}(R,F),H="function"==typeof E?E():E;return j[Ue]={type:e,blueprint:j,template:t,queries:null,viewQuery:g,declTNode:i,data:j.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:_,consts:H,incompleteFirstPass:!1,ssrId:I}}let FD=e=>null;function LD(e,i,t,o){for(let a in e)if(e.hasOwnProperty(a)){t=null===t?{}:t;const d=e[a];null===o?jD(t,i,a,d):o.hasOwnProperty(a)&&jD(t,i,o[a],d)}return t}function jD(e,i,t,o){e.hasOwnProperty(t)?e[t].push(i,o):e[t]=[i,o]}function qa(e,i,t,o,a,d,p,g){const _=li(i,t);let I,E=i.inputs;!g&&null!=E&&(I=E[o])?(iw(e,t,I,o,a),Go(i)&&function dk(e,i){const t=yn(i,e);16&t[Mt]||(t[Mt]|=64)}(t,i.index)):3&i.type&&(o=function lk(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=p?p(a,i.value||"",o):a,d.setProperty(_,o,a))}function ew(e,i,t,o){if(tm()){const a=null===o?null:{"":-1},d=function vk(e,i){const t=e.directiveRegistry;let o=null,a=null;if(t)for(let d=0;d<t.length;d++){const p=t[d];if(dc(i,p.selectors,!1))if(o||(o=[]),Io(p))if(null!==p.findHostDirectiveDefs){const g=[];a=a||new Map,p.findHostDirectiveDefs(p,g,a),o.unshift(...g,p),tw(e,i,g.length)}else o.unshift(p),tw(e,i,0);else a=a||new Map,p.findHostDirectiveDefs?.(p,o,a),o.push(p)}return null===o?null:[o,a]}(e,t);let p,g;null===d?p=g=null:[p,g]=d,null!==p&&BD(e,i,t,p,a,g),a&&function yk(e,i,t){if(i){const o=e.localNames=[];for(let a=0;a<i.length;a+=2){const d=t[i[a+1]];if(null==d)throw new pe(-301,!1);o.push(i[a],d)}}}(t,o,a)}t.mergedAttrs=ar(t.mergedAttrs,t.attrs)}function BD(e,i,t,o,a,d){for(let E=0;E<o.length;E++)yu(Te(t,i),e,o[E].type);!function bk(e,i,t){e.flags|=1,e.directiveStart=i,e.directiveEnd=i+t,e.providerIndexes=i}(t,e.data.length,o.length);for(let E=0;E<o.length;E++){const I=o[E];I.providersResolver&&I.providersResolver(I)}let p=!1,g=!1,_=Ey(e,i,o.length,null);for(let E=0;E<o.length;E++){const I=o[E];t.mergedAttrs=ar(t.mergedAttrs,I.hostAttrs),wk(e,t,i,_,I),_k(_,I,a),null!==I.contentQueries&&(t.flags|=4),(null!==I.hostBindings||null!==I.hostAttrs||0!==I.hostVars)&&(t.flags|=64);const R=I.type.prototype;!p&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),p=!0),!g&&(R.ngOnChanges||R.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),g=!0),_++}!function uk(e,i,t){const a=i.directiveEnd,d=e.data,p=i.attrs,g=[];let _=null,E=null;for(let I=i.directiveStart;I<a;I++){const R=d[I],F=t?t.get(R):null,H=F?F.outputs:null;_=LD(R.inputs,I,_,F?F.inputs:null),E=LD(R.outputs,I,E,H);const W=null===_||null===p||uf(i)?null:Dk(_,I,p);g.push(W)}null!==_&&(_.hasOwnProperty("class")&&(i.flags|=8),_.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=g,i.inputs=_,i.outputs=E}(e,t,d)}function VD(e,i,t){const o=t.directiveStart,a=t.directiveEnd,d=t.index,p=function rm(){return vt.lFrame.currentDirectiveIndex}();try{Yo(d);for(let g=o;g<a;g++){const _=e.data[g],E=i[g];Yd(g),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&gk(_,E)}}finally{Yo(-1),Yd(p)}}function gk(e,i){null!==e.hostBindings&&e.hostBindings(1,i)}function tw(e,i,t){i.componentOffset=t,(e.components??=[]).push(i.index)}function _k(e,i,t){if(t){if(i.exportAs)for(let o=0;o<i.exportAs.length;o++)t[i.exportAs[o]]=e;Io(i)&&(t[""]=e)}}function wk(e,i,t,o,a){e.data[o]=a;const d=a.factory||(a.factory=Bs(a.type)),p=new kr(d,Io(a),ge);e.blueprint[o]=p,t[o]=p,function fk(e,i,t,o,a){const d=a.hostBindings;if(d){let p=e.hostBindingOpCodes;null===p&&(p=e.hostBindingOpCodes=[]);const g=~i.index;(function pk(e){let i=e.length;for(;i>0;){const t=e[--i];if("number"==typeof t&&t<0)return t}return 0})(p)!=g&&p.push(g),p.push(t,o,d)}}(e,i,o,Ey(e,t,a.hostVars,zt),a)}function ad(e,i,t,o,a,d){const p=li(e,i);!function nw(e,i,t,o,a,d,p){if(null==d)e.removeAttribute(i,a,t);else{const g=null==p?gt(d):p(d,o||"",a);e.setAttribute(i,a,g,t)}}(i[St],p,d,e.value,t,o,a)}function Ck(e,i,t,o,a,d){const p=d[i];if(null!==p)for(let g=0;g<p.length;)UD(o,t,p[g++],p[g++],p[g++])}function UD(e,i,t,o,a){const d=Ti(null);try{const p=e.inputTransforms;null!==p&&p.hasOwnProperty(o)&&(a=p[o].call(i,a)),null!==e.setInput?e.setInput(i,a,t,o):i[o]=a}finally{Ti(d)}}function Dk(e,i,t){let o=null,a=0;for(;a<t.length;){const d=t[a];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const p=e[d];for(let g=0;g<p.length;g+=2)if(p[g]===i){o.push(d,p[g+1],t[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function HD(e,i,t,o){return[e,!0,!1,i,null,0,o,t,null,null,null]}function zD(e,i){const t=e.contentQueries;if(null!==t)for(let o=0;o<t.length;o+=2){const d=t[o+1];if(-1!==d){const p=e.data[d];fu(t[o]),p.contentQueries(2,i[d],d)}}}function j_(e,i){return e[Ju]?e[Rd][Yn]=i:e[Ju]=i,e[Rd]=i,i}function rw(e,i,t){fu(0);const o=Ti(null);try{i(e,t)}finally{Ti(o)}}function $D(e){return e[qo]||(e[qo]=[])}function qD(e){return e.cleanup||(e.cleanup=[])}function GD(e,i,t){return(null===e||Io(e))&&(t=function Gd(e){for(;Array.isArray(e);){if("object"==typeof e[su])return e;e=e[Rn]}return null}(t[i.index])),t[St]}function WD(e,i){const t=e[Co],o=t?t.get(Nc,null):null;o&&o.handleError(i)}function iw(e,i,t,o,a){for(let d=0;d<t.length;){const p=t[d++],g=t[d++];UD(e.data[p],i[p],o,g,a)}}function $h(e,i,t){const o=Vs(i,e);!function Mu(e,i,t){e.setValue(i,t)}(e[St],o,t)}function Ik(e,i){const t=yn(i,e),o=t[Ue];!function Sk(e,i){for(let t=i.length;t<e.blueprint.length;t++)i.push(e.blueprint[t])}(o,t);const a=t[Rn];null!==a&&null===t[Tr]&&(t[Tr]=pi(a,t[Co])),ow(o,t,t[Jn])}function ow(e,i,t){Tf(i);try{const o=e.viewQuery;null!==o&&rw(1,o,t);const a=e.template;null!==a&&ND(e,i,a,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&zD(e,i),e.staticViewQueries&&rw(2,e.viewQuery,t);const d=e.components;null!==d&&function Tk(e,i){for(let t=0;t<i.length;t++)Ik(e,i[t])}(i,d)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{i[Mt]&=-5,Ca()}}let KD=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,o,a){const d=typeof Zone>"u"?null:Zone.current,p=function Cg(e,i,t){const o=Object.create(Dg);t&&(o.consumerAllowSignalWrites=!0),o.fn=e,o.schedule=i;const a=p=>{o.cleanupFn=p};return o.ref={notify:()=>Zp(o),run:()=>{if(o.dirty=!1,o.hasRun&&!Fd(o))return;o.hasRun=!0;const p=mc(o);try{o.cleanupFn(),o.cleanupFn=al,o.fn(a)}finally{uu(o,p)}},cleanup:()=>o.cleanupFn()},o.ref}(t,E=>{this.all.has(E)&&this.queue.set(E,d)},a);let g;this.all.add(p),p.notify();const _=()=>{p.cleanup(),g?.(),this.all.delete(p),this.queue.delete(p)};return g=o?.onDestroy(_),{destroy:_}}flush(){if(0!==this.queue.size)for(const[t,o]of this.queue)this.queue.delete(t),o?o.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ke({token:e,providedIn:"root",factory:()=>new e})}return e})();function B_(e,i,t){let o=t?e.styles:null,a=t?e.classes:null,d=0;if(null!==i)for(let p=0;p<i.length;p++){const g=i[p];"number"==typeof g?d=g:1==d?a=tc(a,g):2==d&&(o=tc(o,g+": "+i[++p]+";"))}t?e.styles=o:e.stylesWithoutHost=o,t?e.classes=a:e.classesWithoutHost=a}function Cy(e,i,t,o,a=!1){for(;null!==t;){const d=i[t.index];null!==d&&o.push(vn(d)),Cn(d)&&YD(d,o);const p=t.type;if(8&p)Cy(e,i,t.child,o);else if(32&p){const g=Sc(t,i);let _;for(;_=g();)o.push(_)}else if(16&p){const g=rp(i,t);if(Array.isArray(g))o.push(...g);else{const _=Tu(i[qn]);Cy(_[Ue],_,g,o,!0)}}t=a?t.projectionNext:t.next}return o}function YD(e,i){for(let t=Be;t<e.length;t++){const o=e[t],a=o[Ue].firstChild;null!==a&&Cy(o[Ue],o,a,i)}e[Ze]!==e[Rn]&&i.push(e[Ze])}function V_(e,i,t,o=!0){const a=i[js],d=a.rendererFactory,p=a.afterRenderEventManager;d.begin?.(),p?.begin();try{ZD(e,i,e.template,t)}catch(_){throw o&&WD(i,_),_}finally{d.end?.(),a.effectManager?.flush(),p?.end()}}function ZD(e,i,t,o){const a=i[Mt];if(256!=(256&a)){i[js].effectManager?.flush(),Tf(i);try{Ef(i),function Sf(e){return vt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&ND(e,i,t,2,o);const p=3==(3&a);if(p){const E=e.preOrderCheckHooks;null!==E&&Qd(i,E,null)}else{const E=e.preOrderHooks;null!==E&&Jd(i,E,0,null),wl(i,0)}if(function Mk(e){for(let i=gh(e);null!==i;i=Bl(i)){if(!i[et])continue;const t=i[us];for(let o=0;o<t.length;o++){Ig(t[o])}}}(i),XD(i,2),null!==e.contentQueries&&zD(e,i),p){const E=e.contentCheckHooks;null!==E&&Qd(i,E)}else{const E=e.contentHooks;null!==E&&Jd(i,E,1),wl(i,1)}!function tk(e,i){const t=e.hostBindingOpCodes;if(null===t)return;const o=AD(i,Se);try{for(let a=0;a<t.length;a++){const d=t[a];if(d<0)Yo(~d);else{const p=d,g=t[++a],_=t[++a];Tg(g,p),o.dirty=!1;const E=mc(o);try{_(2,i[p])}finally{uu(o,E)}}}}finally{null===i[Se]&&MD(i,Se),Yo(-1)}}(e,i);const g=e.components;null!==g&&JD(i,g,0);const _=e.viewQuery;if(null!==_&&rw(2,_,o),p){const E=e.viewCheckHooks;null!==E&&Qd(i,E)}else{const E=e.viewHooks;null!==E&&Jd(i,E,2),wl(i,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),i[Mt]&=-73,ba(i)}finally{Ca()}}}function XD(e,i){for(let t=gh(e);null!==t;t=Bl(t))for(let o=Be;o<t.length;o++)QD(t[o],i)}function Rk(e,i,t){QD(yn(i,e),t)}function QD(e,i){if(!function ll(e){return 128==(128&e[Mt])}(e))return;const t=e[Ue],o=e[Mt];if(80&o&&0===i||1024&o||2===i)ZD(t,e,t.template,e[Jn]);else if(e[ou]>0){XD(e,1);const a=t.components;null!==a&&JD(e,a,1)}}function JD(e,i,t){for(let o=0;o<i.length;o++)Rk(e,i[o],t)}class Dy{get rootNodes(){const i=this._lView,t=i[Ue];return Cy(t,i,t.firstChild,[])}constructor(i,t){this._lView=i,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Jn]}set context(i){this._lView[Jn]=i}get destroyed(){return 256==(256&this._lView[Mt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Ln];if(Cn(i)){const t=i[8],o=t?t.indexOf(this):-1;o>-1&&(yh(i,o),Pf(t,o))}this._attachedToViewContainer=!1}Ul(this._lView[Ue],this._lView)}onDestroy(i){!function Ar(e,i){if(256==(256&e[Mt]))throw new pe(911,!1);null===e[_e]&&(e[_e]=[]),e[_e].push(i)}(this._lView,i)}markForCheck(){wy(this._cdRefInjectingView||this._lView)}detach(){this._lView[Mt]&=-129}reattach(){this._lView[Mt]|=128}detectChanges(){V_(this._lView[Ue],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wg(e,i){ql(e,i,i[St],2,null,null)}(this._lView[Ue],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new pe(902,!1);this._appRef=i}}class kk extends Dy{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;V_(i[Ue],i,i[Jn],!1)}checkNoChanges(){}get context(){return null}}class eI extends s{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const t=sn(i);return new Iy(t,this.ngModule)}}function tI(e){const i=[];for(let t in e)e.hasOwnProperty(t)&&i.push({propName:e[t],templateName:t});return i}class Nk{constructor(i,t){this.injector=i,this.parentInjector=t}get(i,t,o){o=Dd(o);const a=this.injector.get(i,z,o);return a!==z||t===z?a:this.parentInjector.get(i,t,o)}}class Iy extends k{get inputs(){const i=this.componentDef,t=i.inputTransforms,o=tI(i.inputs);if(null!==t)for(const a of o)t.hasOwnProperty(a.propName)&&(a.transform=t[a.propName]);return o}get outputs(){return tI(this.componentDef.outputs)}constructor(i,t){super(),this.componentDef=i,this.ngModule=t,this.componentType=i.type,this.selector=function nu(e){return e.map(Ad).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!t}create(i,t,o,a){let d=(a=a||this.ngModule)instanceof br?a:a?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const p=d?new Nk(i,d):i,g=p.get(b,null);if(null===g)throw new pe(407,!1);const R={rendererFactory:g,sanitizer:p.get(O,null),effectManager:p.get(KD,null),afterRenderEventManager:p.get(K0,null)},F=g.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",H=o?function rk(e,i,t,o){const d=o.get(ID,!1)||t===Zi.ShadowDom,p=e.selectRootElement(i,d);return function ik(e){FD(e)}(p),p}(F,o,this.componentDef.encapsulation,p):Xf(F,j,function Ok(e){const i=e.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(j)),we=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ae=null;null!==H&&(ae=pi(H,p,!0));const ze=J0(0,null,null,1,0,null,null,null,null,null,null),We=L_(null,ze,null,we,null,null,R,F,p,null,ae);let Ut,rr;Tf(We);try{const Dr=this.componentDef;let Lo,Qa=null;Dr.findHostDirectiveDefs?(Lo=[],Qa=new Map,Dr.findHostDirectiveDefs(Dr,Lo,Qa),Lo.push(Dr)):Lo=[Dr];const qu=function Fk(e,i){const t=e[Ue],o=it;return e[o]=i,uv(t,o,2,"#host",null)}(We,H),U0=function Lk(e,i,t,o,a,d,p){const g=a[Ue];!function jk(e,i,t,o){for(const a of e)i.mergedAttrs=ar(i.mergedAttrs,a.hostAttrs);null!==i.mergedAttrs&&(B_(i,i.mergedAttrs,!0),null!==t&&km(o,t,i))}(o,e,i,p);let _=null;null!==i&&(_=pi(i,a[Co]));const E=d.rendererFactory.createRenderer(i,t);let I=16;t.signals?I=4096:t.onPush&&(I=64);const R=L_(a,PD(t),null,I,a[e.index],e,d,E,null,null,_);return g.firstCreatePass&&tw(g,e,o.length-1),j_(a,R),a[e.index]=R}(qu,H,Dr,Lo,We,R,F);rr=_a(ze,it),H&&function Vk(e,i,t,o){if(o)uc(e,t,["ng-version",B.full]);else{const{attrs:a,classes:d}=function ru(e){const i=[],t=[];let o=1,a=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===a?""!==d&&i.push(d,e[++o]):8===a&&t.push(d);else{if(!zo(a))break;a=d}o++}return{attrs:i,classes:t}}(i.selectors[0]);a&&uc(e,t,a),d&&d.length>0&&sp(e,t,d.join(" "))}}(F,Dr,H,o),void 0!==t&&function Uk(e,i,t){const o=e.projection=[];for(let a=0;a<i.length;a++){const d=t[a];o.push(null!=d?Array.from(d):null)}}(rr,this.ngContentSelectors,t),Ut=function Bk(e,i,t,o,a,d){const p=Mr(),g=a[Ue],_=li(p,a);BD(g,a,p,t,null,o);for(let I=0;I<t.length;I++)Nr($s(a,g,p.directiveStart+I,p),a);VD(g,a,p),_&&Nr(_,a);const E=$s(a,g,p.directiveStart+p.componentOffset,p);if(e[Jn]=a[Jn]=E,null!==d)for(const I of d)I(E,i);return Z0(g,p,e),E}(U0,Dr,Lo,Qa,We,[Hk]),ow(ze,We,null)}finally{Ca()}return new Pk(this.componentType,Ut,h(rr,We),We,rr)}}class Pk extends D{constructor(i,t,o,a,d){super(),this.location=o,this._rootLView=a,this._tNode=d,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new kk(a),this.componentType=i}setInput(i,t){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),t))return;const d=this._rootLView;iw(d[Ue],d,a,i,t),this.previousInputValues.set(i,t),wy(yn(this._tNode.index,d))}}get injector(){return new Mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function Hk(){const e=Mr();zs(be()[Ue],e)}function Pc(e){let i=function nI(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const o=[e];for(;i;){let a;if(Io(e))a=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new pe(903,!1);a=i.\u0275dir}if(a){if(t){o.push(a);const p=e;p.inputs=U_(e.inputs),p.inputTransforms=U_(e.inputTransforms),p.declaredInputs=U_(e.declaredInputs),p.outputs=U_(e.outputs);const g=a.hostBindings;g&&Gk(e,g);const _=a.viewQuery,E=a.contentQueries;if(_&&$k(e,_),E&&qk(e,E),Bo(e.inputs,a.inputs),Bo(e.declaredInputs,a.declaredInputs),Bo(e.outputs,a.outputs),null!==a.inputTransforms&&(null===p.inputTransforms&&(p.inputTransforms={}),Bo(p.inputTransforms,a.inputTransforms)),Io(a)&&a.data.animation){const I=e.data;I.animation=(I.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let p=0;p<d.length;p++){const g=d[p];g&&g.ngInherit&&g(e),g===Pc&&(t=!1)}}i=Object.getPrototypeOf(i)}!function zk(e){let i=0,t=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=i+=a.hostVars,a.hostAttrs=ar(a.hostAttrs,t=ar(t,a.hostAttrs))}}(o)}function U_(e){return e===sr?{}:e===hn?[]:e}function $k(e,i){const t=e.viewQuery;e.viewQuery=t?(o,a)=>{i(o,a),t(o,a)}:i}function qk(e,i){const t=e.contentQueries;e.contentQueries=t?(o,a,d)=>{i(o,a,d),t(o,a,d)}:i}function Gk(e,i){const t=e.hostBindings;e.hostBindings=t?(o,a)=>{i(o,a),t(o,a)}:i}function sI(e){const i=e.inputConfig,t={};for(const o in i)if(i.hasOwnProperty(o)){const a=i[o];Array.isArray(a)&&a[2]&&(t[o]=a[2])}e.inputTransforms=t}function H_(e){return!!sw(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function sw(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function cd(e,i,t){return e[i]=t}function es(e,i,t){return!Object.is(e[i],t)&&(e[i]=t,!0)}function Km(e,i,t,o){const a=es(e,i,t);return es(e,i+1,o)||a}function ud(e,i,t,o){const a=be();return es(a,Ea(),i)&&(Kt(),ad(Zn(),a,e,i,t,o)),ud}function dv(e,i,t,o){return es(e,Ea(),t)?i+gt(t)+o:zt}function hv(e,i,t,o,a,d){const g=Km(e,function po(){return vt.lFrame.bindingIndex}(),t,a);return Wo(2),g?i+gt(t)+o+gt(a)+d:zt}function ra(e,i,t,o,a,d,p,g){const _=be(),E=Kt(),I=e+it,R=E.firstCreatePass?function vO(e,i,t,o,a,d,p,g,_){const E=i.consts,I=uv(i,e,4,p||null,di(E,g));ew(i,t,I,di(E,_)),zs(i,I);const R=I.tView=J0(2,I,o,a,d,i.directiveRegistry,i.pipeRegistry,null,i.schemas,E,null);return null!==i.queries&&(i.queries.template(i,I),R.queries=i.queries.embeddedTView(I)),I}(I,E,_,i,t,o,a,d,p):E.data[I];ms(R,!1);const F=_I(E,_,R,e);xf()&&Ru(E,_,F,R),Nr(F,_),j_(_,_[I]=HD(F,_,F,R)),ho(R)&&X0(E,_,R),null!=p&&Q0(_,R,g)}let _I=function bI(e,i,t,o){return wc(!0),i[St].createComment("")};function Lc(e){return function fs(e,i){return e[i]}(function Df(){return vt.lFrame.contextLView}(),it+e)}function ro(e,i,t){const o=be();return es(o,Ea(),i)&&qa(Kt(),Zn(),o,e,i,o[St],t,!1),ro}function hw(e,i,t,o,a){const p=a?"class":"style";iw(e,t,i.inputs[p],p,o)}function De(e,i,t,o){const a=be(),d=Kt(),p=it+e,g=a[St],_=d.firstCreatePass?function wO(e,i,t,o,a,d){const p=i.consts,_=uv(i,e,2,o,di(p,a));return ew(i,t,_,di(p,d)),null!==_.attrs&&B_(_,_.attrs,!1),null!==_.mergedAttrs&&B_(_,_.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,_),_}(p,d,a,i,t,o):d.data[p],E=wI(d,a,_,g,i,e);a[p]=E;const I=ho(_);return ms(_,!0),km(g,E,_),32!=(32&_.flags)&&xf()&&Ru(d,a,E,_),0===function Ht(){return vt.lFrame.elementDepthCount}()&&Nr(E,a),function dl(){vt.lFrame.elementDepthCount++}(),I&&(X0(d,a,_),Z0(d,_,a)),null!==o&&Q0(a,_),De}function Fe(){let e=Mr();Dn()?Kd():(e=e.parent,ms(e,!1));const i=e;(function Sg(e){return vt.skipHydrationRootTNode===e})(i)&&function Gn(){vt.skipHydrationRootTNode=null}(),function _c(){vt.lFrame.elementDepthCount--}();const t=Kt();return t.firstCreatePass&&(zs(t,e),At(e)&&t.queries.elementEnd(e)),null!=i.classesWithoutHost&&function hi(e){return 0!=(8&e.flags)}(i)&&hw(t,i,be(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function xg(e){return 0!=(16&e.flags)}(i)&&hw(t,i,be(),i.stylesWithoutHost,!1),Fe}function mi(e,i,t,o){return De(e,i,t,o),Fe(),mi}let wI=(e,i,t,o,a,d)=>(wc(!0),Xf(o,a,function om(){return vt.lFrame.currentNamespace}()));function qh(){return be()}function W_(e){return!!e&&"function"==typeof e.then}function DI(e){return!!e&&"function"==typeof e.subscribe}function pn(e,i,t,o){const a=be(),d=Kt(),p=Mr();return II(d,a,a[St],p,e,i,o),pn}function mw(e,i){const t=Mr(),o=be(),a=Kt();return II(a,o,GD(hu(a.data),t,o),t,e,i),mw}function II(e,i,t,o,a,d,p){const g=ho(o),E=e.firstCreatePass&&qD(e),I=i[Jn],R=$D(i);let F=!0;if(3&o.type||p){const W=li(o,i),he=p?p(W):W,we=R.length,ae=p?We=>p(vn(We[o.index])):o.index;let ze=null;if(!p&&g&&(ze=function TO(e,i,t,o){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const p=a[d];if(p===t&&a[d+1]===o){const g=i[qo],_=a[d+2];return g.length>_?g[_]:null}"string"==typeof p&&(d+=2)}return null}(e,i,a,o.index)),null!==ze)(ze.__ngLastListenerFn__||ze).__ngNextListenerFn__=d,ze.__ngLastListenerFn__=d,F=!1;else{d=TI(o,i,I,d,!1);const We=t.listen(he,a,d);R.push(d,We),E&&E.push(a,ae,we,we+1)}}else d=TI(o,i,I,d,!1);const j=o.outputs;let H;if(F&&null!==j&&(H=j[a])){const W=H.length;if(W)for(let he=0;he<W;he+=2){const Ut=i[H[he]][H[he+1]].subscribe(d),rr=R.length;R.push(d,Ut),E&&E.push(a,o.index,rr,-(rr+1))}}}function SI(e,i,t,o){try{return er(6,i,t),!1!==t(o)}catch(a){return WD(e,a),!1}finally{er(7,i,t)}}function TI(e,i,t,o,a){return function d(p){if(p===Function)return o;wy(e.componentOffset>-1?yn(e.index,i):i);let _=SI(i,t,o,p),E=d.__ngNextListenerFn__;for(;E;)_=SI(i,t,E,p)&&_,E=E.__ngNextListenerFn__;return a&&!1===_&&p.preventDefault(),_}}function Ep(e=1){return function Ao(e){return(vt.lFrame.contextLView=function Xd(e,i){for(;e>0;)i=i[Do],e--;return i}(e,vt.lFrame.contextLView))[Jn]}(e)}function xO(e,i){let t=null;const o=function lf(e){const i=e.attrs;if(null!=i){const t=i.indexOf(5);if(!(1&t))return i[t+1]}return null}(e);for(let a=0;a<i.length;a++){const d=i[a];if("*"!==d){if(null===o?dc(e,d,!0):fa(o,d))return a}else t=a}return t}function Cp(e){const i=be()[qn][Di];if(!i.projection){const o=i.projection=oh(e?e.length:1,null),a=o.slice();let d=i.child;for(;null!==d;){const p=e?xO(d,e):0;null!==p&&(a[p]?a[p].projectionNext=d:o[p]=d,a[p]=d),d=d.next}}}function ts(e,i=0,t){const o=be(),a=Kt(),d=uv(a,it+e,16,null,t||null);null===d.projection&&(d.projection=i),Kd(),(!o[Tr]||fo())&&32!=(32&d.flags)&&function hy(e,i,t){Rm(i[St],0,i,t,tp(e,t,i),Am(t.parent||i[Di],t,i))}(a,o,d)}function gw(e,i,t){return vw(e,"",i,"",t),gw}function vw(e,i,t,o,a){const d=be(),p=dv(d,i,t,o);return p!==zt&&qa(Kt(),Zn(),d,e,p,d[St],a,!1),vw}function K_(e,i){return e<<17|i<<2}function Dp(e){return e>>17&32767}function yw(e){return 2|e}function Ym(e){return(131068&e)>>2}function _w(e,i){return-131069&e|i<<2}function bw(e){return 1|e}function FI(e,i,t,o,a){const d=e[t+1],p=null===i;let g=o?Dp(d):Ym(d),_=!1;for(;0!==g&&(!1===_||p);){const I=e[g+1];NO(e[g],i)&&(_=!0,e[g+1]=o?bw(I):yw(I)),g=o?Dp(I):Ym(I)}_&&(e[t+1]=o?yw(d):bw(d))}function NO(e,i){return null===e||null==i||(Array.isArray(e)?e[1]:e)===i||!(!Array.isArray(e)||"string"!=typeof i)&&xl(e,i)>=0}function Ga(e,i){return function ju(e,i,t,o){const a=be(),d=Kt(),p=Wo(2);d.firstUpdatePass&&function qI(e,i,t,o){const a=e.data;if(null===a[t+1]){const d=a[Yr()],p=function $I(e,i){return i>=e.expandoStartIndex}(e,t);(function YI(e,i){return 0!=(e.flags&(i?8:16))})(d,o)&&null===i&&!p&&(i=!1),i=function zO(e,i,t,o){const a=hu(e);let d=o?i.residualClasses:i.residualStyles;if(null===a)0===(o?i.classBindings:i.styleBindings)&&(t=My(t=ww(null,e,i,t,o),i.attrs,o),d=null);else{const p=i.directiveStylingLast;if(-1===p||e[p]!==a)if(t=ww(a,e,i,t,o),null===d){let _=function $O(e,i,t){const o=t?i.classBindings:i.styleBindings;if(0!==Ym(o))return e[Dp(o)]}(e,i,o);void 0!==_&&Array.isArray(_)&&(_=ww(null,e,i,_[1],o),_=My(_,i.attrs,o),function qO(e,i,t,o){e[Dp(t?i.classBindings:i.styleBindings)]=o}(e,i,o,_))}else d=function GO(e,i,t){let o;const a=i.directiveEnd;for(let d=1+i.directiveStylingLast;d<a;d++)o=My(o,e[d].hostAttrs,t);return My(o,i.attrs,t)}(e,i,o)}return void 0!==d&&(o?i.residualClasses=d:i.residualStyles=d),t}(a,d,i,o),function kO(e,i,t,o,a,d){let p=d?i.classBindings:i.styleBindings,g=Dp(p),_=Ym(p);e[o]=t;let I,E=!1;if(Array.isArray(t)?(I=t[1],(null===I||xl(t,I)>0)&&(E=!0)):I=t,a)if(0!==_){const F=Dp(e[g+1]);e[o+1]=K_(F,g),0!==F&&(e[F+1]=_w(e[F+1],o)),e[g+1]=function MO(e,i){return 131071&e|i<<17}(e[g+1],o)}else e[o+1]=K_(g,0),0!==g&&(e[g+1]=_w(e[g+1],o)),g=o;else e[o+1]=K_(_,0),0===g?g=o:e[_+1]=_w(e[_+1],o),_=o;E&&(e[o+1]=yw(e[o+1])),FI(e,I,o,!0),FI(e,I,o,!1),function OO(e,i,t,o,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof i&&xl(d,i)>=0&&(t[o+1]=bw(t[o+1]))}(i,I,e,o,d),p=K_(g,_),d?i.classBindings=p:i.styleBindings=p}(a,d,i,t,p,o)}}(d,e,p,o),i!==zt&&es(a,p,i)&&function WI(e,i,t,o,a,d,p,g){if(!(3&i.type))return;const _=e.data,E=_[g+1],I=function RO(e){return 1==(1&e)}(E)?KI(_,i,t,a,Ym(E),p):void 0;Y_(I)||(Y_(d)||function AO(e){return 2==(2&e)}(E)&&(d=KI(_,null,t,a,g,p)),function op(e,i,t,o,a){if(i)a?e.addClass(t,o):e.removeClass(t,o);else{let d=-1===o.indexOf("-")?void 0:_s.DashCase;null==a?e.removeStyle(t,o,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=_s.Important),e.setStyle(t,o,a,d))}}(o,p,Vs(Yr(),t),a,d))}(d,d.data[Yr()],a,a[St],e,a[p+1]=function ZO(e,i){return null==e||""===e||("string"==typeof i?e+=i:"object"==typeof e&&(e=Fn(fi(e)))),e}(i,t),o,p)}(e,i,null,!0),Ga}function ww(e,i,t,o,a){let d=null;const p=t.directiveEnd;let g=t.directiveStylingLast;for(-1===g?g=t.directiveStart:g++;g<p&&(d=i[g],o=My(o,d.hostAttrs,a),d!==e);)g++;return null!==e&&(t.directiveStylingLast=g),o}function My(e,i,t){const o=t?1:2;let a=-1;if(null!==i)for(let d=0;d<i.length;d++){const p=i[d];"number"==typeof p?a=p:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),to(e,p,!!t||i[++d]))}return void 0===e?null:e}function KI(e,i,t,o,a,d){const p=null===i;let g;for(;a>0;){const _=e[a],E=Array.isArray(_),I=E?_[1]:_,R=null===I;let F=t[a+1];F===zt&&(F=R?hn:void 0);let j=R?fm(F,o):I===o?F:void 0;if(E&&!Y_(j)&&(j=fm(_,o)),Y_(j)&&(g=j,p))return g;const H=e[a+1];a=p?Dp(H):Ym(H)}if(null!==i){let _=d?i.residualClasses:i.residualStyles;null!=_&&(g=fm(_,o))}return g}function Y_(e){return void 0!==e}function qe(e,i=""){const t=be(),o=Kt(),a=e+it,d=o.firstCreatePass?uv(o,a,1,i,null):o.data[a],p=ZI(o,t,d,i,e);t[a]=p,xf()&&Ru(o,t,p,d),ms(d,!1)}let ZI=(e,i,t,o,a)=>(wc(!0),function Au(e,i){return e.createText(i)}(i[St],o));function Ip(e){return Ry("",e,""),Ip}function Ry(e,i,t){const o=be(),a=dv(o,e,i,t);return a!==zt&&$h(o,Yr(),a),Ry}function Ew(e,i,t,o,a){const d=be(),p=hv(d,e,i,t,o,a);return p!==zt&&$h(d,Yr(),p),Ew}function Z_(e,i,t){const o=be();return es(o,Ea(),i)&&qa(Kt(),Zn(),o,e,i,o[St],t,!0),Z_}function Cw(e,i,t){const o=be();if(es(o,Ea(),i)){const d=Kt(),p=Zn();qa(d,p,o,e,i,GD(hu(d.data),p,o),t,!0)}return Cw}const wv="en-US";let mS=wv;class Xm{}class US{}class Mw extends Xm{constructor(i,t,o){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eI(this);const a=Sr(i);this._bootstrapComponents=zh(a.bootstrap),this._r3Injector=wp(i,t,[{provide:Xm,useValue:this},{provide:s,useValue:this.componentFactoryResolver},...o],Fn(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Rw extends US{constructor(i){super(),this.moduleType=i}create(i){return new Mw(this.moduleType,i,[])}}class HS extends Xm{constructor(i){super(),this.componentFactoryResolver=new eI(this),this.instance=null;const t=new yo([...i.providers,{provide:Xm,useValue:this},{provide:s,useValue:this.componentFactoryResolver}],i.parent||ta(),i.debugName,new Set(["environment"]));this.injector=t,i.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function kw(e,i,t=null){return new HS({providers:e,parent:i,debugName:t,runEnvironmentInitializers:!0}).injector}let wP=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const o=qm(0,t.type),a=o.length>0?kw([o],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,a)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ke({token:e,providedIn:"environment",factory:()=>new e(ne(br))})}return e})();function zS(e){e.getStandaloneInjector=i=>i.get(wP).getOrCreateStandaloneInjector(e)}function Nw(e,i,t,o){return function XS(e,i,t,o,a,d){const p=i+t;return es(e,p,a)?cd(e,p+1,d?o.call(d,a):o(a)):Ly(e,p+1)}(be(),Rr(),e,i,t,o)}function ZS(e,i,t,o,a){return function QS(e,i,t,o,a,d,p){const g=i+t;return Km(e,g,a,d)?cd(e,g+2,p?o.call(p,a,d):o(a,d)):Ly(e,g+2)}(be(),Rr(),e,i,t,o,a)}function Ly(e,i){const t=e[i];return t===zt?void 0:t}function qP(){return this._results[Symbol.iterator]()}class Pw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new no)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Pw.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=qP)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,t){return this._results.reduce(i,t)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,t){const o=this;o.dirty=!1;const a=function Qr(e){return e.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Og(e,i,t){if(e.length!==i.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],d=i[o];if(t&&(a=t(a),d=t(d)),d!==a)return!1}return!0}(o._results,a,t))&&(o._results=a,o.length=a.length,o.last=a[this.length-1],o.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function WP(e,i,t,o=!0){const a=i[Ue];if(function ly(e,i,t,o){const a=Be+o,d=t.length;o>0&&(t[a-1][Yn]=i),o<d-Be?(i[Yn]=t[a],hm(t,Be+o,i)):(t.push(i),i[Yn]=null),i[Ln]=t;const p=i[el];null!==p&&t!==p&&function Kg(e,i){const t=e[us];i[qn]!==i[Ln][Ln][qn]&&(e[et]=!0),null===t?e[us]=[i]:t.push(i)}(p,i);const g=i[pa];null!==g&&g.insertView(e),i[Mt]|=128}(a,i,e,t),o){const d=bs(t,e),p=i[St],g=Hl(p,e[Ze]);null!==g&&function Qf(e,i,t,o,a,d){o[Rn]=a,o[Di]=i,ql(e,o,t,1,a,d)}(a,e[Di],p,i,g,d)}}let hd=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=ZP}return e})();const KP=hd,YP=class extends KP{constructor(i,t,o){super(),this._declarationLView=i,this._declarationTContainer=t,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,t){return this.createEmbeddedViewImpl(i,t)}createEmbeddedViewImpl(i,t,o){const a=function GP(e,i,t,o){const a=i.tView,g=L_(e,a,t,4096&e[Mt]?4096:16,null,i,null,null,null,o?.injector??null,o?.hydrationInfo??null);g[el]=e[i.index];const E=e[pa];return null!==E&&(g[pa]=E.createEmbeddedView(a)),ow(a,g,t),g}(this._declarationLView,this._declarationTContainer,i,{injector:t,hydrationInfo:o});return new Dy(a)}};function ZP(){return tb(Mr(),be())}function tb(e,i){return 4&e.type?new YP(i,e,h(e,i)):null}let jc=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=nF}return e})();function nF(){return cT(Mr(),be())}const rF=jc,sT=class extends rF{constructor(i,t,o){super(),this._lContainer=i,this._hostTNode=t,this._hostLView=o}get element(){return h(this._hostTNode,this._hostLView)}get injector(){return new Mi(this._hostTNode,this._hostLView)}get parentInjector(){const i=kf(this._hostTNode,this._hostLView);if(ji(i)){const t=Xr(i,this._hostLView),o=Zr(i);return new Mi(t[Ue].data[o+8],t)}return new Mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const t=aT(this._lContainer);return null!==t&&t[i]||null}get length(){return this._lContainer.length-Be}createEmbeddedView(i,t,o){let a,d;"number"==typeof o?a=o:null!=o&&(a=o.index,d=o.injector);const g=i.createEmbeddedViewImpl(t||{},d,null);return this.insertImpl(g,a,false),g}createComponent(i,t,o,a,d){const p=i&&!function Gs(e){return"function"==typeof e}(i);let g;if(p)g=t;else{const W=t||{};g=W.index,o=W.injector,a=W.projectableNodes,d=W.environmentInjector||W.ngModuleRef}const _=p?i:new Iy(sn(i)),E=o||this.parentInjector;if(!d&&null==_.ngModule){const he=(p?E:this.parentInjector).get(br,null);he&&(d=he)}sn(_.componentType??{});const j=_.create(E,a,null,d);return this.insertImpl(j.hostView,g,false),j}insert(i,t){return this.insertImpl(i,t,!1)}insertImpl(i,t,o){const a=i._lView;if(function Wv(e){return Cn(e[Ln])}(a)){const _=this.indexOf(i);if(-1!==_)this.detach(_);else{const E=a[Ln],I=new sT(E,E[Di],E[Ln]);I.detach(I.indexOf(i))}}const p=this._adjustIndex(t),g=this._lContainer;return WP(g,a,p,!o),i.attachToViewContainerRef(),hm(Fw(g),p,i),i}move(i,t){return this.insert(i,t)}indexOf(i){const t=aT(this._lContainer);return null!==t?t.indexOf(i):-1}remove(i){const t=this._adjustIndex(i,-1),o=yh(this._lContainer,t);o&&(Pf(Fw(this._lContainer),t),Ul(o[Ue],o))}detach(i){const t=this._adjustIndex(i,-1),o=yh(this._lContainer,t);return o&&null!=Pf(Fw(this._lContainer),t)?new Dy(o):null}_adjustIndex(i,t=0){return i??this.length+t}};function aT(e){return e[8]}function Fw(e){return e[8]||(e[8]=[])}function cT(e,i){let t;const o=i[e.index];return Cn(o)?t=o:(t=HD(o,i,null,e),i[e.index]=t,j_(i,t)),uT(t,i,e,o),new sT(t,e,i)}let uT=function lT(e,i,t,o){if(e[Ze])return;let a;a=8&t.type?vn(o):function iF(e,i){const t=e[St],o=t.createComment(""),a=li(i,e);return Ys(t,Hl(t,a),o,function Xg(e,i){return e.nextSibling(i)}(t,a),!1),o}(i,t),e[Ze]=a};class Lw{constructor(i){this.queryList=i,this.matches=null}clone(){return new Lw(this.queryList)}setDirty(){this.queryList.setDirty()}}class jw{constructor(i=[]){this.queries=i}createEmbeddedView(i){const t=i.queries;if(null!==t){const o=null!==i.contentQueries?i.contentQueries[0]:t.length,a=[];for(let d=0;d<o;d++){const p=t.getByIndex(d);a.push(this.queries[p.indexInDeclarationView].clone())}return new jw(a)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let t=0;t<this.queries.length;t++)null!==vT(i,t).matches&&this.queries[t].setDirty()}}class dT{constructor(i,t,o=null){this.predicate=i,this.flags=t,this.read=o}}class Bw{constructor(i=[]){this.queries=i}elementStart(i,t){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(i,t)}elementEnd(i){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(i)}embeddedTView(i){let t=null;for(let o=0;o<this.length;o++){const a=null!==t?t.length:0,d=this.getByIndex(o).embeddedTView(i,a);d&&(d.indexInDeclarationView=o,null!==t?t.push(d):t=[d])}return null!==t?new Bw(t):null}template(i,t){for(let o=0;o<this.queries.length;o++)this.queries[o].template(i,t)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Vw{constructor(i,t=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(i,t){this.isApplyingToNode(t)&&this.matchTNode(i,t)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,t){this.elementStart(i,t)}embeddedTView(i,t){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,t),new Vw(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let o=i.parent;for(;null!==o&&8&o.type&&o.index!==t;)o=o.parent;return t===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(i,t){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const d=o[a];this.matchTNodeWithReadOption(i,t,aF(t,d)),this.matchTNodeWithReadOption(i,t,Ai(t,i,d,!1,!1))}else o===hd?4&t.type&&this.matchTNodeWithReadOption(i,t,-1):this.matchTNodeWithReadOption(i,t,Ai(t,i,o,!1,!1))}matchTNodeWithReadOption(i,t,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===m||a===jc||a===hd&&4&t.type)this.addMatch(t.index,-2);else{const d=Ai(t,i,a,!1,!1);null!==d&&this.addMatch(t.index,d)}else this.addMatch(t.index,o)}}addMatch(i,t){null===this.matches?this.matches=[i,t]:this.matches.push(i,t)}}function aF(e,i){const t=e.localNames;if(null!==t)for(let o=0;o<t.length;o+=2)if(t[o]===i)return t[o+1];return null}function uF(e,i,t,o){return-1===t?function cF(e,i){return 11&e.type?h(e,i):4&e.type?tb(e,i):null}(i,e):-2===t?function lF(e,i,t){return t===m?h(i,e):t===hd?tb(i,e):t===jc?cT(i,e):void 0}(e,i,o):$s(e,e[Ue],t,i)}function hT(e,i,t,o){const a=i[pa].queries[o];if(null===a.matches){const d=e.data,p=t.matches,g=[];for(let _=0;_<p.length;_+=2){const E=p[_];g.push(E<0?null:uF(i,d[E],p[_+1],t.metadata.read))}a.matches=g}return a.matches}function Uw(e,i,t,o){const a=e.queries.getByIndex(t),d=a.matches;if(null!==d){const p=hT(e,i,a,t);for(let g=0;g<d.length;g+=2){const _=d[g];if(_>0)o.push(p[g/2]);else{const E=d[g+1],I=i[-_];for(let R=Be;R<I.length;R++){const F=I[R];F[el]===F[Ln]&&Uw(F[Ue],F,E,o)}if(null!==I[us]){const R=I[us];for(let F=0;F<R.length;F++){const j=R[F];Uw(j[Ue],j,E,o)}}}}}return o}function Hw(e){const i=be(),t=Kt(),o=Zd();fu(o+1);const a=vT(t,o);if(e.dirty&&function Us(e){return 4==(4&e[Mt])}(i)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const d=a.crossesNgTemplate?Uw(t,i,o,[]):hT(t,i,a,o);e.reset(d,y),e.notifyOnChanges()}return!0}return!1}function zw(){return function dF(e,i){return e[pa].queries[i].queryList}(be(),Zd())}function mT(e,i,t){const o=new Pw(4==(4&t));(function ak(e,i,t,o){const a=$D(i);a.push(t),e.firstCreatePass&&qD(e).push(o,a.length-1)})(e,i,o,o.destroy),null===i[pa]&&(i[pa]=new jw),i[pa].queries.push(new Lw(o))}function gT(e,i,t){null===e.queries&&(e.queries=new Bw),e.queries.track(new Vw(i,t))}function vT(e,i){return e.queries.getByIndex(i)}const Yw=new S("Application Initializer");let Zw=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,o)=>{this.resolve=t,this.reject=o}),this.appInits=Le(Yw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const a of this.appInits){const d=a();if(W_(d))t.push(d);else if(DI(d)){const p=new Promise((g,_)=>{d.subscribe({complete:g,error:_})});t.push(p)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{o()}).catch(a=>{this.reject(a)}),0===t.length&&o(),this.initialized=!0}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),NT=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const fd=new S("LocaleId",{providedIn:"root",factory:()=>Le(fd,Dt.Optional|Dt.SkipSelf)||function NF(){return typeof $localize<"u"&&$localize.locale||wv}()});let PT=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Vr(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class LF{constructor(i,t){this.ngModuleFactory=i,this.componentFactories=t}}let FT=(()=>{class e{compileModuleSync(t){return new Rw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const o=this.compileModuleSync(t),d=zh(Sr(t).declarations).reduce((p,g)=>{const _=sn(g);return _&&p.push(new Iy(_)),p},[]);return new LF(o,d)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const VT=new S(""),ob=new S("");let tE,Jw=(()=>{class e{constructor(t,o,a){this._ngZone=t,this.registry=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tE||(function oL(e){tE=e}(a),a.addToWindow(o)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Lt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(t)||(clearTimeout(o.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,o,a){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),t(this._didWork,this.getPendingTasks())},o)),this._callbacks.push({doneCb:t,timeoutId:d,updateCb:a})}whenStable(t,o,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,o,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,o,a){return[]}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Lt),ne(eE),ne(ob))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),eE=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,o){this._applications.set(t,o)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,o=!0){return tE?.findTestabilityInTree(this,t,o)??null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Sp=null;const UT=new S("AllowMultipleToken"),nE=new S("PlatformDestroyListeners"),rE=new S("appBootstrapListener");class zT{constructor(i,t){this.name=i,this.token=t}}function qT(e,i,t=[]){const o=`Platform: ${i}`,a=new S(o);return(d=[])=>{let p=iE();if(!p||p.injector.get(UT,!1)){const g=[...t,...d,{provide:a,useValue:!0}];e?e(g):function cL(e){if(Sp&&!Sp.get(UT,!1))throw new pe(400,!1);(function HT(){!function Qp(e){jd=e}(()=>{throw new pe(600,!1)})})(),Sp=e;const i=e.get(WT);(function $T(e){e.get(jh,null)?.forEach(t=>t())})(e)}(function GT(e=[],i){return ti.create({name:i,providers:[{provide:Jl,useValue:"platform"},{provide:nE,useValue:new Set([()=>Sp=null])},...e]})}(g,o))}return function lL(e){const i=iE();if(!i)throw new pe(401,!1);return i}()}}function iE(){return Sp?.get(WT)??null}let WT=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,o){const a=function dL(e="zone.js",i){return"noop"===e?new z1:"zone.js"===e?new Lt(i):e}(o?.ngZone,function KT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}));return a.run(()=>{const d=function bP(e,i,t){return new Mw(e,i,t)}(t.moduleType,this.injector,function JT(e){return[{provide:Lt,useFactory:e},{provide:Pa,multi:!0,useFactory:()=>{const i=Le(fL,{optional:!0});return()=>i.initialize()}},{provide:QT,useFactory:hL},{provide:_D,useFactory:bD}]}(()=>a)),p=d.injector.get(Nc,null);return a.runOutsideAngular(()=>{const g=a.onError.subscribe({next:_=>{p.handleError(_)}});d.onDestroy(()=>{sb(this._modules,d),g.unsubscribe()})}),function YT(e,i,t){try{const o=t();return W_(o)?o.catch(a=>{throw i.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw i.runOutsideAngular(()=>e.handleError(o)),o}}(p,a,()=>{const g=d.injector.get(Zw);return g.runInitializers(),g.donePromise.then(()=>(function gS(e){Ur(e,"Expected localeId to be defined"),"string"==typeof e&&(mS=e.toLowerCase().replace(/_/g,"-"))}(d.injector.get(fd,wv)||wv),this._moduleDoBootstrap(d),d))})})}bootstrapModule(t,o=[]){const a=ZT({},o);return function sL(e,i,t){const o=new Rw(t);return Promise.resolve(o)}(0,0,t).then(d=>this.bootstrapModuleFactory(d,a))}_moduleDoBootstrap(t){const o=t.injector.get(Tp);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(a=>o.bootstrap(a));else{if(!t.instance.ngDoBootstrap)throw new pe(-403,!1);t.instance.ngDoBootstrap(o)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new pe(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const t=this._injector.get(nE,null);t&&(t.forEach(o=>o()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(o){return new(o||e)(ne(ti))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function ZT(e,i){return Array.isArray(i)?i.reduce(ZT,e):{...e,...i}}let Tp=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Le(QT),this.zoneIsStable=Le(_D),this.componentTypes=[],this.components=[],this.isStable=Le(PT).hasPendingTasks.pipe(ln(t=>t?nt(!1):this.zoneIsStable),ks(),Wu()),this._injector=Le(br)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,o){const a=t instanceof k;if(!this._injector.get(Zw).done)throw!a&&function lo(e){const i=sn(e)||ai(e)||Ci(e);return null!==i&&i.standalone}(t),new pe(405,!1);let p;p=a?t:this._injector.get(s).resolveComponentFactory(t),this.componentTypes.push(p.componentType);const g=function aL(e){return e.isBoundToModule}(p)?void 0:this._injector.get(Xm),E=p.create(ti.NULL,[],o||p.selector,g),I=E.location.nativeElement,R=E.injector.get(VT,null);return R?.registerApplication(I),E.onDestroy(()=>{this.detachView(E.hostView),sb(this.components,E),R?.unregisterApplication(I)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new pe(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const o=t;this._views.push(o),o.attachToAppRef(this)}detachView(t){const o=t;sb(this._views,o),o.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const o=this._injector.get(rE,[]);o.push(...this._bootstrapListeners),o.forEach(a=>a(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>sb(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new pe(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sb(e,i){const t=e.indexOf(i);t>-1&&e.splice(t,1)}const QT=new S("",{providedIn:"root",factory:()=>Le(Nc).handleError.bind(void 0)});function hL(){const e=Le(Lt),i=Le(Nc);return t=>e.runOutsideAngular(()=>i.handleError(t))}let fL=(()=>{class e{constructor(){this.zone=Le(Lt),this.applicationRef=Le(Tp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let ab=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=mL}return e})();function mL(e){return function gL(e,i,t){if(Go(e)&&!t){const o=yn(e.index,i);return new Dy(o,o)}return 47&e.type?new Dy(i[qn],i):null}(Mr(),be(),16==(16&e))}class rx{constructor(){}supports(i){return H_(i)}create(i){return new EL(i)}}const wL=(e,i)=>i;class EL{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||wL}forEachItem(i){let t;for(t=this._itHead;null!==t;t=t._next)i(t)}forEachOperation(i){let t=this._itHead,o=this._removalsHead,a=0,d=null;for(;t||o;){const p=!o||t&&t.currentIndex<ox(o,a,d)?t:o,g=ox(p,a,d),_=p.currentIndex;if(p===o)a--,o=o._nextRemoved;else if(t=t._next,null==p.previousIndex)a++;else{d||(d=[]);const E=g-a,I=_-a;if(E!=I){for(let F=0;F<E;F++){const j=F<d.length?d[F]:d[F]=0,H=j+F;I<=H&&H<E&&(d[F]=j+1)}d[p.previousIndex]=I-E}}g!==_&&i(p,g,_)}}forEachPreviousItem(i){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachMovedItem(i){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}forEachIdentityChange(i){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)i(t)}diff(i){if(null==i&&(i=[]),!H_(i))throw new pe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let a,d,p,t=this._itHead,o=!1;if(Array.isArray(i)){this.length=i.length;for(let g=0;g<this.length;g++)d=i[g],p=this._trackByFn(g,d),null!==t&&Object.is(t.trackById,p)?(o&&(t=this._verifyReinsertion(t,d,p,g)),Object.is(t.item,d)||this._addIdentityChange(t,d)):(t=this._mismatch(t,d,p,g),o=!0),t=t._next}else a=0,function Jk(e,i){if(Array.isArray(e))for(let t=0;t<e.length;t++)i(e[t]);else{const t=e[Symbol.iterator]();let o;for(;!(o=t.next()).done;)i(o.value)}}(i,g=>{p=this._trackByFn(a,g),null!==t&&Object.is(t.trackById,p)?(o&&(t=this._verifyReinsertion(t,g,p,a)),Object.is(t.item,g)||this._addIdentityChange(t,g)):(t=this._mismatch(t,g,p,a),o=!0),t=t._next,a++}),this.length=a;return this._truncate(t),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,t,o,a){let d;return null===i?d=this._itTail:(d=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._reinsertAfter(i,d,a)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(i.item,t)||this._addIdentityChange(i,t),this._moveAfter(i,d,a)):i=this._addAfter(new CL(t,o),d,a),i}_verifyReinsertion(i,t,o,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?i=this._reinsertAfter(d,i._prev,a):i.currentIndex!=a&&(i.currentIndex=a,this._addToMoves(i,a)),i}_truncate(i){for(;null!==i;){const t=i._next;this._addToRemovals(this._unlink(i)),i=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,t,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const a=i._prevRemoved,d=i._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(i,t,o),this._addToMoves(i,o),i}_moveAfter(i,t,o){return this._unlink(i),this._insertAfter(i,t,o),this._addToMoves(i,o),i}_addAfter(i,t,o){return this._insertAfter(i,t,o),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,t,o){const a=null===t?this._itHead:t._next;return i._next=a,i._prev=t,null===a?this._itTail=i:a._prev=i,null===t?this._itHead=i:t._next=i,null===this._linkedRecords&&(this._linkedRecords=new ix),this._linkedRecords.put(i),i.currentIndex=o,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const t=i._prev,o=i._next;return null===t?this._itHead=o:t._next=o,null===o?this._itTail=t:o._prev=t,i}_addToMoves(i,t){return i.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ix),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,t){return i.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class CL{constructor(i,t){this.item=i,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DL{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,t){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===t||t<=o.currentIndex)&&Object.is(o.trackById,i))return o;return null}remove(i){const t=i._prevDup,o=i._nextDup;return null===t?this._head=o:t._nextDup=o,null===o?this._tail=t:o._prevDup=t,null===this._head}}class ix{constructor(){this.map=new Map}put(i){const t=i.trackById;let o=this.map.get(t);o||(o=new DL,this.map.set(t,o)),o.add(i)}get(i,t){const a=this.map.get(i);return a?a.get(i,t):null}remove(i){const t=i.trackById;return this.map.get(t).remove(i)&&this.map.delete(t),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ox(e,i,t){const o=e.previousIndex;if(null===o)return o;let a=0;return t&&o<t.length&&(a=t[o]),o+i+a}class sx{constructor(){}supports(i){return i instanceof Map||sw(i)}create(){return new IL}}class IL{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let t;for(t=this._mapHead;null!==t;t=t._next)i(t)}forEachPreviousItem(i){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)i(t)}forEachChangedItem(i){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)i(t)}forEachAddedItem(i){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)i(t)}forEachRemovedItem(i){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)i(t)}diff(i){if(i){if(!(i instanceof Map||sw(i)))throw new pe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(i,(o,a)=>{if(t&&t.key===a)this._maybeAddToChanges(t,o),this._appendAfter=t,t=t._next;else{const d=this._getOrCreateRecordForKey(a,o);t=this._insertBeforeOrAppend(t,d)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let o=t;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,t){if(i){const o=i._prev;return t._next=i,t._prev=o,i._prev=t,o&&(o._next=t),i===this._mapHead&&(this._mapHead=t),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(i,t){if(this._records.has(i)){const a=this._records.get(i);this._maybeAddToChanges(a,t);const d=a._prev,p=a._next;return d&&(d._next=p),p&&(p._prev=d),a._next=null,a._prev=null,a}const o=new SL(i);return this._records.set(i,o),o.currentValue=t,this._addToAdditions(o),o}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,t){Object.is(t,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=t,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,t){i instanceof Map?i.forEach(t):Object.keys(i).forEach(o=>t(i[o],o))}}class SL{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ax(){return new lb([new rx])}let lb=(()=>{class e{static#e=this.\u0275prov=ke({token:e,providedIn:"root",factory:ax});constructor(t){this.factories=t}static create(t,o){if(null!=o){const a=o.factories.slice();t=t.concat(a)}return new e(t)}static extend(t){return{provide:e,useFactory:o=>e.create(t,o||ax()),deps:[[e,new Rl,new xa]]}}find(t){const o=this.factories.find(a=>a.supports(t));if(null!=o)return o;throw new pe(901,!1)}}return e})();function cx(){return new Uy([new sx])}let Uy=(()=>{class e{static#e=this.\u0275prov=ke({token:e,providedIn:"root",factory:cx});constructor(t){this.factories=t}static create(t,o){if(o){const a=o.factories.slice();t=t.concat(a)}return new e(t)}static extend(t){return{provide:e,useFactory:o=>e.create(t,o||cx()),deps:[[e,new Rl,new xa]]}}find(t){const o=this.factories.find(a=>a.supports(t));if(o)return o;throw new pe(901,!1)}}return e})();const AL=qT(null,"core",[]);let ML=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Tp))};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({})}return e})();function lE(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let dE=null;function Dv(){return dE}class $L{}const nn=new S("DocumentToken");let hE=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:function(){return Le(GL)},providedIn:"platform"})}return e})();const qL=new S("Location Initialized");let GL=(()=>{class e extends hE{constructor(){super(),this._doc=Le(nn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dv().getBaseHref(this._doc)}onPopState(t){const o=Dv().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=Dv().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,o,a){this._history.pushState(t,o,a)}replaceState(t,o,a){this._history.replaceState(t,o,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function fE(e,i){if(0==e.length)return i;if(0==i.length)return e;let t=0;return e.endsWith("/")&&t++,i.startsWith("/")&&t++,2==t?e+i.substring(1):1==t?e+i:e+"/"+i}function vx(e){const i=e.match(/#|\?|$/),t=i&&i.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Gh(e){return e&&"?"!==e[0]?"?"+e:e}let Jm=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:function(){return Le(_x)},providedIn:"root"})}return e})();const yx=new S("appBaseHref");let _x=(()=>{class e extends Jm{constructor(t,o){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??Le(nn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return fE(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+Gh(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${o}${a}`:o}pushState(t,o,a,d){const p=this.prepareExternalUrl(a+Gh(d));this._platformLocation.pushState(t,o,p)}replaceState(t,o,a,d){const p=this.prepareExternalUrl(a+Gh(d));this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(hE),ne(yx,8))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),WL=(()=>{class e extends Jm{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=fE(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,a,d){let p=this.prepareExternalUrl(a+Gh(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(t,o,p)}replaceState(t,o,a,d){let p=this.prepareExternalUrl(a+Gh(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(hE),ne(yx,8))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),Hy=(()=>{class e{constructor(t){this._subject=new no,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const o=this._locationStrategy.getBaseHref();this._basePath=function ZL(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(vx(bx(o))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+Gh(o))}normalize(t){return e.stripTrailingSlash(function YL(e,i){if(!e||!i.startsWith(e))return i;const t=i.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:i}(this._basePath,bx(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,o="",a=null){this._locationStrategy.pushState(a,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gh(o)),a)}replaceState(t,o="",a=null){this._locationStrategy.replaceState(a,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Gh(o)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{const o=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(o,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(a=>a(t,o))}subscribe(t,o,a){return this._subject.subscribe({next:t,error:o,complete:a})}static#e=this.normalizeQueryParams=Gh;static#t=this.joinWithSlash=fE;static#n=this.stripTrailingSlash=vx;static#r=this.\u0275fac=function(o){return new(o||e)(ne(Jm))};static#i=this.\u0275prov=ke({token:e,factory:function(){return function KL(){return new Hy(ne(Jm))}()},providedIn:"root"})}return e})();function bx(e){return e.replace(/\/index.html$/,"")}const CE=/\s+/,Ax=[];let DE=(()=>{class e{constructor(t,o,a,d){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=a,this._renderer=d,this.initialClasses=Ax,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(CE):Ax}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(CE):t}ngDoCheck(){for(const o of this.initialClasses)this._updateState(o,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const o of t)this._updateState(o,!0);else if(null!=t)for(const o of Object.keys(t))this._updateState(o,!!t[o]);this._applyStateDiff()}_updateState(t,o){const a=this.stateMap.get(t);void 0!==a?(a.enabled!==o&&(a.changed=!0,a.enabled=o),a.touched=!0):this.stateMap.set(t,{enabled:o,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const o=t[0],a=t[1];a.changed?(this._toggleClass(o,a.enabled),a.changed=!1):a.touched||(a.enabled&&this._toggleClass(o,!1),this.stateMap.delete(o)),a.touched=!1}}_toggleClass(t,o){(t=t.trim()).length>0&&t.split(CE).forEach(a=>{o?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}static#e=this.\u0275fac=function(o){return new(o||e)(ge(lb),ge(Uy),ge(m),ge(C))};static#t=this.\u0275dir=fn({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class L2{constructor(i,t,o,a){this.$implicit=i,this.ngForOf=t,this.index=o,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let IE=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,o,a){this._viewContainer=t,this._template=o,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=this._viewContainer;t.forEachOperation((a,d,p)=>{if(null==a.previousIndex)o.createEmbeddedView(this._template,new L2(a.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)o.remove(null===d?void 0:d);else if(null!==d){const g=o.get(d);o.move(g,p),Rx(g,a)}});for(let a=0,d=o.length;a<d;a++){const g=o.get(a).context;g.index=a,g.count=d,g.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{Rx(o.get(a.currentIndex),a)})}static ngTemplateContextGuard(t,o){return!0}static#e=this.\u0275fac=function(o){return new(o||e)(ge(jc),ge(hd),ge(lb))};static#t=this.\u0275dir=fn({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function Rx(e,i){e.context.$implicit=i.item}let Eb=(()=>{class e{constructor(t,o){this._viewContainer=t,this._context=new j2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){kx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){kx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}static#e=this.\u0275fac=function(o){return new(o||e)(ge(jc),ge(hd))};static#t=this.\u0275dir=fn({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class j2{constructor(){this.$implicit=null,this.ngIf=null}}function kx(e,i){if(i&&!i.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Fn(i)}'.`)}let Px=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({})}return e})();const Fx="browser";function Lx(e){return"server"===e}let fj=(()=>{class e{static#e=this.\u0275prov=ke({token:e,providedIn:"root",factory:()=>new pj(ne(nn),window)})}return e})();class pj{constructor(i,t){this.document=i,this.window=t,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const t=function mj(e,i){const t=e.getElementById(i)||e.getElementsByName(i)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const o=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let a=o.currentNode;for(;a;){const d=a.shadowRoot;if(d){const p=d.getElementById(i)||d.querySelector(`[name="${i}"]`);if(p)return p}a=o.nextNode()}}return null}(this.document,i);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(i){this.supportsScrolling()&&(this.window.history.scrollRestoration=i)}scrollToElement(i){const t=i.getBoundingClientRect(),o=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],a-d[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Bj extends $L{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class kE extends Bj{static makeCurrent(){!function zL(e){dE||(dE=e)}(new kE)}onAndCancel(i,t,o){return i.addEventListener(t,o),()=>{i.removeEventListener(t,o)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function Vj(){return Gy=Gy||document.querySelector("base"),Gy?Gy.getAttribute("href"):null}();return null==t?null:function Uj(e){Ib=Ib||document.createElement("a"),Ib.setAttribute("href",e);const i=Ib.pathname;return"/"===i.charAt(0)?i:`/${i}`}(t)}resetBaseElement(){Gy=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return function P2(e,i){i=encodeURIComponent(i);for(const t of e.split(";")){const o=t.indexOf("="),[a,d]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(a.trim()===i)return decodeURIComponent(d)}return null}(document.cookie,i)}}let Ib,Gy=null,zj=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();const OE=new S("EventManagerPlugins");let Hx=(()=>{class e{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(a=>{a.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,o,a){return this._findPluginFor(o).addEventListener(t,o,a)}getZone(){return this._zone}_findPluginFor(t){let o=this._eventNameToPlugin.get(t);if(o)return o;if(o=this._plugins.find(d=>d.supports(t)),!o)throw new pe(5101,!1);return this._eventNameToPlugin.set(t,o),o}static#e=this.\u0275fac=function(o){return new(o||e)(ne(OE),ne(Lt))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();class zx{constructor(i){this._doc=i}}const NE="ng-app-id";let $x=(()=>{class e{constructor(t,o,a,d={}){this.doc=t,this.appId=o,this.nonce=a,this.platformId=d,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Lx(d),this.resetHostNodes()}addStyles(t){for(const o of t)1===this.changeUsageCount(o,1)&&this.onStyleAdded(o)}removeStyles(t){for(const o of t)this.changeUsageCount(o,-1)<=0&&this.onStyleRemoved(o)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(o=>o.remove()),t.clear());for(const o of this.getAllStyles())this.onStyleRemoved(o);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const o of this.getAllStyles())this.addStyleToHost(t,o)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const o of this.hostNodes)this.addStyleToHost(o,t)}onStyleRemoved(t){const o=this.styleRef;o.get(t)?.elements?.forEach(a=>a.remove()),o.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${NE}="${this.appId}"]`);if(t?.length){const o=new Map;return t.forEach(a=>{null!=a.textContent&&o.set(a.textContent,a)}),o}return null}changeUsageCount(t,o){const a=this.styleRef;if(a.has(t)){const d=a.get(t);return d.usage+=o,d.usage}return a.set(t,{usage:o,elements:[]}),o}getStyleElement(t,o){const a=this.styleNodesInDOM,d=a?.get(o);if(d?.parentNode===t)return a.delete(o),d.removeAttribute(NE),d;{const p=this.doc.createElement("style");return this.nonce&&p.setAttribute("nonce",this.nonce),p.textContent=o,this.platformIsServer&&p.setAttribute(NE,this.appId),p}}addStyleToHost(t,o){const a=this.getStyleElement(t,o);t.appendChild(a);const d=this.styleRef,p=d.get(o)?.elements;p?p.push(a):d.set(o,{elements:[a],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(nn),ne(Lu),ne(nd,8),ne(Rc))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();const PE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},FE=/%COMP%/g,Wj=new S("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Gx(e,i){return i.map(t=>t.replace(FE,e))}let LE=(()=>{class e{constructor(t,o,a,d,p,g,_,E=null){this.eventManager=t,this.sharedStylesHost=o,this.appId=a,this.removeStylesOnCompDestroy=d,this.doc=p,this.platformId=g,this.ngZone=_,this.nonce=E,this.rendererByCompId=new Map,this.platformIsServer=Lx(g),this.defaultRenderer=new jE(t,p,_,this.platformIsServer)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;this.platformIsServer&&o.encapsulation===Zi.ShadowDom&&(o={...o,encapsulation:Zi.Emulated});const a=this.getOrCreateRenderer(t,o);return a instanceof Kx?a.applyToHost(t):a instanceof BE&&a.applyStyles(),a}getOrCreateRenderer(t,o){const a=this.rendererByCompId;let d=a.get(o.id);if(!d){const p=this.doc,g=this.ngZone,_=this.eventManager,E=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(o.encapsulation){case Zi.Emulated:d=new Kx(_,E,o,this.appId,I,p,g,R);break;case Zi.ShadowDom:return new Xj(_,E,t,o,p,g,this.nonce,R);default:d=new BE(_,E,o,I,p,g,R)}a.set(o.id,d)}return d}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Hx),ne($x),ne(Lu),ne(Wj),ne(nn),ne(Rc),ne(Lt),ne(nd))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();class jE{constructor(i,t,o,a){this.eventManager=i,this.doc=t,this.ngZone=o,this.platformIsServer=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,t){return t?this.doc.createElementNS(PE[t]||t,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,t){(Wx(i)?i.content:i).appendChild(t)}insertBefore(i,t,o){i&&(Wx(i)?i.content:i).insertBefore(t,o)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let o="string"==typeof i?this.doc.querySelector(i):i;if(!o)throw new pe(-5104,!1);return t||(o.textContent=""),o}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,o,a){if(a){t=a+":"+t;const d=PE[a];d?i.setAttributeNS(d,t,o):i.setAttribute(t,o)}else i.setAttribute(t,o)}removeAttribute(i,t,o){if(o){const a=PE[o];a?i.removeAttributeNS(a,t):i.removeAttribute(`${o}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,o,a){a&(_s.DashCase|_s.Important)?i.style.setProperty(t,o,a&_s.Important?"important":""):i.style[t]=o}removeStyle(i,t,o){o&_s.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,o){i[t]=o}setValue(i,t){i.nodeValue=t}listen(i,t,o){if("string"==typeof i&&!(i=Dv().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${t}`);return this.eventManager.addEventListener(i,t,this.decoratePreventDefault(o))}decoratePreventDefault(i){return t=>{if("__ngUnwrap__"===t)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(t)):i(t))&&t.preventDefault()}}}function Wx(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Xj extends jE{constructor(i,t,o,a,d,p,g,_){super(i,d,p,_),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const E=Gx(a.id,a.styles);for(const I of E){const R=document.createElement("style");g&&R.setAttribute("nonce",g),R.textContent=I,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,o){return super.insertBefore(this.nodeOrShadowRoot(i),t,o)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class BE extends jE{constructor(i,t,o,a,d,p,g,_){super(i,d,p,g),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=a,this.styles=_?Gx(_,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Kx extends BE{constructor(i,t,o,a,d,p,g,_){const E=a+"-"+o.id;super(i,t,o,d,p,g,_,E),this.contentAttr=function Kj(e){return"_ngcontent-%COMP%".replace(FE,e)}(E),this.hostAttr=function Yj(e){return"_nghost-%COMP%".replace(FE,e)}(E)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,t){const o=super.createElement(i,t);return super.setAttribute(o,this.contentAttr,""),o}}let Qj=(()=>{class e extends zx{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,a){return t.addEventListener(o,a,!1),()=>this.removeEventListener(t,o,a)}removeEventListener(t,o,a){return t.removeEventListener(o,a)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(nn))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();const Yx=["alt","control","meta","shift"],Jj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eB={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let tB=(()=>{class e extends zx{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,o,a){const d=e.parseEventName(o),p=e.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dv().onAndCancel(t,d.domEventName,p))}static parseEventName(t){const o=t.toLowerCase().split("."),a=o.shift();if(0===o.length||"keydown"!==a&&"keyup"!==a)return null;const d=e._normalizeKey(o.pop());let p="",g=o.indexOf("code");if(g>-1&&(o.splice(g,1),p="code."),Yx.forEach(E=>{const I=o.indexOf(E);I>-1&&(o.splice(I,1),p+=E+".")}),p+=d,0!=o.length||0===d.length)return null;const _={};return _.domEventName=a,_.fullKey=p,_}static matchEventFullKeyCode(t,o){let a=Jj[t.key]||t.key,d="";return o.indexOf("code.")>-1&&(a=t.code,d="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Yx.forEach(p=>{p!==a&&(0,eB[p])(t)&&(d+=p+".")}),d+=a,d===o)}static eventCallback(t,o,a){return d=>{e.matchEventFullKeyCode(d,t)&&a.runGuarded(()=>o(d))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(o){return new(o||e)(ne(nn))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();const oB=qT(AL,"browser",[{provide:Rc,useValue:Fx},{provide:jh,useValue:function nB(){kE.makeCurrent()},multi:!0},{provide:nn,useFactory:function iB(){return function Ra(e){Ch=e}(document),document},deps:[]}]),sB=new S(""),Qx=[{provide:ob,useClass:class Hj{addToWindow(i){dt.getAngularTestability=(o,a=!0)=>{const d=i.findTestabilityInTree(o,a);if(null==d)throw new pe(5103,!1);return d},dt.getAllAngularTestabilities=()=>i.getAllTestabilities(),dt.getAllAngularRootElements=()=>i.getAllRootElements(),dt.frameworkStabilizers||(dt.frameworkStabilizers=[]),dt.frameworkStabilizers.push(o=>{const a=dt.getAllAngularTestabilities();let d=a.length,p=!1;const g=function(_){p=p||_,d--,0==d&&o(p)};a.forEach(_=>{_.whenStable(g)})})}findTestabilityInTree(i,t,o){return null==t?null:i.getTestability(t)??(o?Dv().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null)}},deps:[]},{provide:VT,useClass:Jw,deps:[Lt,eE,ob]},{provide:Jw,useClass:Jw,deps:[Lt,eE,ob]}],Jx=[{provide:Jl,useValue:"root"},{provide:Nc,useFactory:function rB(){return new Nc},deps:[]},{provide:OE,useClass:Qj,multi:!0,deps:[nn,Lt,Rc]},{provide:OE,useClass:tB,multi:!0,deps:[nn]},LE,$x,Hx,{provide:b,useExisting:LE},{provide:class gj{},useClass:zj,deps:[]},[]];let eA=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Lu,useValue:t.appId}]}}static#e=this.\u0275fac=function(o){return new(o||e)(ne(sB,12))};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({providers:[...Jx,...Qx],imports:[Px,ML]})}return e})(),tA=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(o){return new(o||e)(ne(nn))};static#t=this.\u0275prov=ke({token:e,factory:function(o){let a=null;return a=o?new o:function cB(){return new tA(ne(nn))}(),a},providedIn:"root"})}return e})();typeof window<"u"&&window;let UE=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:function(o){let a=null;return a=o?new(o||e):ne(iA),a},providedIn:"root"})}return e})(),iA=(()=>{class e extends UE{constructor(t){super(),this._doc=t}sanitize(t,o){if(null==o)return null;switch(t){case ei.NONE:return o;case ei.HTML:return Es(o,"HTML")?fi(o):ur(this._doc,String(o)).toString();case ei.STYLE:return Es(o,"Style")?fi(o):o;case ei.SCRIPT:if(Es(o,"Script"))return fi(o);throw new pe(5200,!1);case ei.URL:return Es(o,"URL")?fi(o):Zl(String(o));case ei.RESOURCE_URL:if(Es(o,"ResourceURL"))return fi(o);throw new pe(5201,!1);default:throw new pe(5202,!1)}}bypassSecurityTrustHtml(t){return function Lm(e){return new Ih(e)}(t)}bypassSecurityTrustStyle(t){return function Kl(e){return new Pm(e)}(t)}bypassSecurityTrustScript(t){return function up(e){return new Fm(e)}(t)}bypassSecurityTrustUrl(t){return function Yl(e){return new Jg(e)}(t)}bypassSecurityTrustResourceUrl(t){return function lp(e){return new Wl(e)}(t)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(nn))};static#t=this.\u0275prov=ke({token:e,factory:function(o){let a=null;return a=o?new o:function hB(e){return new iA(e.get(nn))}(ne(ti)),a},providedIn:"root"})}return e})();const{isArray:pB}=Array,{getPrototypeOf:mB,prototype:gB,keys:vB}=Object;function sA(e){if(1===e.length){const i=e[0];if(pB(i))return{args:i,keys:null};if(function yB(e){return e&&"object"==typeof e&&mB(e)===gB}(i)){const t=vB(i);return{args:t.map(o=>i[o]),keys:t}}}return{args:e,keys:null}}const{isArray:_B}=Array;function HE(e){return Qe(i=>function bB(e,i){return _B(i)?e(...i):e(i)}(e,i))}function aA(e,i){return e.reduce((t,o,a)=>(t[o]=i[a],t),{})}function Sb(...e){const i=q(e),t=G(e),{args:o,keys:a}=sA(e);if(0===o.length)return _t([],i);const d=new mt(function wB(e,i,t=Lr){return o=>{cA(i,()=>{const{length:a}=e,d=new Array(a);let p=a,g=a;for(let _=0;_<a;_++)cA(i,()=>{const E=_t(e[_],i);let I=!1;E.subscribe(Ie(o,R=>{d[_]=R,I||(I=!0,g--),g||o.next(t(d.slice()))},()=>{--p||o.complete()}))},o)},o)}}(o,i,a?p=>aA(a,p):Lr));return t?d.pipe(HE(t)):d}function cA(e,i,t){e?Oi(t,e,i):i()}const Tb=T(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function xb(...e){return function EB(){return Gi(1)}()(_t(e,q(e)))}function Ab(e){return new mt(i=>{cn(e()).subscribe(i)})}function Sv(e,i){const t=ye(e)?e:()=>e,o=a=>a.error(t());return new mt(i?a=>i.schedule(o,0,a):o)}function zE(){return fe((e,i)=>{let t=null;e._refCount++;const o=Ie(i,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const a=e._connection,d=t;t=null,a&&(!d||a===d)&&a.unsubscribe(),i.unsubscribe()});e.subscribe(o),o.closed||(t=e.connect())})}class uA extends mt{constructor(i,t){super(),this.source=i,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ve(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Ot;const t=this.getSubject();i.add(this.source.subscribe(Ie(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Ot.EMPTY)}return i}refCount(){return zE()(this)}}function ns(e){return e<=0?()=>pr:fe((i,t)=>{let o=0;i.subscribe(Ie(t,a=>{++o<=e&&(t.next(a),e<=o&&t.complete())}))})}function Mb(...e){const i=q(e);return fe((t,o)=>{(i?xb(e,t,i):xb(e,t)).subscribe(o)})}function Ui(e,i){return fe((t,o)=>{let a=0;t.subscribe(Ie(o,d=>e.call(i,d,a++)&&o.next(d)))})}function Rb(e){return fe((i,t)=>{let o=!1;i.subscribe(Ie(t,a=>{o=!0,t.next(a)},()=>{o||t.next(e),t.complete()}))})}function lA(e=CB){return fe((i,t)=>{let o=!1;i.subscribe(Ie(t,a=>{o=!0,t.next(a)},()=>o?t.complete():t.error(e())))})}function CB(){return new Tb}function eg(e,i){const t=arguments.length>=2;return o=>o.pipe(e?Ui((a,d)=>e(a,d,o)):Lr,ns(1),t?Rb(i):lA(()=>new Tb))}function Tv(e,i){return ye(i)?It(e,i,1):It(e,1)}function oo(e,i,t){const o=ye(e)||i||t?{next:e,error:i,complete:t}:e;return o?fe((a,d)=>{var p;null===(p=o.subscribe)||void 0===p||p.call(o);let g=!0;a.subscribe(Ie(d,_=>{var E;null===(E=o.next)||void 0===E||E.call(o,_),d.next(_)},()=>{var _;g=!1,null===(_=o.complete)||void 0===_||_.call(o),d.complete()},_=>{var E;g=!1,null===(E=o.error)||void 0===E||E.call(o,_),d.error(_)},()=>{var _,E;g&&(null===(_=o.unsubscribe)||void 0===_||_.call(o)),null===(E=o.finalize)||void 0===E||E.call(o)}))}):Lr}function Ap(e){return fe((i,t)=>{let d,o=null,a=!1;o=i.subscribe(Ie(t,void 0,void 0,p=>{d=cn(e(p,Ap(e)(i))),o?(o.unsubscribe(),o=null,d.subscribe(t)):a=!0})),a&&(o.unsubscribe(),o=null,d.subscribe(t))})}function $E(e){return e<=0?()=>pr:fe((i,t)=>{let o=[];i.subscribe(Ie(t,a=>{o.push(a),e<o.length&&o.shift()},()=>{for(const a of o)t.next(a);t.complete()},void 0,()=>{o=null}))})}function kb(e){return fe((i,t)=>{try{i.subscribe(t)}finally{t.add(e)}})}function Ob(e){return fe((i,t)=>{cn(e).subscribe(Ie(t,()=>t.complete(),Re)),!t.closed&&i.subscribe(t)})}const Zt="primary",Wy=Symbol("RouteTitle");class xB{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t[0]:t}return null}getAll(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function xv(e){return new xB(e)}function AB(e,i,t){const o=t.path.split("/");if(o.length>e.length||"full"===t.pathMatch&&(i.hasChildren()||o.length<e.length))return null;const a={};for(let d=0;d<o.length;d++){const p=o[d],g=e[d];if(p.startsWith(":"))a[p.substring(1)]=g;else if(p!==g.path)return null}return{consumed:e.slice(0,o.length),posParams:a}}function pd(e,i){const t=e?Object.keys(e):void 0,o=i?Object.keys(i):void 0;if(!t||!o||t.length!=o.length)return!1;let a;for(let d=0;d<t.length;d++)if(a=t[d],!dA(e[a],i[a]))return!1;return!0}function dA(e,i){if(Array.isArray(e)&&Array.isArray(i)){if(e.length!==i.length)return!1;const t=[...e].sort(),o=[...i].sort();return t.every((a,d)=>o[d]===a)}return e===i}function hA(e){return e.length>0?e[e.length-1]:null}function Mp(e){return function fB(e){return!!e&&(e instanceof mt||ye(e.lift)&&ye(e.subscribe))}(e)?e:W_(e)?_t(Promise.resolve(e)):nt(e)}const RB={exact:function mA(e,i,t){if(!tg(e.segments,i.segments)||!Nb(e.segments,i.segments,t)||e.numberOfChildren!==i.numberOfChildren)return!1;for(const o in i.children)if(!e.children[o]||!mA(e.children[o],i.children[o],t))return!1;return!0},subset:gA},fA={exact:function kB(e,i){return pd(e,i)},subset:function OB(e,i){return Object.keys(i).length<=Object.keys(e).length&&Object.keys(i).every(t=>dA(e[t],i[t]))},ignored:()=>!0};function pA(e,i,t){return RB[t.paths](e.root,i.root,t.matrixParams)&&fA[t.queryParams](e.queryParams,i.queryParams)&&!("exact"===t.fragment&&e.fragment!==i.fragment)}function gA(e,i,t){return vA(e,i,i.segments,t)}function vA(e,i,t,o){if(e.segments.length>t.length){const a=e.segments.slice(0,t.length);return!(!tg(a,t)||i.hasChildren()||!Nb(a,t,o))}if(e.segments.length===t.length){if(!tg(e.segments,t)||!Nb(e.segments,t,o))return!1;for(const a in i.children)if(!e.children[a]||!gA(e.children[a],i.children[a],o))return!1;return!0}{const a=t.slice(0,e.segments.length),d=t.slice(e.segments.length);return!!(tg(e.segments,a)&&Nb(e.segments,a,o)&&e.children[Zt])&&vA(e.children[Zt],i,d,o)}}function Nb(e,i,t){return i.every((o,a)=>fA[t](e[a].parameters,o.parameters))}class Av{constructor(i=new Qn([],{}),t={},o=null){this.root=i,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xv(this.queryParams)),this._queryParamMap}toString(){return FB.serialize(this)}}class Qn{constructor(i,t){this.segments=i,this.children=t,this.parent=null,Object.values(t).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pb(this)}}class Ky{constructor(i,t){this.path=i,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=xv(this.parameters)),this._parameterMap}toString(){return bA(this)}}function tg(e,i){return e.length===i.length&&e.every((t,o)=>t.path===i[o].path)}let Yy=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:function(){return new qE},providedIn:"root"})}return e})();class qE{parse(i){const t=new WB(i);return new Av(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(i){const t=`/${Zy(i.root,!0)}`,o=function BB(e){const i=Object.keys(e).map(t=>{const o=e[t];return Array.isArray(o)?o.map(a=>`${Fb(t)}=${Fb(a)}`).join("&"):`${Fb(t)}=${Fb(o)}`}).filter(t=>!!t);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${t}${o}${"string"==typeof i.fragment?`#${function LB(e){return encodeURI(e)}(i.fragment)}`:""}`}}const FB=new qE;function Pb(e){return e.segments.map(i=>bA(i)).join("/")}function Zy(e,i){if(!e.hasChildren())return Pb(e);if(i){const t=e.children[Zt]?Zy(e.children[Zt],!1):"",o=[];return Object.entries(e.children).forEach(([a,d])=>{a!==Zt&&o.push(`${a}:${Zy(d,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function PB(e,i){let t=[];return Object.entries(e.children).forEach(([o,a])=>{o===Zt&&(t=t.concat(i(a,o)))}),Object.entries(e.children).forEach(([o,a])=>{o!==Zt&&(t=t.concat(i(a,o)))}),t}(e,(o,a)=>a===Zt?[Zy(e.children[Zt],!1)]:[`${a}:${Zy(o,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Zt]?`${Pb(e)}/${t[0]}`:`${Pb(e)}/(${t.join("//")})`}}function yA(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fb(e){return yA(e).replace(/%3B/gi,";")}function GE(e){return yA(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lb(e){return decodeURIComponent(e)}function _A(e){return Lb(e.replace(/\+/g,"%20"))}function bA(e){return`${GE(e.path)}${function jB(e){return Object.keys(e).map(i=>`;${GE(i)}=${GE(e[i])}`).join("")}(e.parameters)}`}const VB=/^[^\/()?;#]+/;function WE(e){const i=e.match(VB);return i?i[0]:""}const UB=/^[^\/()?;=#]+/,zB=/^[^=?&#]+/,qB=/^[^&#]+/;class WB{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qn([],{}):new Qn([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(i.length>0||Object.keys(t).length>0)&&(o[Zt]=new Qn(i,t)),o}parseSegment(){const i=WE(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new pe(4009,!1);return this.capture(i),new Ky(Lb(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const t=function HB(e){const i=e.match(UB);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const a=WE(this.remaining);a&&(o=a,this.capture(o))}i[Lb(t)]=Lb(o)}parseQueryParam(i){const t=function $B(e){const i=e.match(zB);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const p=function GB(e){const i=e.match(qB);return i?i[0]:""}(this.remaining);p&&(o=p,this.capture(o))}const a=_A(t),d=_A(o);if(i.hasOwnProperty(a)){let p=i[a];Array.isArray(p)||(p=[p],i[a]=p),p.push(d)}else i[a]=d}parseParens(i){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=WE(this.remaining),a=this.remaining[o.length];if("/"!==a&&")"!==a&&";"!==a)throw new pe(4010,!1);let d;o.indexOf(":")>-1?(d=o.slice(0,o.indexOf(":")),this.capture(d),this.capture(":")):i&&(d=Zt);const p=this.parseChildren();t[d]=1===Object.keys(p).length?p[Zt]:new Qn([],p),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new pe(4011,!1)}}function wA(e){return e.segments.length>0?new Qn([],{[Zt]:e}):e}function EA(e){const i={};for(const o of Object.keys(e.children)){const d=EA(e.children[o]);if(o===Zt&&0===d.segments.length&&d.hasChildren())for(const[p,g]of Object.entries(d.children))i[p]=g;else(d.segments.length>0||d.hasChildren())&&(i[o]=d)}return function KB(e){if(1===e.numberOfChildren&&e.children[Zt]){const i=e.children[Zt];return new Qn(e.segments.concat(i.segments),i.children)}return e}(new Qn(e.segments,i))}function ng(e){return e instanceof Av}function CA(e){let i;const a=wA(function t(d){const p={};for(const _ of d.children){const E=t(_);p[_.outlet]=E}const g=new Qn(d.url,p);return d===e&&(i=g),g}(e.root));return i??a}function DA(e,i,t,o){let a=e;for(;a.parent;)a=a.parent;if(0===i.length)return KE(a,a,a,t,o);const d=function ZB(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new SA(!0,0,e);let i=0,t=!1;const o=e.reduce((a,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const g={};return Object.entries(d.outlets).forEach(([_,E])=>{g[_]="string"==typeof E?E.split("/"):E}),[...a,{outlets:g}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===p?(d.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?i++:""!=g&&a.push(g))}),a):[...a,d]},[]);return new SA(t,i,o)}(i);if(d.toRoot())return KE(a,a,new Qn([],{}),t,o);const p=function XB(e,i,t){if(e.isAbsolute)return new Bb(i,!0,0);if(!t)return new Bb(i,!1,NaN);if(null===t.parent)return new Bb(t,!0,0);const o=jb(e.commands[0])?0:1;return function QB(e,i,t){let o=e,a=i,d=t;for(;d>a;){if(d-=a,o=o.parent,!o)throw new pe(4005,!1);a=o.segments.length}return new Bb(o,!1,a-d)}(t,t.segments.length-1+o,e.numberOfDoubleDots)}(d,a,e),g=p.processChildren?Qy(p.segmentGroup,p.index,d.commands):TA(p.segmentGroup,p.index,d.commands);return KE(a,p.segmentGroup,g,t,o)}function jb(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Xy(e){return"object"==typeof e&&null!=e&&e.outlets}function KE(e,i,t,o,a){let p,d={};o&&Object.entries(o).forEach(([_,E])=>{d[_]=Array.isArray(E)?E.map(I=>`${I}`):`${E}`}),p=e===i?t:IA(e,i,t);const g=wA(EA(p));return new Av(g,d,a)}function IA(e,i,t){const o={};return Object.entries(e.children).forEach(([a,d])=>{o[a]=d===i?t:IA(d,i,t)}),new Qn(e.segments,o)}class SA{constructor(i,t,o){if(this.isAbsolute=i,this.numberOfDoubleDots=t,this.commands=o,i&&o.length>0&&jb(o[0]))throw new pe(4003,!1);const a=o.find(Xy);if(a&&a!==hA(o))throw new pe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bb{constructor(i,t,o){this.segmentGroup=i,this.processChildren=t,this.index=o}}function TA(e,i,t){if(e||(e=new Qn([],{})),0===e.segments.length&&e.hasChildren())return Qy(e,i,t);const o=function eV(e,i,t){let o=0,a=i;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<e.segments.length;){if(o>=t.length)return d;const p=e.segments[a],g=t[o];if(Xy(g))break;const _=`${g}`,E=o<t.length-1?t[o+1]:null;if(a>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!AA(_,E,p))return d;o+=2}else{if(!AA(_,{},p))return d;o++}a++}return{match:!0,pathIndex:a,commandIndex:o}}(e,i,t),a=t.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){const d=new Qn(e.segments.slice(0,o.pathIndex),{});return d.children[Zt]=new Qn(e.segments.slice(o.pathIndex),e.children),Qy(d,0,a)}return o.match&&0===a.length?new Qn(e.segments,{}):o.match&&!e.hasChildren()?YE(e,i,t):o.match?Qy(e,0,a):YE(e,i,t)}function Qy(e,i,t){if(0===t.length)return new Qn(e.segments,{});{const o=function JB(e){return Xy(e[0])?e[0].outlets:{[Zt]:e}}(t),a={};if(Object.keys(o).some(d=>d!==Zt)&&e.children[Zt]&&1===e.numberOfChildren&&0===e.children[Zt].segments.length){const d=Qy(e.children[Zt],i,t);return new Qn(e.segments,d.children)}return Object.entries(o).forEach(([d,p])=>{"string"==typeof p&&(p=[p]),null!==p&&(a[d]=TA(e.children[d],i,p))}),Object.entries(e.children).forEach(([d,p])=>{void 0===o[d]&&(a[d]=p)}),new Qn(e.segments,a)}}function YE(e,i,t){const o=e.segments.slice(0,i);let a=0;for(;a<t.length;){const d=t[a];if(Xy(d)){const _=tV(d.outlets);return new Qn(o,_)}if(0===a&&jb(t[0])){o.push(new Ky(e.segments[i].path,xA(t[0]))),a++;continue}const p=Xy(d)?d.outlets[Zt]:`${d}`,g=a<t.length-1?t[a+1]:null;p&&g&&jb(g)?(o.push(new Ky(p,xA(g))),a+=2):(o.push(new Ky(p,{})),a++)}return new Qn(o,{})}function tV(e){const i={};return Object.entries(e).forEach(([t,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[t]=YE(new Qn([],{}),0,o))}),i}function xA(e){const i={};return Object.entries(e).forEach(([t,o])=>i[t]=`${o}`),i}function AA(e,i,t){return e==t.path&&pd(i,t.parameters)}const Jy="imperative";class md{constructor(i,t){this.id=i,this.url=t}}class Vb extends md{constructor(i,t,o="imperative",a=null){super(i,t),this.type=0,this.navigationTrigger=o,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rp extends md{constructor(i,t,o){super(i,t),this.urlAfterRedirects=o,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class e_ extends md{constructor(i,t,o,a){super(i,t),this.reason=o,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mv extends md{constructor(i,t,o,a){super(i,t),this.reason=o,this.code=a,this.type=16}}class Ub extends md{constructor(i,t,o,a){super(i,t),this.error=o,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class MA extends md{constructor(i,t,o,a){super(i,t),this.urlAfterRedirects=o,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nV extends md{constructor(i,t,o,a){super(i,t),this.urlAfterRedirects=o,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rV extends md{constructor(i,t,o,a,d){super(i,t),this.urlAfterRedirects=o,this.state=a,this.shouldActivate=d,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class iV extends md{constructor(i,t,o,a){super(i,t),this.urlAfterRedirects=o,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oV extends md{constructor(i,t,o,a){super(i,t),this.urlAfterRedirects=o,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sV{constructor(i){this.route=i,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class aV{constructor(i){this.route=i,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cV{constructor(i){this.snapshot=i,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uV{constructor(i){this.snapshot=i,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lV{constructor(i){this.snapshot=i,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dV{constructor(i){this.snapshot=i,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RA{constructor(i,t,o){this.routerEvent=i,this.position=t,this.anchor=o,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ZE{}class XE{constructor(i){this.url=i}}class hV{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new t_,this.attachRef=null}}let t_=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,o){const a=this.getOrCreateContext(t);a.outlet=o,this.contexts.set(t,a)}onChildOutletDestroyed(t){const o=this.getContext(t);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let o=this.getContext(t);return o||(o=new hV,this.contexts.set(t,o)),o}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class kA{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const t=this.pathFromRoot(i);return t.length>1?t[t.length-2]:null}children(i){const t=QE(i,this._root);return t?t.children.map(o=>o.value):[]}firstChild(i){const t=QE(i,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(i){const t=JE(i,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==i)}pathFromRoot(i){return JE(i,this._root).map(t=>t.value)}}function QE(e,i){if(e===i.value)return i;for(const t of i.children){const o=QE(e,t);if(o)return o}return null}function JE(e,i){if(e===i.value)return[i];for(const t of i.children){const o=JE(e,t);if(o.length)return o.unshift(i),o}return[]}class Yh{constructor(i,t){this.value=i,this.children=t}toString(){return`TreeNode(${this.value})`}}function Rv(e){const i={};return e&&e.children.forEach(t=>i[t.value.outlet]=t),i}class OA extends kA{constructor(i,t){super(i),this.snapshot=t,eC(this,i)}toString(){return this.snapshot.toString()}}function NA(e,i){const t=function fV(e,i){const p=new Hb([],{},{},"",{},Zt,i,null,{});return new FA("",new Yh(p,[]))}(0,i),o=new Vr([new Ky("",{})]),a=new Vr({}),d=new Vr({}),p=new Vr({}),g=new Vr(""),_=new kv(o,a,p,g,d,Zt,i,t.root);return _.snapshot=t.root,new OA(new Yh(_,[]),t)}class kv{constructor(i,t,o,a,d,p,g,_){this.urlSubject=i,this.paramsSubject=t,this.queryParamsSubject=o,this.fragmentSubject=a,this.dataSubject=d,this.outlet=p,this.component=g,this._futureSnapshot=_,this.title=this.dataSubject?.pipe(Qe(E=>E[Wy]))??nt(void 0),this.url=i,this.params=t,this.queryParams=o,this.fragment=a,this.data=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Qe(i=>xv(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Qe(i=>xv(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function PA(e,i="emptyOnly"){const t=e.pathFromRoot;let o=0;if("always"!==i)for(o=t.length-1;o>=1;){const a=t[o],d=t[o-1];if(a.routeConfig&&""===a.routeConfig.path)o--;else{if(d.component)break;o--}}return function pV(e){return e.reduce((i,t)=>({params:{...i.params,...t.params},data:{...i.data,...t.data},resolve:{...t.data,...i.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(o))}class Hb{get title(){return this.data?.[Wy]}constructor(i,t,o,a,d,p,g,_,E){this.url=i,this.params=t,this.queryParams=o,this.fragment=a,this.data=d,this.outlet=p,this.component=g,this.routeConfig=_,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class FA extends kA{constructor(i,t){super(t),this.url=i,eC(this,t)}toString(){return LA(this._root)}}function eC(e,i){i.value._routerState=e,i.children.forEach(t=>eC(e,t))}function LA(e){const i=e.children.length>0?` { ${e.children.map(LA).join(", ")} } `:"";return`${e.value}${i}`}function tC(e){if(e.snapshot){const i=e.snapshot,t=e._futureSnapshot;e.snapshot=t,pd(i.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),i.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),pd(i.params,t.params)||e.paramsSubject.next(t.params),function MB(e,i){if(e.length!==i.length)return!1;for(let t=0;t<e.length;++t)if(!pd(e[t],i[t]))return!1;return!0}(i.url,t.url)||e.urlSubject.next(t.url),pd(i.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function nC(e,i){const t=pd(e.params,i.params)&&function NB(e,i){return tg(e,i)&&e.every((t,o)=>pd(t.parameters,i[o].parameters))}(e.url,i.url);return t&&!(!e.parent!=!i.parent)&&(!e.parent||nC(e.parent,i.parent))}let rC=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Zt,this.activateEvents=new no,this.deactivateEvents=new no,this.attachEvents=new no,this.detachEvents=new no,this.parentContexts=Le(t_),this.location=Le(jc),this.changeDetector=Le(ab),this.environmentInjector=Le(br),this.inputBinder=Le(zb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:o,previousValue:a}=t.name;if(o)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new pe(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new pe(4013,!1);this._activatedRoute=t;const a=this.location,p=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new mV(t,g,a.injector);this.activated=a.createComponent(p,{index:a.length,injector:_,environmentInjector:o??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=fn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[va]})}return e})();class mV{constructor(i,t,o){this.route=i,this.childContexts=t,this.parent=o}get(i,t){return i===kv?this.route:i===t_?this.childContexts:this.parent.get(i,t)}}const zb=new S("");let jA=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:o}=t,a=Sb([o.queryParams,o.params,o.data]).pipe(ln(([d,p,g],_)=>(g={...d,...p,...g},0===_?nt(g):Promise.resolve(g)))).subscribe(d=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==o||null===o.component)return void this.unsubscribeFromRouteData(t);const p=function HL(e){const i=sn(e);if(!i)return null;const t=new Iy(i);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}(o.component);if(p)for(const{templateName:g}of p.inputs)t.activatedComponentRef.setInput(g,d[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,a)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();function n_(e,i,t){if(t&&e.shouldReuseRoute(i.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=i.value;const a=function vV(e,i,t){return i.children.map(o=>{for(const a of t.children)if(e.shouldReuseRoute(o.value,a.value.snapshot))return n_(e,o,a);return n_(e,o)})}(e,i,t);return new Yh(o,a)}{if(e.shouldAttach(i.value)){const d=e.retrieve(i.value);if(null!==d){const p=d.route;return p.value._futureSnapshot=i.value,p.children=i.children.map(g=>n_(e,g)),p}}const o=function yV(e){return new kv(new Vr(e.url),new Vr(e.params),new Vr(e.queryParams),new Vr(e.fragment),new Vr(e.data),e.outlet,e.component,e)}(i.value),a=i.children.map(d=>n_(e,d));return new Yh(o,a)}}const iC="ngNavigationCancelingError";function BA(e,i){const{redirectTo:t,navigationBehaviorOptions:o}=ng(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,a=VA(!1,0,i);return a.url=t,a.navigationBehaviorOptions=o,a}function VA(e,i,t){const o=new Error("NavigationCancelingError: "+(e||""));return o[iC]=!0,o.cancellationCode=i,t&&(o.url=t),o}function UA(e){return e&&e[iC]}let HA=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=xt({type:e,selectors:[["ng-component"]],standalone:!0,features:[zS],decls:1,vars:0,template:function(o,a){1&o&&mi(0,"router-outlet")},dependencies:[rC],encapsulation:2})}return e})();function oC(e){const i=e.children&&e.children.map(oC),t=i?{...e,children:i}:{...e};return!t.component&&!t.loadComponent&&(i||t.loadChildren)&&t.outlet&&t.outlet!==Zt&&(t.component=HA),t}function Hu(e){return e.outlet||Zt}function r_(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let i=e.parent;i;i=i.parent){const t=i.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class SV{constructor(i,t,o,a,d){this.routeReuseStrategy=i,this.futureState=t,this.currState=o,this.forwardEvent=a,this.inputBindingEnabled=d}activate(i){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,i),tC(this.futureState.root),this.activateChildRoutes(t,o,i)}deactivateChildRoutes(i,t,o){const a=Rv(t);i.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,a[p],o),delete a[p]}),Object.values(a).forEach(d=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(i,t,o){const a=i.value,d=t?t.value:null;if(a===d)if(a.component){const p=o.getContext(a.outlet);p&&this.deactivateChildRoutes(i,t,p.children)}else this.deactivateChildRoutes(i,t,o);else d&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(i,t){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,t):this.deactivateRouteAndOutlet(i,t)}detachAndStoreRouteSubtree(i,t){const o=t.getContext(i.value.outlet),a=o&&i.value.component?o.children:t,d=Rv(i);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);if(o&&o.outlet){const p=o.outlet.detach(),g=o.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:p,route:i,contexts:g})}}deactivateRouteAndOutlet(i,t){const o=t.getContext(i.value.outlet),a=o&&i.value.component?o.children:t,d=Rv(i);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],a);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(i,t,o){const a=Rv(t);i.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],o),this.forwardEvent(new dV(d.value.snapshot))}),i.children.length&&this.forwardEvent(new uV(i.value.snapshot))}activateRoutes(i,t,o){const a=i.value,d=t?t.value:null;if(tC(a),a===d)if(a.component){const p=o.getOrCreateContext(a.outlet);this.activateChildRoutes(i,t,p.children)}else this.activateChildRoutes(i,t,o);else if(a.component){const p=o.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const g=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),p.children.onOutletReAttached(g.contexts),p.attachRef=g.componentRef,p.route=g.route.value,p.outlet&&p.outlet.attach(g.componentRef,g.route.value),tC(g.route.value),this.activateChildRoutes(i,null,p.children)}else{const g=r_(a.snapshot);p.attachRef=null,p.route=a,p.injector=g,p.outlet&&p.outlet.activateWith(a,p.injector),this.activateChildRoutes(i,null,p.children)}}else this.activateChildRoutes(i,null,o)}}class zA{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class $b{constructor(i,t){this.component=i,this.route=t}}function TV(e,i,t){const o=e._root;return i_(o,i?i._root:null,t,[o.value])}function Ov(e,i){const t=Symbol(),o=i.get(e,t);return o===t?"function"!=typeof e||function Yu(e){return null!==Xc(e)}(e)?i.get(e):e:o}function i_(e,i,t,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=Rv(i);return e.children.forEach(p=>{(function AV(e,i,t,o,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=e.value,p=i?i.value:null,g=t?t.getContext(e.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const _=function MV(e,i,t){if("function"==typeof t)return t(e,i);switch(t){case"pathParamsChange":return!tg(e.url,i.url);case"pathParamsOrQueryParamsChange":return!tg(e.url,i.url)||!pd(e.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nC(e,i)||!pd(e.queryParams,i.queryParams);default:return!nC(e,i)}}(p,d,d.routeConfig.runGuardsAndResolvers);_?a.canActivateChecks.push(new zA(o)):(d.data=p.data,d._resolvedData=p._resolvedData),i_(e,i,d.component?g?g.children:null:t,o,a),_&&g&&g.outlet&&g.outlet.isActivated&&a.canDeactivateChecks.push(new $b(g.outlet.component,p))}else p&&o_(i,g,a),a.canActivateChecks.push(new zA(o)),i_(e,null,d.component?g?g.children:null:t,o,a)})(p,d[p.value.outlet],t,o.concat([p.value]),a),delete d[p.value.outlet]}),Object.entries(d).forEach(([p,g])=>o_(g,t.getContext(p),a)),a}function o_(e,i,t){const o=Rv(e),a=e.value;Object.entries(o).forEach(([d,p])=>{o_(p,a.component?i?i.children.getContext(d):null:i,t)}),t.canDeactivateChecks.push(new $b(a.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,a))}function s_(e){return"function"==typeof e}function $A(e){return e instanceof Tb||"EmptyError"===e?.name}const qb=Symbol("INITIAL_VALUE");function Nv(){return ln(e=>Sb(e.map(i=>i.pipe(ns(1),Mb(qb)))).pipe(Qe(i=>{for(const t of i)if(!0!==t){if(t===qb)return qb;if(!1===t||t instanceof Av)return t}return!0}),Ui(i=>i!==qb),ns(1)))}function qA(e){return function On(...e){return ao(e)}(oo(i=>{if(ng(i))throw BA(0,i)}),Qe(i=>!0===i))}class Gb{constructor(i){this.segmentGroup=i||null}}class GA{constructor(i){this.urlTree=i}}function Pv(e){return Sv(new Gb(e))}function WA(e){return Sv(new GA(e))}class ZV{constructor(i,t){this.urlSerializer=i,this.urlTree=t}noMatchError(i){return new pe(4002,!1)}lineralizeSegments(i,t){let o=[],a=t.root;for(;;){if(o=o.concat(a.segments),0===a.numberOfChildren)return nt(o);if(a.numberOfChildren>1||!a.children[Zt])return Sv(new pe(4e3,!1));a=a.children[Zt]}}applyRedirectCommands(i,t,o){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),i,o)}applyRedirectCreateUrlTree(i,t,o,a){const d=this.createSegmentGroup(i,t.root,o,a);return new Av(d,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(i,t){const o={};return Object.entries(i).forEach(([a,d])=>{if("string"==typeof d&&d.startsWith(":")){const g=d.substring(1);o[a]=t[g]}else o[a]=d}),o}createSegmentGroup(i,t,o,a){const d=this.createSegments(i,t.segments,o,a);let p={};return Object.entries(t.children).forEach(([g,_])=>{p[g]=this.createSegmentGroup(i,_,o,a)}),new Qn(d,p)}createSegments(i,t,o,a){return t.map(d=>d.path.startsWith(":")?this.findPosParam(i,d,a):this.findOrReturn(d,o))}findPosParam(i,t,o){const a=o[t.path.substring(1)];if(!a)throw new pe(4001,!1);return a}findOrReturn(i,t){let o=0;for(const a of t){if(a.path===i.path)return t.splice(o),a;o++}return i}}const sC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XV(e,i,t,o,a){const d=aC(e,i,t);return d.matched?(o=function bV(e,i){return e.providers&&!e._injector&&(e._injector=kw(e.providers,i,`Route: ${e.path}`)),e._injector??i}(i,o),function WV(e,i,t,o){const a=i.canMatch;return a&&0!==a.length?nt(a.map(p=>{const g=Ov(p,e);return Mp(function FV(e){return e&&s_(e.canMatch)}(g)?g.canMatch(i,t):e.runInContext(()=>g(i,t)))})).pipe(Nv(),qA()):nt(!0)}(o,i,t).pipe(Qe(p=>!0===p?d:{...sC}))):nt(d)}function aC(e,i,t){if(""===i.path)return"full"===i.pathMatch&&(e.hasChildren()||t.length>0)?{...sC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(i.matcher||AB)(t,e,i);if(!a)return{...sC};const d={};Object.entries(a.posParams??{}).forEach(([g,_])=>{d[g]=_.path});const p=a.consumed.length>0?{...d,...a.consumed[a.consumed.length-1].parameters}:d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:p,positionalParamSegments:a.posParams??{}}}function KA(e,i,t,o){return t.length>0&&function eU(e,i,t){return t.some(o=>Wb(e,i,o)&&Hu(o)!==Zt)}(e,t,o)?{segmentGroup:new Qn(i,JV(o,new Qn(t,e.children))),slicedSegments:[]}:0===t.length&&function tU(e,i,t){return t.some(o=>Wb(e,i,o))}(e,t,o)?{segmentGroup:new Qn(e.segments,QV(e,0,t,o,e.children)),slicedSegments:t}:{segmentGroup:new Qn(e.segments,e.children),slicedSegments:t}}function QV(e,i,t,o,a){const d={};for(const p of o)if(Wb(e,t,p)&&!a[Hu(p)]){const g=new Qn([],{});d[Hu(p)]=g}return{...a,...d}}function JV(e,i){const t={};t[Zt]=i;for(const o of e)if(""===o.path&&Hu(o)!==Zt){const a=new Qn([],{});t[Hu(o)]=a}return t}function Wb(e,i,t){return(!(e.hasChildren()||i.length>0)||"full"!==t.pathMatch)&&""===t.path}class oU{constructor(i,t,o,a,d,p,g){this.injector=i,this.configLoader=t,this.rootComponentType=o,this.config=a,this.urlTree=d,this.paramsInheritanceStrategy=p,this.urlSerializer=g,this.allowRedirects=!0,this.applyRedirects=new ZV(this.urlSerializer,this.urlTree)}noMatchError(i){return new pe(4002,!1)}recognize(){const i=KA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,i,Zt).pipe(Ap(t=>{if(t instanceof GA)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Gb?this.noMatchError(t):t}),Qe(t=>{const o=new Hb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Zt,this.rootComponentType,null,{}),a=new Yh(o,t),d=new FA("",a),p=function YB(e,i,t=null,o=null){return DA(CA(e),i,t,o)}(o,[],this.urlTree.queryParams,this.urlTree.fragment);return p.queryParams=this.urlTree.queryParams,d.url=this.urlSerializer.serialize(p),this.inheritParamsAndData(d._root),{state:d,tree:p}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i.root,Zt).pipe(Ap(o=>{throw o instanceof Gb?this.noMatchError(o):o}))}inheritParamsAndData(i){const t=i.value,o=PA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),i.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(i,t,o,a){return 0===o.segments.length&&o.hasChildren()?this.processChildren(i,t,o):this.processSegment(i,t,o,o.segments,a,!0)}processChildren(i,t,o){const a=[];for(const d of Object.keys(o.children))"primary"===d?a.unshift(d):a.push(d);return _t(a).pipe(Tv(d=>{const p=o.children[d],g=function DV(e,i){const t=e.filter(o=>Hu(o)===i);return t.push(...e.filter(o=>Hu(o)!==i)),t}(t,d);return this.processSegmentGroup(i,g,p,d)}),function IB(e,i){return fe(function DB(e,i,t,o,a){return(d,p)=>{let g=t,_=i,E=0;d.subscribe(Ie(p,I=>{const R=E++;_=g?e(_,I,R):(g=!0,I),o&&p.next(_)},a&&(()=>{g&&p.next(_),p.complete()})))}}(e,i,arguments.length>=2,!0))}((d,p)=>(d.push(...p),d)),Rb(null),function SB(e,i){const t=arguments.length>=2;return o=>o.pipe(e?Ui((a,d)=>e(a,d,o)):Lr,$E(1),t?Rb(i):lA(()=>new Tb))}(),It(d=>{if(null===d)return Pv(o);const p=YA(d);return function sU(e){e.sort((i,t)=>i.value.outlet===Zt?-1:t.value.outlet===Zt?1:i.value.outlet.localeCompare(t.value.outlet))}(p),nt(p)}))}processSegment(i,t,o,a,d,p){return _t(t).pipe(Tv(g=>this.processSegmentAgainstRoute(g._injector??i,t,g,o,a,d,p).pipe(Ap(_=>{if(_ instanceof Gb)return nt(null);throw _}))),eg(g=>!!g),Ap(g=>{if($A(g))return function rU(e,i,t){return 0===i.length&&!e.children[t]}(o,a,d)?nt([]):Pv(o);throw g}))}processSegmentAgainstRoute(i,t,o,a,d,p,g){return function nU(e,i,t,o){return!!(Hu(e)===o||o!==Zt&&Wb(i,t,e))&&("**"===e.path||aC(i,e,t).matched)}(o,a,d,p)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(i,a,o,d,p,g):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,a,t,o,d,p):Pv(a):Pv(a)}expandSegmentAgainstRouteUsingRedirect(i,t,o,a,d,p){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,o,a,p):this.expandRegularSegmentAgainstRouteUsingRedirect(i,t,o,a,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,t,o,a){const d=this.applyRedirects.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?WA(d):this.applyRedirects.lineralizeSegments(o,d).pipe(It(p=>{const g=new Qn(p,{});return this.processSegment(i,t,g,p,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,t,o,a,d,p){const{matched:g,consumedSegments:_,remainingSegments:E,positionalParamSegments:I}=aC(t,a,d);if(!g)return Pv(t);const R=this.applyRedirects.applyRedirectCommands(_,a.redirectTo,I);return a.redirectTo.startsWith("/")?WA(R):this.applyRedirects.lineralizeSegments(a,R).pipe(It(F=>this.processSegment(i,o,t,F.concat(E),p,!1)))}matchSegmentAgainstRoute(i,t,o,a,d,p){let g;if("**"===o.path){const _=a.length>0?hA(a).parameters:{};g=nt({snapshot:new Hb(a,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZA(o),Hu(o),o.component??o._loadedComponent??null,o,XA(o)),consumedSegments:[],remainingSegments:[]}),t.children={}}else g=XV(t,o,a,i).pipe(Qe(({matched:_,consumedSegments:E,remainingSegments:I,parameters:R})=>_?{snapshot:new Hb(E,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ZA(o),Hu(o),o.component??o._loadedComponent??null,o,XA(o)),consumedSegments:E,remainingSegments:I}:null));return g.pipe(ln(_=>null===_?Pv(t):this.getChildConfig(i=o._injector??i,o,a).pipe(ln(({routes:E})=>{const I=o._loadedInjector??i,{snapshot:R,consumedSegments:F,remainingSegments:j}=_,{segmentGroup:H,slicedSegments:W}=KA(t,F,j,E);if(0===W.length&&H.hasChildren())return this.processChildren(I,E,H).pipe(Qe(we=>null===we?null:[new Yh(R,we)]));if(0===E.length&&0===W.length)return nt([new Yh(R,[])]);const he=Hu(o)===d;return this.processSegment(I,E,H,W,he?Zt:d,!0).pipe(Qe(we=>[new Yh(R,we)]))}))))}getChildConfig(i,t,o){return t.children?nt({routes:t.children,injector:i}):t.loadChildren?void 0!==t._loadedRoutes?nt({routes:t._loadedRoutes,injector:t._loadedInjector}):function GV(e,i,t,o){const a=i.canLoad;return void 0===a||0===a.length?nt(!0):nt(a.map(p=>{const g=Ov(p,e);return Mp(function kV(e){return e&&s_(e.canLoad)}(g)?g.canLoad(i,t):e.runInContext(()=>g(i,t)))})).pipe(Nv(),qA())}(i,t,o).pipe(It(a=>a?this.configLoader.loadChildren(i,t).pipe(oo(d=>{t._loadedRoutes=d.routes,t._loadedInjector=d.injector})):function YV(e){return Sv(VA(!1,3))}())):nt({routes:[],injector:i})}}function aU(e){const i=e.value.routeConfig;return i&&""===i.path}function YA(e){const i=[],t=new Set;for(const o of e){if(!aU(o)){i.push(o);continue}const a=i.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...o.children),t.add(a)):i.push(o)}for(const o of t){const a=YA(o.children);i.push(new Yh(o.value,a))}return i.filter(o=>!t.has(o))}function ZA(e){return e.data||{}}function XA(e){return e.resolve||{}}function QA(e){return"string"==typeof e.title||null===e.title}function cC(e){return ln(i=>{const t=e(i);return t?_t(t).pipe(Qe(()=>i)):nt(i)})}const Fv=new S("ROUTES");let uC=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Le(FT)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return nt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const o=Mp(t.loadComponent()).pipe(Qe(JA),oo(d=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=d}),kb(()=>{this.componentLoaders.delete(t)})),a=new uA(o,()=>new K).pipe(zE());return this.componentLoaders.set(t,a),a}loadChildren(t,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return nt({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);const d=function pU(e,i,t,o){return Mp(e.loadChildren()).pipe(Qe(JA),It(a=>a instanceof US||Array.isArray(a)?nt(a):_t(i.compileModuleAsync(a))),Qe(a=>{o&&o(e);let d,p,g=!1;return Array.isArray(a)?(p=a,!0):(d=a.create(t).injector,p=d.get(Fv,[],{optional:!0,self:!0}).flat()),{routes:p.map(oC),injector:d}}))}(o,this.compiler,t,this.onLoadEndListener).pipe(kb(()=>{this.childrenLoaders.delete(o)})),p=new uA(d,()=>new K).pipe(zE());return this.childrenLoaders.set(o,p),p}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function JA(e){return function mU(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Kb=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new K,this.transitionAbortSubject=new K,this.configLoader=Le(uC),this.environmentInjector=Le(br),this.urlSerializer=Le(Yy),this.rootContexts=Le(t_),this.inputBindingEnabled=null!==Le(zb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>nt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new aV(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new sV(a))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const o=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:o})}setupNavigations(t,o,a){return this.transitions=new Vr({id:0,currentUrlTree:o,currentRawUrl:o,currentBrowserUrl:o,extractedUrl:t.urlHandlingStrategy.extract(o),urlAfterRedirects:t.urlHandlingStrategy.extract(o),rawUrl:o,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Jy,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ui(d=>0!==d.id),Qe(d=>({...d,extractedUrl:t.urlHandlingStrategy.extract(d.rawUrl)})),ln(d=>{this.currentTransition=d;let p=!1,g=!1;return nt(d).pipe(oo(_=>{this.currentNavigation={id:_.id,initialUrl:_.rawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ln(_=>{const E=_.currentBrowserUrl.toString(),I=!t.navigated||_.extractedUrl.toString()!==E||E!==_.currentUrlTree.toString();if(!I&&"reload"!==(_.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const F="";return this.events.next(new Mv(_.id,this.urlSerializer.serialize(_.rawUrl),F,0)),_.resolve(null),pr}if(t.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return nt(_).pipe(ln(F=>{const j=this.transitions?.getValue();return this.events.next(new Vb(F.id,this.urlSerializer.serialize(F.extractedUrl),F.source,F.restoredState)),j!==this.transitions?.getValue()?pr:Promise.resolve(F)}),function cU(e,i,t,o,a,d){return It(p=>function iU(e,i,t,o,a,d,p="emptyOnly"){return new oU(e,i,t,o,a,p,d).recognize()}(e,i,t,o,p.extractedUrl,a,d).pipe(Qe(({state:g,tree:_})=>({...p,targetSnapshot:g,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),oo(F=>{d.targetSnapshot=F.targetSnapshot,d.urlAfterRedirects=F.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:F.urlAfterRedirects};const j=new MA(F.id,this.urlSerializer.serialize(F.extractedUrl),this.urlSerializer.serialize(F.urlAfterRedirects),F.targetSnapshot);this.events.next(j)}));if(I&&t.urlHandlingStrategy.shouldProcessUrl(_.currentRawUrl)){const{id:F,extractedUrl:j,source:H,restoredState:W,extras:he}=_,we=new Vb(F,this.urlSerializer.serialize(j),H,W);this.events.next(we);const ae=NA(0,this.rootComponentType).snapshot;return this.currentTransition=d={..._,targetSnapshot:ae,urlAfterRedirects:j,extras:{...he,skipLocationChange:!1,replaceUrl:!1}},nt(d)}{const F="";return this.events.next(new Mv(_.id,this.urlSerializer.serialize(_.extractedUrl),F,1)),_.resolve(null),pr}}),oo(_=>{const E=new nV(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(E)}),Qe(_=>(this.currentTransition=d={..._,guards:TV(_.targetSnapshot,_.currentSnapshot,this.rootContexts)},d)),function jV(e,i){return It(t=>{const{targetSnapshot:o,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:p}}=t;return 0===p.length&&0===d.length?nt({...t,guardsResult:!0}):function BV(e,i,t,o){return _t(e).pipe(It(a=>function qV(e,i,t,o,a){const d=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return d&&0!==d.length?nt(d.map(g=>{const _=r_(i)??a,E=Ov(g,_);return Mp(function PV(e){return e&&s_(e.canDeactivate)}(E)?E.canDeactivate(e,i,t,o):_.runInContext(()=>E(e,i,t,o))).pipe(eg())})).pipe(Nv()):nt(!0)}(a.component,a.route,t,i,o)),eg(a=>!0!==a,!0))}(p,o,a,e).pipe(It(g=>g&&function RV(e){return"boolean"==typeof e}(g)?function VV(e,i,t,o){return _t(i).pipe(Tv(a=>xb(function HV(e,i){return null!==e&&i&&i(new cV(e)),nt(!0)}(a.route.parent,o),function UV(e,i){return null!==e&&i&&i(new lV(e)),nt(!0)}(a.route,o),function $V(e,i,t){const o=i[i.length-1],d=i.slice(0,i.length-1).reverse().map(p=>function xV(e){const i=e.routeConfig?e.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:e,guards:i}:null}(p)).filter(p=>null!==p).map(p=>Ab(()=>nt(p.guards.map(_=>{const E=r_(p.node)??t,I=Ov(_,E);return Mp(function NV(e){return e&&s_(e.canActivateChild)}(I)?I.canActivateChild(o,e):E.runInContext(()=>I(o,e))).pipe(eg())})).pipe(Nv())));return nt(d).pipe(Nv())}(e,a.path,t),function zV(e,i,t){const o=i.routeConfig?i.routeConfig.canActivate:null;if(!o||0===o.length)return nt(!0);const a=o.map(d=>Ab(()=>{const p=r_(i)??t,g=Ov(d,p);return Mp(function OV(e){return e&&s_(e.canActivate)}(g)?g.canActivate(i,e):p.runInContext(()=>g(i,e))).pipe(eg())}));return nt(a).pipe(Nv())}(e,a.route,t))),eg(a=>!0!==a,!0))}(o,d,e,i):nt(g)),Qe(g=>({...t,guardsResult:g})))})}(this.environmentInjector,_=>this.events.next(_)),oo(_=>{if(d.guardsResult=_.guardsResult,ng(_.guardsResult))throw BA(0,_.guardsResult);const E=new rV(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.events.next(E)}),Ui(_=>!!_.guardsResult||(this.cancelNavigationTransition(_,"",3),!1)),cC(_=>{if(_.guards.canActivateChecks.length)return nt(_).pipe(oo(E=>{const I=new iV(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(I)}),ln(E=>{let I=!1;return nt(E).pipe(function uU(e,i){return It(t=>{const{targetSnapshot:o,guards:{canActivateChecks:a}}=t;if(!a.length)return nt(t);let d=0;return _t(a).pipe(Tv(p=>function lU(e,i,t,o){const a=e.routeConfig,d=e._resolve;return void 0!==a?.title&&!QA(a)&&(d[Wy]=a.title),function dU(e,i,t,o){const a=function hU(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===a.length)return nt({});const d={};return _t(a).pipe(It(p=>function fU(e,i,t,o){const a=r_(i)??o,d=Ov(e,a);return Mp(d.resolve?d.resolve(i,t):a.runInContext(()=>d(i,t)))}(e[p],i,t,o).pipe(eg(),oo(g=>{d[p]=g}))),$E(1),function TB(e){return Qe(()=>e)}(d),Ap(p=>$A(p)?pr:Sv(p)))}(d,e,i,o).pipe(Qe(p=>(e._resolvedData=p,e.data=PA(e,t).resolve,a&&QA(a)&&(e.data[Wy]=a.title),null)))}(p.route,o,e,i)),oo(()=>d++),$E(1),It(p=>d===a.length?nt(t):pr))})}(t.paramsInheritanceStrategy,this.environmentInjector),oo({next:()=>I=!0,complete:()=>{I||this.cancelNavigationTransition(E,"",2)}}))}),oo(E=>{const I=new oV(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(I)}))}),cC(_=>{const E=I=>{const R=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(I.routeConfig).pipe(oo(F=>{I.component=F}),Qe(()=>{})));for(const F of I.children)R.push(...E(F));return R};return Sb(E(_.targetSnapshot.root)).pipe(Rb(),ns(1))}),cC(()=>this.afterPreactivation()),Qe(_=>{const E=function gV(e,i,t){const o=n_(e,i._root,t?t._root:void 0);return new OA(o,i)}(t.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return this.currentTransition=d={..._,targetRouterState:E},d}),oo(()=>{this.events.next(new ZE)}),((e,i,t,o)=>Qe(a=>(new SV(i,a.targetRouterState,a.currentRouterState,t,o).activate(e),a)))(this.rootContexts,t.routeReuseStrategy,_=>this.events.next(_),this.inputBindingEnabled),ns(1),oo({next:_=>{p=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rp(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects))),t.titleStrategy?.updateTitle(_.targetRouterState.snapshot),_.resolve(!0)},complete:()=>{p=!0}}),Ob(this.transitionAbortSubject.pipe(oo(_=>{throw _}))),kb(()=>{p||g||this.cancelNavigationTransition(d,"",1),this.currentNavigation?.id===d.id&&(this.currentNavigation=null)}),Ap(_=>{if(g=!0,UA(_))this.events.next(new e_(d.id,this.urlSerializer.serialize(d.extractedUrl),_.message,_.cancellationCode)),function _V(e){return UA(e)&&ng(e.url)}(_)?this.events.next(new XE(_.url)):d.resolve(!1);else{this.events.next(new Ub(d.id,this.urlSerializer.serialize(d.extractedUrl),_,d.targetSnapshot??void 0));try{d.resolve(t.errorHandler(_))}catch(E){d.reject(E)}}return pr}))}))}cancelNavigationTransition(t,o,a){const d=new e_(t.id,this.urlSerializer.serialize(t.extractedUrl),o,a);this.events.next(d),t.resolve(!1)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eM(e){return e!==Jy}let tM=(()=>{class e{buildTitle(t){let o,a=t.root;for(;void 0!==a;)o=this.getResolvedTitleForRoute(a)??o,a=a.children.find(d=>d.outlet===Zt);return o}getResolvedTitleForRoute(t){return t.data[Wy]}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:function(){return Le(gU)},providedIn:"root"})}return e})(),gU=(()=>{class e extends tM{constructor(t){super(),this.title=t}updateTitle(t){const o=this.buildTitle(t);void 0!==o&&this.title.setTitle(o)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(tA))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vU=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:function(){return Le(_U)},providedIn:"root"})}return e})();class yU{shouldDetach(i){return!1}store(i,t){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,t){return i.routeConfig===t.routeConfig}}let _U=(()=>{class e extends yU{static#e=this.\u0275fac=function(){let t;return function(a){return(t||(t=function Gr(e){return Ho(()=>{const i=e.prototype.constructor,t=i[Ps]||qs(i),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const d=a[Ps]||qs(a);if(d&&d!==t)return d;a=Object.getPrototypeOf(a)}return d=>new d})}(e)))(a||e)}}();static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Yb=new S("",{providedIn:"root",factory:()=>({})});let bU=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:function(){return Le(wU)},providedIn:"root"})}return e})(),wU=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,o){return t}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var a_=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(a_||{});function nM(e,i){e.events.pipe(Ui(t=>t instanceof Rp||t instanceof e_||t instanceof Ub||t instanceof Mv),Qe(t=>t instanceof Rp||t instanceof Mv?a_.COMPLETE:t instanceof e_&&(0===t.code||1===t.code)?a_.REDIRECTING:a_.FAILED),Ui(t=>t!==a_.REDIRECTING),ns(1)).subscribe(()=>{i()})}function EU(e){throw e}function CU(e,i,t){return i.parse("/")}const DU={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IU={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fo=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Le(NT),this.isNgZoneEnabled=!1,this._events=new K,this.options=Le(Yb,{optional:!0})||{},this.pendingTasks=Le(PT),this.errorHandler=this.options.errorHandler||EU,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||CU,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Le(bU),this.routeReuseStrategy=Le(vU),this.titleStrategy=Le(tM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Le(Fv,{optional:!0})?.flat()??[],this.navigationTransitions=Le(Kb),this.urlSerializer=Le(Yy),this.location=Le(Hy),this.componentInputBindingEnabled=!!Le(zb,{optional:!0}),this.eventsSubscription=new Ot,this.isNgZoneEnabled=Le(Lt)instanceof Lt&&Lt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Av,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=NA(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(o=>{try{const{currentTransition:a}=this.navigationTransitions;if(null===a)return void(rM(o)&&this._events.next(o));if(o instanceof Vb)eM(a.source)&&(this.browserUrlTree=a.extractedUrl);else if(o instanceof Mv)this.rawUrlTree=a.rawUrl;else if(o instanceof MA){if("eager"===this.urlUpdateStrategy){if(!a.extras.skipLocationChange){const d=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl);this.setBrowserUrl(d,a)}this.browserUrlTree=a.urlAfterRedirects}}else if(o instanceof ZE)this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects);else if(o instanceof e_)0!==o.code&&1!==o.code&&(this.navigated=!0),(3===o.code||2===o.code)&&this.restoreHistory(a);else if(o instanceof XE){const d=this.urlHandlingStrategy.merge(o.url,a.currentRawUrl),p={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||eM(a.source)};this.scheduleNavigation(d,Jy,null,p,{resolve:a.resolve,reject:a.reject,promise:a.promise})}o instanceof Ub&&this.restoreHistory(a,!0),o instanceof Rp&&(this.navigated=!0),rM(o)&&this._events.next(o)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Jy,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,o,t.state)},0)}))}navigateToSyncWithBrowser(t,o,a){const d={replaceUrl:!0},p=a?.navigationId?a:null;if(a){const _={...a};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(d.state=_)}const g=this.parseUrl(t);this.scheduleNavigation(g,o,p,d)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(oC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,o={}){const{relativeTo:a,queryParams:d,fragment:p,queryParamsHandling:g,preserveFragment:_}=o,E=_?this.currentUrlTree.fragment:p;let R,I=null;switch(g){case"merge":I={...this.currentUrlTree.queryParams,...d};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=d||null}null!==I&&(I=this.removeEmptyProps(I));try{R=CA(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),R=this.currentUrlTree.root}return DA(R,t,I,E??null)}navigateByUrl(t,o={skipLocationChange:!1}){const a=ng(t)?t:this.parseUrl(t),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,Jy,null,o)}navigate(t,o={skipLocationChange:!1}){return function SU(e){for(let i=0;i<e.length;i++)if(null==e[i])throw new pe(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(a){o=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return o}isActive(t,o){let a;if(a=!0===o?{...DU}:!1===o?{...IU}:o,ng(t))return pA(this.currentUrlTree,t,a);const d=this.parseUrl(t);return pA(this.currentUrlTree,d,a)}removeEmptyProps(t){return Object.keys(t).reduce((o,a)=>{const d=t[a];return null!=d&&(o[a]=d),o},{})}scheduleNavigation(t,o,a,d,p){if(this.disposed)return Promise.resolve(!1);let g,_,E;p?(g=p.resolve,_=p.reject,E=p.promise):E=new Promise((R,F)=>{g=R,_=F});const I=this.pendingTasks.add();return nM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:d,resolve:g,reject:_,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(R=>Promise.reject(R))}setBrowserUrl(t,o){const a=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(a)||o.extras.replaceUrl){const p={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId)};this.location.replaceState(a,"",p)}else{const d={...o.extras.state,...this.generateNgRouterState(o.id,this.browserPageId+1)};this.location.go(a,"",d)}}restoreHistory(t,o=!1){if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-this.browserPageId;0!==d?this.location.historyGo(d):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rM(e){return!(e instanceof ZE||e instanceof XE)}let Zb=(()=>{class e{constructor(t,o,a,d,p,g){this.router=t,this.route=o,this.tabIndexAttribute=a,this.renderer=d,this.el=p,this.locationStrategy=g,this.href=null,this.commands=null,this.onChanges=new K,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _=p.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(E=>{E instanceof Rp&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,o,a,d,p){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||o||a||d||p||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function zm(e,i,t){return function fp(e,i){return"src"===i&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===i&&("base"===e||"link"===e)?ea:Oa}(i,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,o){const a=this.renderer,d=this.el.nativeElement;null!==o?a.setAttribute(d,t,o):a.removeAttribute(d,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(o){return new(o||e)(ge(Fo),ge(kv),Dl("tabindex"),ge(C),ge(m),ge(Jm))};static#t=this.\u0275dir=fn({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(o,a){1&o&&pn("click",function(p){return a.onClick(p.button,p.ctrlKey,p.shiftKey,p.altKey,p.metaKey)}),2&o&&ud("target",a.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",lE],skipLocationChange:["skipLocationChange","skipLocationChange",lE],replaceUrl:["replaceUrl","replaceUrl",lE],routerLink:"routerLink"},standalone:!0,features:[sI,va]})}return e})(),iM=(()=>{class e{get isActive(){return this._isActive}constructor(t,o,a,d,p){this.router=t,this.element=o,this.renderer=a,this.cdr=d,this.link=p,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new no,this.routerEventsSubscription=t.events.subscribe(g=>{g instanceof Rp&&this.update()})}ngAfterContentInit(){nt(this.links.changes,nt(null)).pipe(Gi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=_t(t).pipe(Gi()).subscribe(o=>{this._isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(t){const o=Array.isArray(t)?t:t.split(" ");this.classes=o.filter(a=>!!a)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(o=>{t?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const o=function TU(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return a=>!!a.urlTree&&t.isActive(a.urlTree,o)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(o){return new(o||e)(ge(Fo),ge(m),ge(C),ge(ab),ge(Zb,8))};static#t=this.\u0275dir=fn({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(o,a,d){if(1&o&&function pT(e,i,t,o){const a=Kt();if(a.firstCreatePass){const d=Mr();gT(a,new dT(i,t,o),d.index),function hF(e,i){const t=e.contentQueries||(e.contentQueries=[]);i!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,i)}(a,e),2==(2&t)&&(a.staticContentQueries=!0)}mT(a,be(),t)}(d,Zb,5),2&o){let p;Hw(p=zw())&&(a.links=p)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[va]})}return e})();class oM{}let xU=(()=>{class e{constructor(t,o,a,d,p){this.router=t,this.injector=a,this.preloadingStrategy=d,this.loader=p}setUpPreloading(){this.subscription=this.router.events.pipe(Ui(t=>t instanceof Rp),Tv(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const a=[];for(const d of o){d.providers&&!d._injector&&(d._injector=kw(d.providers,t,`Route: ${d.path}`));const p=d._injector??t,g=d._loadedInjector??p;(d.loadChildren&&!d._loadedRoutes&&void 0===d.canLoad||d.loadComponent&&!d._loadedComponent)&&a.push(this.preloadConfig(p,d)),(d.children||d._loadedRoutes)&&a.push(this.processRoutes(g,d.children??d._loadedRoutes))}return _t(a).pipe(Gi())}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>{let a;a=o.loadChildren&&void 0===o.canLoad?this.loader.loadChildren(t,o):nt(null);const d=a.pipe(It(p=>null===p?nt(void 0):(o._loadedRoutes=p.routes,o._loadedInjector=p.injector,this.processRoutes(p.injector??t,p.routes))));return o.loadComponent&&!o._loadedComponent?_t([d,this.loader.loadComponent(o)]).pipe(Gi()):d})}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Fo),ne(FT),ne(br),ne(oM),ne(uC))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const lC=new S("");let sM=(()=>{class e{constructor(t,o,a,d,p={}){this.urlSerializer=t,this.transitions=o,this.viewportScroller=a,this.zone=d,this.options=p,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},p.scrollPositionRestoration=p.scrollPositionRestoration||"disabled",p.anchorScrolling=p.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Vb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Rp?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Mv&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof RA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new RA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(o){F_()};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();function Zh(e,i){return{\u0275kind:e,\u0275providers:i}}function cM(){const e=Le(ti);return i=>{const t=e.get(Tp);if(i!==t.components[0])return;const o=e.get(Fo),a=e.get(uM);1===e.get(dC)&&o.initialNavigation(),e.get(lM,null,Dt.Optional)?.setUpPreloading(),e.get(lC,null,Dt.Optional)?.init(),o.resetRootComponentType(t.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}const uM=new S("",{factory:()=>new K}),dC=new S("",{providedIn:"root",factory:()=>1}),lM=new S("");function kU(e){return Zh(0,[{provide:lM,useExisting:xU},{provide:oM,useExisting:e}])}const dM=new S("ROUTER_FORROOT_GUARD"),NU=[Hy,{provide:Yy,useClass:qE},Fo,t_,{provide:kv,useFactory:function aM(e){return e.routerState.root},deps:[Fo]},uC,[]];function PU(){return new zT("Router",Fo)}let hM=(()=>{class e{constructor(t){}static forRoot(t,o){return{ngModule:e,providers:[NU,[],{provide:Fv,multi:!0,useValue:t},{provide:dM,useFactory:BU,deps:[[Fo,new xa,new Rl]]},{provide:Yb,useValue:o||{}},o?.useHash?{provide:Jm,useClass:WL}:{provide:Jm,useClass:_x},{provide:lC,useFactory:()=>{const e=Le(fj),i=Le(Lt),t=Le(Yb),o=Le(Kb),a=Le(Yy);return t.scrollOffset&&e.setOffset(t.scrollOffset),new sM(a,o,e,i,t)}},o?.preloadingStrategy?kU(o.preloadingStrategy).\u0275providers:[],{provide:zT,multi:!0,useFactory:PU},o?.initialNavigation?VU(o):[],o?.bindToComponentInputs?Zh(8,[jA,{provide:zb,useExisting:jA}]).\u0275providers:[],[{provide:fM,useFactory:cM},{provide:rE,multi:!0,useExisting:fM}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Fv,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(o){return new(o||e)(ne(dM,8))};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({})}return e})();function BU(e){return"guarded"}function VU(e){return["disabled"===e.initialNavigation?Zh(3,[{provide:Yw,multi:!0,useFactory:()=>{const i=Le(Fo);return()=>{i.setUpLocationChangeListener()}}},{provide:dC,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Zh(2,[{provide:dC,useValue:0},{provide:Yw,multi:!0,deps:[ti],useFactory:i=>{const t=i.get(qL,Promise.resolve());return()=>t.then(()=>new Promise(o=>{const a=i.get(Fo),d=i.get(uM);nM(a,()=>{o(!0)}),i.get(Kb).afterPreactivation=()=>(o(!0),d.closed?nt(void 0):d),a.initialNavigation()}))}}]).\u0275providers:[]]}const fM=new S(""),Ka=$t(301);class Ya{static init(i){return Ka.default.initializeApp(i),[]}static getFirestore(){return Ka.default.firestore()}static _getFirestore(){return Ka.default.firestore}static getAuth(){return Ka.default.auth()}static getStorage(){return Ka.default.storage()}static getFirestoreTimestamp(){return Ka.default.firestore.Timestamp.now()}}$t(960);class rg{constructor(){this.auth=Ya.getAuth()}createAccountWith(i){return new Promise((t,o)=>{this.auth.createUserWithEmailAndPassword(i.email,i.password).then(a=>{try{i.onComplete(a)}catch{}t(a)}).catch(a=>{try{i.onFail(a)}catch{}o(a)})})}signInAnonymously(i){return new Promise((t,o)=>{this.auth.signInAnonymously().then(a=>{try{i.onComplete(a)}catch{}t(a)}).catch(a=>{try{i.onFail(a)}catch{}o(a)})})}signInWith(i){return new Promise((t,o)=>{i.provider?this.auth.signInWithPopup(this.getProvider(i.provider)).then(a=>{try{i.onComplete(a)}catch{}t(a)}).catch(a=>{try{i.onFail(a)}catch{}o(a)}):this.auth.signInWithEmailAndPassword(i.email,i.password).then(a=>{try{i.onComplete(a)}catch{}t(a)}).catch(a=>{try{i.onFail(a)}catch{}o(a)})})}getProvider(i){switch(i.toLowerCase()){case"google":return new Ka.default.auth.GoogleAuthProvider;case"apple":return new Ka.default.auth.OAuthProvider("apple.com");case"facebook":return new Ka.default.auth.FacebookAuthProvider;case"yahoo":return new Ka.default.auth.OAuthProvider("yahoo.com");case"github":return new Ka.default.auth.GithubAuthProvider;case"twitter":return new Ka.default.auth.TwitterAuthProvider;case"microsoft":return new Ka.default.auth.OAuthProvider("microsoft.com")}}signOut(i){return new Promise((t,o)=>{i?this.auth.signOut().then(()=>{try{i.onComplete()}catch{}t()}).catch(()=>{try{i.onFail()}catch{}o(new Error("Failed to signout."))}):this.auth.signOut()})}listenToSignInStateChanges(i){this.auth.onAuthStateChanged(t=>{i(t)})}sendVerificationEmail(){try{this.validateIsSignedIn(),this.auth.currentUser.sendEmailVerification()}catch(i){console.error(`${i} User must be signed in to use the sendVerificaitonEmail() function.`)}}sendPasswordResetEmail(i){i.onComplete?this.auth.sendPasswordResetEmail(i.email).then(()=>i.onComplete(`Instructions to reset password was sent to ${i.email}.`)).catch(()=>i.onComplete("Failed to send password reset email.")):this.auth.sendPasswordResetEmail(i.email)}isEmailVerified(){try{return this.validateIsSignedIn(),this.auth.currentUser.emailVerified}catch(i){console.error(`User must be signed in to use the isEmailVerified() function. \n${i}`)}return!1}isSignedIn(){return null!=this.auth.currentUser||null!=this.auth.currentUser}validateIsSignedIn(){if(!this.isSignedIn())throw new Error("No user was signed in.")}getAuth(){return this.auth}checkSignInState(i){let t=this.getAuth().currentUser;try{i.whenChanged(t)}catch{}if(this.isSignedIn()){try{i.whenSignedIn(t)}catch{}if(this.isEmailVerified())try{i.whenSignedInAndEmailVerified(t)}catch{}else try{i.whenSignedInAndEmailNotVerified(t)}catch{}}else try{i.whenSignedOut(t)}catch{}}}let hC;try{hC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hC=!1}let c_,ig,fC,Ms=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function hj(e){return e===Fx}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Rc))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Xb(e){return function HU(){if(null==c_&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>c_=!0}))}finally{c_=c_||!1}return c_}()?e:!!e.capture}function zU(){if(null==ig){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ig=!1,ig;if("scrollBehavior"in document.documentElement.style)ig=!0;else{const e=Element.prototype.scrollTo;ig=!!e&&!/\{\s*\[native code\]\s*\}/.test(e.toString())}}return ig}function pC(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){const i=e.shadowRoot.activeElement;if(i===e)break;e=i}return e}function kp(e){return e.composedPath?e.composedPath()[0]:e.target}function mC(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function vC(e,...i){return i.length?i.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function mM(e){return Ui((i,t)=>e<=t)}function jv(e){return null!=e&&"false"!=`${e}`}function gM(e,i=0){return function XU(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):i}function Jb(e){return Array.isArray(e)?e:[e]}function Hi(e){return null==e?"":"string"==typeof e?e:`${e}px`}function Bv(e){return e instanceof m?e.nativeElement:e}let QU=(()=>{class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),JU=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({providers:[QU]})}return e})();class e3 extends Ot{constructor(i,t){super()}schedule(i,t=0){return this}}const e0={setInterval(e,i,...t){const{delegate:o}=e0;return o?.setInterval?o.setInterval(e,i,...t):setInterval(e,i,...t)},clearInterval(e){const{delegate:i}=e0;return(i?.clearInterval||clearInterval)(e)},delegate:void 0};class yC extends e3{constructor(i,t){super(i,t),this.scheduler=i,this.work=t,this.pending=!1}schedule(i,t=0){var o;if(this.closed)return this;this.state=i;const a=this.id,d=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(d,a,t)),this.pending=!0,this.delay=t,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(d,this.id,t),this}requestAsyncId(i,t,o=0){return e0.setInterval(i.flush.bind(i,this),o)}recycleAsyncId(i,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;null!=t&&e0.clearInterval(t)}execute(i,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(i,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,t){let a,o=!1;try{this.work(i)}catch(d){o=!0,a=d||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:i,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,st(o,this),null!=i&&(this.id=this.recycleAsyncId(t,i,null)),this.delay=null,super.unsubscribe()}}}const vM={now:()=>(vM.delegate||Date).now(),delegate:void 0};class u_{constructor(i,t=u_.now){this.schedulerActionCtor=i,this.now=t}schedule(i,t=0,o){return new this.schedulerActionCtor(this,i).schedule(o,t)}}u_.now=vM.now;class _C extends u_{constructor(i,t=u_.now){super(i,t),this.actions=[],this._active=!1}flush(i){const{actions:t}=this;if(this._active)return void t.push(i);let o;this._active=!0;do{if(o=i.execute(i.state,i.delay))break}while(i=t.shift());if(this._active=!1,o){for(;i=t.shift();)i.unsubscribe();throw o}}}const bC=new _C(yC),t3=bC,yM=new Set;let og,r3=(()=>{class e{constructor(t,o){this._platform=t,this._nonce=o,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):s3}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function o3(e,i){if(!yM.has(e))try{og||(og=document.createElement("style"),i&&(og.nonce=i),og.setAttribute("type","text/css"),document.head.appendChild(og)),og.sheet&&(og.sheet.insertRule(`@media ${e} {body{ }}`,0),yM.add(e))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Ms),ne(nd,8))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function s3(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let _M=(()=>{class e{constructor(t,o){this._mediaMatcher=t,this._zone=o,this._queries=new Map,this._destroySubject=new K}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return bM(Jb(t)).some(a=>this._registerQuery(a).mql.matches)}observe(t){let d=Sb(bM(Jb(t)).map(p=>this._registerQuery(p).observable));return d=xb(d.pipe(ns(1)),d.pipe(mM(1),function n3(e,i=bC){return fe((t,o)=>{let a=null,d=null,p=null;const g=()=>{if(a){a.unsubscribe(),a=null;const E=d;d=null,o.next(E)}};function _(){const E=p+e,I=i.now();if(I<E)return a=this.schedule(void 0,E-I),void o.add(a);g()}t.subscribe(Ie(o,E=>{d=E,p=i.now(),a||(a=i.schedule(_,e),o.add(a))},()=>{g(),o.complete()},void 0,()=>{d=a=null}))})}(0))),d.pipe(Qe(p=>{const g={matches:!1,breakpoints:{}};return p.forEach(({matches:_,query:E})=>{g.matches=g.matches||_,g.breakpoints[E]=_}),g}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const o=this._mediaMatcher.matchMedia(t),d={observable:new mt(p=>{const g=_=>this._zone.run(()=>p.next(_));return o.addListener(g),()=>{o.removeListener(g)}}).pipe(Mb(o),Qe(({matches:p})=>({query:t,matches:p})),Ob(this._destroySubject)),mql:o};return this._queries.set(t,d),d}static#e=this.\u0275fac=function(o){return new(o||e)(ne(r3),ne(Lt))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bM(e){return e.map(i=>i.split(",")).reduce((i,t)=>i.concat(t)).map(i=>i.trim())}const Vv_Medium="(min-width: 960px) and (max-width: 1279.98px)",Vv_Large="(min-width: 1280px) and (max-width: 1919.98px)";let l_=(()=>{class e{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function l3(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const o=function u3(e){try{return e.frameElement}catch{return null}}(function y3(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}(t));if(o&&(-1===DM(o)||!this.isVisible(o)))return!1;let a=t.nodeName.toLowerCase(),d=DM(t);return t.hasAttribute("contenteditable")?-1!==d:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function g3(e){let i=e.nodeName.toLowerCase(),t="input"===i&&e.type;return"text"===t||"password"===t||"select"===i||"textarea"===i}(t))&&("audio"===a?!!t.hasAttribute("controls")&&-1!==d:"video"===a?-1!==d&&(null!==d||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,o){return function v3(e){return!function h3(e){return function p3(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function d3(e){let i=e.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(e)||function f3(e){return function m3(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||CM(e))}(t)&&!this.isDisabled(t)&&(o?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Ms))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function CM(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let i=e.getAttribute("tabindex");return!(!i||isNaN(parseInt(i,10)))}function DM(e){if(!CM(e))return null;const i=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}class _3{get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}constructor(i,t,o,a,d=!1){this._element=i,this._checker=t,this._ngZone=o,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,d||this.attachAnchors()}destroy(){const i=this._startAnchor,t=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){const t=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return"start"==i?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const o=this._getFirstTabbableElement(t);return o?.focus(i),!!o}return t.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){const t=this._getRegionBoundary("start");return t&&t.focus(i),!!t}focusLastTabbableElement(i){const t=this._getRegionBoundary("end");return t&&t.focus(i),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const t=i.children;for(let o=0;o<t.length;o++){const a=t[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[o]):null;if(a)return a}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;const t=i.children;for(let o=t.length-1;o>=0;o--){const a=t[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[o]):null;if(a)return a}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,t){i?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(ns(1)).subscribe(i)}}let t0=(()=>{class e{constructor(t,o,a){this._checker=t,this._ngZone=o,this._document=a}create(t,o=!1){return new _3(t,this._checker,this._ngZone,this._document,o)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(l_),ne(Lt),ne(nn))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function IM(e){return 0===e.buttons||0===e.offsetX&&0===e.offsetY}function SM(e){const i=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}const b3=new S("cdk-input-modality-detector-options"),w3={ignoreKeys:[18,17,224,91,16]},Uv=Xb({passive:!0,capture:!0});let E3=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(t,o,a,d){this._platform=t,this._mostRecentTarget=null,this._modality=new Vr(null),this._lastTouchMs=0,this._onKeydown=p=>{this._options?.ignoreKeys?.some(g=>g===p.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=kp(p))},this._onMousedown=p=>{Date.now()-this._lastTouchMs<650||(this._modality.next(IM(p)?"keyboard":"mouse"),this._mostRecentTarget=kp(p))},this._onTouchstart=p=>{SM(p)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=kp(p))},this._options={...w3,...d},this.modalityDetected=this._modality.pipe(mM(1)),this.modalityChanged=this.modalityDetected.pipe(ks()),t.isBrowser&&o.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,Uv),a.addEventListener("mousedown",this._onMousedown,Uv),a.addEventListener("touchstart",this._onTouchstart,Uv)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Uv),document.removeEventListener("mousedown",this._onMousedown,Uv),document.removeEventListener("touchstart",this._onTouchstart,Uv))}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Ms),ne(Lt),ne(nn),ne(b3,8))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const D3=new S("cdk-focus-monitor-default-options"),n0=Xb({passive:!0,capture:!0});let d_=(()=>{class e{constructor(t,o,a,d,p){this._ngZone=t,this._platform=o,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new K,this._rootNodeFocusAndBlurListener=g=>{for(let E=kp(g);E;E=E.parentElement)"focus"===g.type?this._onFocus(g,E):this._onBlur(g,E)},this._document=d,this._detectionMode=p?.detectionMode||0}monitor(t,o=!1){const a=Bv(t);if(!this._platform.isBrowser||1!==a.nodeType)return nt();const d=function qU(e){if(function $U(){if(null==fC){const e=typeof document<"u"?document.head:null;fC=!(!e||!e.createShadowRoot&&!e.attachShadow)}return fC}()){const i=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}(a)||this._getDocument(),p=this._elementInfo.get(a);if(p)return o&&(p.checkChildren=!0),p.subject;const g={checkChildren:o,subject:new K,rootNode:d};return this._elementInfo.set(a,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(t){const o=Bv(t),a=this._elementInfo.get(o);a&&(a.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(a))}focusVia(t,o,a){const d=Bv(t);d===this._getDocument().activeElement?this._getClosestElementsInfo(d).forEach(([g,_])=>this._originChanged(g,o,_)):(this._setOrigin(o),"function"==typeof d.focus&&d.focus(a))}ngOnDestroy(){this._elementInfo.forEach((t,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,o){t.classList.toggle("cdk-focused",!!o),t.classList.toggle("cdk-touch-focused","touch"===o),t.classList.toggle("cdk-keyboard-focused","keyboard"===o),t.classList.toggle("cdk-mouse-focused","mouse"===o),t.classList.toggle("cdk-program-focused","program"===o)}_setOrigin(t,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,o){const a=this._elementInfo.get(o),d=kp(t);!a||!a.checkChildren&&o!==d||this._originChanged(o,this._getFocusOrigin(d),a)}_onBlur(t,o){const a=this._elementInfo.get(o);!a||a.checkChildren&&t.relatedTarget instanceof Node&&o.contains(t.relatedTarget)||(this._setClasses(o),this._emitOrigin(a,null))}_emitOrigin(t,o){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(o))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const o=t.rootNode,a=this._rootNodeFocusListenerCount.get(o)||0;a||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,n0),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,n0)}),this._rootNodeFocusListenerCount.set(o,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ob(this._stopInputModalityDetector)).subscribe(d=>{this._setOrigin(d,!0)}))}_removeGlobalListeners(t){const o=t.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const a=this._rootNodeFocusListenerCount.get(o);a>1?this._rootNodeFocusListenerCount.set(o,a-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,n0),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,n0),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,o,a){this._setClasses(t,o),this._emitOrigin(a,o),this._lastFocusOrigin=o}_getClosestElementsInfo(t){const o=[];return this._elementInfo.forEach((a,d)=>{(d===t||a.checkChildren&&d.contains(t))&&o.push([d,a])}),o}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:o,mostRecentModality:a}=this._inputModalityDetector;if("mouse"!==a||!o||o===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const d=t.labels;if(d)for(let p=0;p<d.length;p++)if(d[p].contains(o))return!0;return!1}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Lt),ne(Ms),ne(E3),ne(nn,8),ne(D3,8))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const xM="cdk-high-contrast-black-on-white",AM="cdk-high-contrast-white-on-black",wC="cdk-high-contrast-active";let MM=(()=>{class e{constructor(t,o){this._platform=t,this._document=o,this._breakpointSubscription=Le(_M).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const o=this._document.defaultView||window,a=o&&o.getComputedStyle?o.getComputedStyle(t):null,d=(a&&a.backgroundColor||"").replace(/ /g,"");switch(t.remove(),d){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(wC,xM,AM),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?t.add(wC,xM):2===o&&t.add(wC,AM)}}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Ms),ne(nn))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),I3=(()=>{class e{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(o){return new(o||e)(ne(MM))};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({imports:[JU]})}return e})();const S3=["addListener","removeListener"],T3=["addEventListener","removeEventListener"],x3=["on","off"];function EC(e,i,t,o){if(ye(t)&&(o=t,t=void 0),o)return EC(e,i,t).pipe(HE(o));const[a,d]=function R3(e){return ye(e.addEventListener)&&ye(e.removeEventListener)}(e)?T3.map(p=>g=>e[p](i,g,t)):function A3(e){return ye(e.addListener)&&ye(e.removeListener)}(e)?S3.map(RM(e,i)):function M3(e){return ye(e.on)&&ye(e.off)}(e)?x3.map(RM(e,i)):[];if(!a&&mn(e))return It(p=>EC(p,i,t))(cn(e));if(!a)throw new TypeError("Invalid event target");return new mt(p=>{const g=(..._)=>p.next(1<_.length?_:_[0]);return a(g),()=>d(g)})}function RM(e,i){return t=>o=>e[t](i,o)}const h_={schedule(e){let i=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:o}=h_;o&&(i=o.requestAnimationFrame,t=o.cancelAnimationFrame);const a=i(d=>{t=void 0,e(d)});return new Ot(()=>t?.(a))},requestAnimationFrame(...e){const{delegate:i}=h_;return(i?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:i}=h_;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};new class O3 extends _C{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let a;i=i||o.shift();do{if(a=i.execute(i.state,i.delay))break}while((i=o[0])&&i.id===t&&o.shift());if(this._active=!1,a){for(;(i=o[0])&&i.id===t&&o.shift();)i.unsubscribe();throw a}}}(class k3 extends yC{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,o=0){return null!==o&&o>0?super.requestAsyncId(i,t,o):(i.actions.push(this),i._scheduled||(i._scheduled=h_.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,t,o=0){var a;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(i,t,o);const{actions:d}=i;null!=t&&(null===(a=d[d.length-1])||void 0===a?void 0:a.id)!==t&&(h_.cancelAnimationFrame(t),i._scheduled=void 0)}});let CC,P3=1;const r0={};function kM(e){return e in r0&&(delete r0[e],!0)}const F3={setImmediate(e){const i=P3++;return r0[i]=!0,CC||(CC=Promise.resolve()),CC.then(()=>kM(i)&&e()),i},clearImmediate(e){kM(e)}},{setImmediate:L3,clearImmediate:j3}=F3,o0={setImmediate(...e){const{delegate:i}=o0;return(i?.setImmediate||L3)(...e)},clearImmediate(e){const{delegate:i}=o0;return(i?.clearImmediate||j3)(e)},delegate:void 0};new class V3 extends _C{flush(i){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let a;i=i||o.shift();do{if(a=i.execute(i.state,i.delay))break}while((i=o[0])&&i.id===t&&o.shift());if(this._active=!1,a){for(;(i=o[0])&&i.id===t&&o.shift();)i.unsubscribe();throw a}}}(class B3 extends yC{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}requestAsyncId(i,t,o=0){return null!==o&&o>0?super.requestAsyncId(i,t,o):(i.actions.push(this),i._scheduled||(i._scheduled=o0.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,t,o=0){var a;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(i,t,o);const{actions:d}=i;null!=t&&(null===(a=d[d.length-1])||void 0===a?void 0:a.id)!==t&&(o0.clearImmediate(t),i._scheduled===t&&(i._scheduled=void 0))}});function OM(e,i=bC){return function H3(e){return fe((i,t)=>{let o=!1,a=null,d=null,p=!1;const g=()=>{if(d?.unsubscribe(),d=null,o){o=!1;const E=a;a=null,t.next(E)}p&&t.complete()},_=()=>{d=null,p&&t.complete()};i.subscribe(Ie(t,E=>{o=!0,a=E,d||cn(e(E)).subscribe(d=Ie(t,g,_))},()=>{p=!0,(!o||!d||d.closed)&&t.complete()}))})}(()=>function $3(e=0,i,t=t3){let o=-1;return null!=i&&(Mn(i)?t=i:o=i),new mt(a=>{let d=function z3(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;d<0&&(d=0);let p=0;return t.schedule(function(){a.closed||(a.next(p++),0<=o?this.schedule(void 0,o):a.complete())},d)})}(e,i))}const q3=new S("cdk-dir-doc",{providedIn:"root",factory:function G3(){return Le(nn)}}),W3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let DC=(()=>{class e{constructor(t){this.value="ltr",this.change=new no,t&&(this.value=function K3(e){const i=e?.toLowerCase()||"";return"auto"===i&&typeof navigator<"u"&&navigator?.language?W3.test(navigator.language)?"rtl":"ltr":"rtl"===i?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(o){return new(o||e)(ne(q3,8))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),f_=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({})}return e})(),Z3=(()=>{class e{constructor(t,o,a){this._ngZone=t,this._platform=o,this._scrolled=new K,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const o=this.scrollContainers.get(t);o&&(o.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new mt(o=>{this._globalSubscription||this._addGlobalListener();const a=t>0?this._scrolled.pipe(OM(t)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):nt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(t,o){const a=this.getAncestorScrollContainers(t);return this.scrolled(o).pipe(Ui(d=>!d||a.indexOf(d)>-1))}getAncestorScrollContainers(t){const o=[];return this.scrollContainers.forEach((a,d)=>{this._scrollableContainsElement(d,t)&&o.push(d)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,o){let a=Bv(o),d=t.getElementRef().nativeElement;do{if(a==d)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>EC(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Lt),ne(Ms),ne(nn,8))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),NM=(()=>{class e{constructor(t,o,a){this._platform=t,this._change=new K,this._changeListener=d=>{this._change.next(d)},this._document=a,o.runOutsideAngular(()=>{if(t.isBrowser){const d=this._getWindow();d.addEventListener("resize",this._changeListener),d.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:o,height:a}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+a,right:t.left+o,height:a,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,o=this._getWindow(),a=t.documentElement,d=a.getBoundingClientRect();return{top:-d.top||t.body.scrollTop||o.scrollY||a.scrollTop||0,left:-d.left||t.body.scrollLeft||o.scrollX||a.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(OM(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Ms),ne(Lt),ne(nn,8))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),PM=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({})}return e})(),FM=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({imports:[f_,PM,f_,PM]})}return e})();class IC{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class SC extends IC{constructor(i,t,o,a,d){super(),this.component=i,this.viewContainerRef=t,this.injector=o,this.componentFactoryResolver=a,this.projectableNodes=d}}class LM extends IC{constructor(i,t,o,a){super(),this.templateRef=i,this.viewContainerRef=t,this.context=o,this.injector=a}get origin(){return this.templateRef.elementRef}attach(i,t=this.context){return this.context=t,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class Q3 extends IC{constructor(i){super(),this.element=i instanceof m?i.nativeElement:i}}class TC{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof SC?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof LM?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof Q3?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class J3 extends TC{constructor(i,t,o,a,d){super(),this.outletElement=i,this._componentFactoryResolver=t,this._appRef=o,this._defaultInjector=a,this.attachDomPortal=p=>{const g=p.element,_=this._document.createComment("dom-portal");g.parentNode.insertBefore(_,g),this.outletElement.appendChild(g),this._attachedPortal=p,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(g,_)})},this._document=d}attachComponentPortal(i){const o=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let a;return i.viewContainerRef?(a=i.viewContainerRef.createComponent(o,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector,i.projectableNodes||void 0),this.setDisposeFn(()=>a.destroy())):(a=o.create(i.injector||this._defaultInjector||ti.NULL),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=i,a}attachTemplatePortal(i){let t=i.viewContainerRef,o=t.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return o.rootNodes.forEach(a=>this.outletElement.appendChild(a)),o.detectChanges(),this.setDisposeFn(()=>{let a=t.indexOf(o);-1!==a&&t.remove(a)}),this._attachedPortal=i,o}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let s0=(()=>{class e extends TC{constructor(t,o,a){super(),this._componentFactoryResolver=t,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new no,this.attachDomPortal=d=>{const p=d.element,g=this._document.createComment("dom-portal");d.setAttachedHost(this),p.parentNode.insertBefore(g,p),this._getRootNode().appendChild(p),this._attachedPortal=d,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(p,g)})},this._document=a}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const o=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,d=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),p=o.createComponent(d,o.length,t.injector||o.injector,t.projectableNodes||void 0);return o!==this._viewContainerRef&&this._getRootNode().appendChild(p.hostView.rootNodes[0]),super.setDisposeFn(()=>p.destroy()),this._attachedPortal=t,this._attachedRef=p,this.attached.emit(p),p}attachTemplatePortal(t){t.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(o){return new(o||e)(ge(s),ge(jc),ge(nn))};static#t=this.\u0275dir=fn({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Pc]})}return e})(),p_=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({})}return e})();const jM=zU();class eH{constructor(i,t){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=Hi(-this._previousScrollPosition.left),i.style.top=Hi(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,o=i.style,a=this._document.body.style,d=o.scrollBehavior||"",p=a.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),jM&&(o.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),jM&&(o.scrollBehavior=d,a.scrollBehavior=p)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,o=this._viewportRuler.getViewportSize();return t.scrollHeight>o.height||t.scrollWidth>o.width}}class tH{constructor(i,t,o,a){this._scrollDispatcher=i,this._ngZone=t,this._viewportRuler=o,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0).pipe(Ui(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class BM{enable(){}disable(){}attach(){}}function xC(e,i){return i.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function VM(e,i){return i.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class nH{constructor(i,t,o,a){this._scrollDispatcher=i,this._viewportRuler=t,this._ngZone=o,this._config=a,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:a}=this._viewportRuler.getViewportSize();xC(t,[{width:o,height:a,bottom:a,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let rH=(()=>{class e{constructor(t,o,a,d){this._scrollDispatcher=t,this._viewportRuler=o,this._ngZone=a,this.noop=()=>new BM,this.close=p=>new tH(this._scrollDispatcher,this._ngZone,this._viewportRuler,p),this.block=()=>new eH(this._viewportRuler,this._document),this.reposition=p=>new nH(this._scrollDispatcher,this._viewportRuler,this._ngZone,p),this._document=d}static#e=this.\u0275fac=function(o){return new(o||e)(ne(Z3),ne(NM),ne(Lt),ne(nn))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class UM{constructor(i){if(this.scrollStrategy=new BM,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const t=Object.keys(i);for(const o of t)void 0!==i[o]&&(this[o]=i[o])}}}class iH{constructor(i,t){this.connectionPair=i,this.scrollableViewProperties=t}}let HM=(()=>{class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const o=this._attachedOverlays.indexOf(t);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(o){return new(o||e)(ne(nn))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),oH=(()=>{class e extends HM{constructor(t,o){super(t),this._ngZone=o,this._keydownListener=a=>{const d=this._attachedOverlays;for(let p=d.length-1;p>-1;p--)if(d[p]._keydownEvents.observers.length>0){const g=d[p]._keydownEvents;this._ngZone?this._ngZone.run(()=>g.next(a)):g.next(a);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(nn),ne(Lt,8))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sH=(()=>{class e extends HM{constructor(t,o,a){super(t),this._platform=o,this._ngZone=a,this._cursorStyleIsSet=!1,this._pointerDownListener=d=>{this._pointerDownEventTarget=kp(d)},this._clickListener=d=>{const p=kp(d),g="click"===d.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:p;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let E=_.length-1;E>-1;E--){const I=_[E];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(p)||I.overlayElement.contains(g))break;const R=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(d)):R.next(d)}}}add(t){if(super.add(t),!this._isAttached){const o=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(o)):this._addEventListeners(o),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(nn),ne(Ms),ne(Lt,8))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),a0=(()=>{class e{constructor(t,o){this._platform=o,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||mC()){const a=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let d=0;d<a.length;d++)a[d].remove()}const o=this._document.createElement("div");o.classList.add(t),mC()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}static#e=this.\u0275fac=function(o){return new(o||e)(ne(nn),ne(Ms))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class Hv{constructor(i,t,o,a,d,p,g,_,E,I=!1){this._portalOutlet=i,this._host=t,this._pane=o,this._config=a,this._ngZone=d,this._keyboardDispatcher=p,this._document=g,this._location=_,this._outsideClickDispatcher=E,this._animationsDisabled=I,this._backdropElement=null,this._backdropClick=new K,this._attachments=new K,this._detachments=new K,this._locationChanges=Ot.EMPTY,this._backdropClickHandler=R=>this._backdropClick.next(R),this._backdropTransitionendHandler=R=>{this._disposeBackdrop(R.target)},this._keydownEvents=new K,this._outsidePointerEvents=new K,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ns(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config={...this._config,...i},this._updateElementSize()}setDirection(i){this._config={...this._config,direction:i},this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=Hi(this._config.width),i.height=Hi(this._config.height),i.minWidth=Hi(this._config.minWidth),i.minHeight=Hi(this._config.minHeight),i.maxWidth=Hi(this._config.maxWidth),i.maxHeight=Hi(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const i=this._backdropElement;if(i){if(this._animationsDisabled)return void this._disposeBackdrop(i);i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",this._backdropTransitionendHandler)}),i.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(i)},500))}}_toggleClasses(i,t,o){const a=Jb(t||[]).filter(d=>!!d);a.length&&(o?i.classList.add(...a):i.classList.remove(...a))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(Ob(yi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}_disposeBackdrop(i){i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",this._backdropTransitionendHandler),i.remove(),this._backdropElement===i&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const zM="cdk-overlay-connected-position-bounding-box",aH=/([A-Za-z%]+)$/;class cH{get positions(){return this._preferredPositions}constructor(i,t,o,a,d){this._viewportRuler=t,this._document=o,this._platform=a,this._overlayContainer=d,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new K,this._resizeSubscription=Ot.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}attach(i){this._validatePositions(),i.hostElement.classList.add(zM),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._originRect,t=this._overlayRect,o=this._viewportRect,a=this._containerRect,d=[];let p;for(let g of this._preferredPositions){let _=this._getOriginPoint(i,a,g),E=this._getOverlayPoint(_,t,g),I=this._getOverlayFit(E,t,o,g);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,_);this._canFitWithFlexibleDimensions(I,E,o)?d.push({position:g,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,g)}):(!p||p.overlayFit.visibleArea<I.visibleArea)&&(p={overlayFit:I,overlayPoint:E,originPoint:_,position:g,overlayRect:t})}if(d.length){let g=null,_=-1;for(const E of d){const I=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);I>_&&(_=I,g=E)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(p.position,p.originPoint);this._applyPosition(p.position,p.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&sg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(zM),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,t)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,t,o){let a,d;if("center"==o.originX)a=i.left+i.width/2;else{const p=this._isRtl()?i.right:i.left,g=this._isRtl()?i.left:i.right;a="start"==o.originX?p:g}return t.left<0&&(a-=t.left),d="center"==o.originY?i.top+i.height/2:"top"==o.originY?i.top:i.bottom,t.top<0&&(d-=t.top),{x:a,y:d}}_getOverlayPoint(i,t,o){let a,d;return a="center"==o.overlayX?-t.width/2:"start"===o.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,d="center"==o.overlayY?-t.height/2:"top"==o.overlayY?0:-t.height,{x:i.x+a,y:i.y+d}}_getOverlayFit(i,t,o,a){const d=qM(t);let{x:p,y:g}=i,_=this._getOffset(a,"x"),E=this._getOffset(a,"y");_&&(p+=_),E&&(g+=E);let F=0-g,j=g+d.height-o.height,H=this._subtractOverflows(d.width,0-p,p+d.width-o.width),W=this._subtractOverflows(d.height,F,j),he=H*W;return{visibleArea:he,isCompletelyWithinViewport:d.width*d.height===he,fitsInViewportVertically:W===d.height,fitsInViewportHorizontally:H==d.width}}_canFitWithFlexibleDimensions(i,t,o){if(this._hasFlexibleDimensions){const a=o.bottom-t.y,d=o.right-t.x,p=$M(this._overlayRef.getConfig().minHeight),g=$M(this._overlayRef.getConfig().minWidth);return(i.fitsInViewportVertically||null!=p&&p<=a)&&(i.fitsInViewportHorizontally||null!=g&&g<=d)}return!1}_pushOverlayOnScreen(i,t,o){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const a=qM(t),d=this._viewportRect,p=Math.max(i.x+a.width-d.width,0),g=Math.max(i.y+a.height-d.height,0),_=Math.max(d.top-o.top-i.y,0),E=Math.max(d.left-o.left-i.x,0);let I=0,R=0;return I=a.width<=d.width?E||-p:i.x<this._viewportMargin?d.left-o.left-i.x:0,R=a.height<=d.height?_||-g:i.y<this._viewportMargin?d.top-o.top-i.y:0,this._previousPushAmount={x:I,y:R},{x:i.x+I,y:i.y+R}}_applyPosition(i,t){if(this._setTransformOrigin(i),this._setOverlayElementStyles(t,i),this._setBoundingBoxStyles(t,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const o=this._getScrollVisibility(),a=new iH(i,o);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,a=i.overlayY;o="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let d=0;d<t.length;d++)t[d].style.transformOrigin=`${o} ${a}`}_calculateBoundingBoxRect(i,t){const o=this._viewportRect,a=this._isRtl();let d,p,g,I,R,F;if("top"===t.overlayY)p=i.y,d=o.height-p+this._viewportMargin;else if("bottom"===t.overlayY)g=o.height-i.y+2*this._viewportMargin,d=o.height-g+this._viewportMargin;else{const j=Math.min(o.bottom-i.y+o.top,i.y),H=this._lastBoundingBoxSize.height;d=2*j,p=i.y-j,d>H&&!this._isInitialRender&&!this._growAfterOpen&&(p=i.y-H/2)}if("end"===t.overlayX&&!a||"start"===t.overlayX&&a)F=o.width-i.x+this._viewportMargin,I=i.x-this._viewportMargin;else if("start"===t.overlayX&&!a||"end"===t.overlayX&&a)R=i.x,I=o.right-i.x;else{const j=Math.min(o.right-i.x+o.left,i.x),H=this._lastBoundingBoxSize.width;I=2*j,R=i.x-j,I>H&&!this._isInitialRender&&!this._growAfterOpen&&(R=i.x-H/2)}return{top:p,left:R,bottom:g,right:F,width:I,height:d}}_setBoundingBoxStyles(i,t){const o=this._calculateBoundingBoxRect(i,t);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const d=this._overlayRef.getConfig().maxHeight,p=this._overlayRef.getConfig().maxWidth;a.height=Hi(o.height),a.top=Hi(o.top),a.bottom=Hi(o.bottom),a.width=Hi(o.width),a.left=Hi(o.left),a.right=Hi(o.right),a.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",a.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",d&&(a.maxHeight=Hi(d)),p&&(a.maxWidth=Hi(p))}this._lastBoundingBoxSize=o,sg(this._boundingBox.style,a)}_resetBoundingBoxStyles(){sg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){sg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,t){const o={},a=this._hasExactPosition(),d=this._hasFlexibleDimensions,p=this._overlayRef.getConfig();if(a){const I=this._viewportRuler.getViewportScrollPosition();sg(o,this._getExactOverlayY(t,i,I)),sg(o,this._getExactOverlayX(t,i,I))}else o.position="static";let g="",_=this._getOffset(t,"x"),E=this._getOffset(t,"y");_&&(g+=`translateX(${_}px) `),E&&(g+=`translateY(${E}px)`),o.transform=g.trim(),p.maxHeight&&(a?o.maxHeight=Hi(p.maxHeight):d&&(o.maxHeight="")),p.maxWidth&&(a?o.maxWidth=Hi(p.maxWidth):d&&(o.maxWidth="")),sg(this._pane.style,o)}_getExactOverlayY(i,t,o){let a={top:"",bottom:""},d=this._getOverlayPoint(t,this._overlayRect,i);return this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,o)),"bottom"===i.overlayY?a.bottom=this._document.documentElement.clientHeight-(d.y+this._overlayRect.height)+"px":a.top=Hi(d.y),a}_getExactOverlayX(i,t,o){let p,a={left:"",right:""},d=this._getOverlayPoint(t,this._overlayRect,i);return this._isPushed&&(d=this._pushOverlayOnScreen(d,this._overlayRect,o)),p=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===p?a.right=this._document.documentElement.clientWidth-(d.x+this._overlayRect.width)+"px":a.left=Hi(d.x),a}_getScrollVisibility(){const i=this._getOriginRect(),t=this._pane.getBoundingClientRect(),o=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:VM(i,o),isOriginOutsideView:xC(i,o),isOverlayClipped:VM(t,o),isOverlayOutsideView:xC(t,o)}}_subtractOverflows(i,...t){return t.reduce((o,a)=>o-Math.max(a,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+i-this._viewportMargin,bottom:o.top+t-this._viewportMargin,width:i-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,t){return"x"===t?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Jb(i).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof m)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const t=i.width||0,o=i.height||0;return{top:i.y,bottom:i.y+o,left:i.x,right:i.x+t,height:o,width:t}}}function sg(e,i){for(let t in i)i.hasOwnProperty(t)&&(e[t]=i[t]);return e}function $M(e){if("number"!=typeof e&&null!=e){const[i,t]=e.split(aH);return t&&"px"!==t?null:parseFloat(i)}return e||null}function qM(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}const GM="cdk-global-overlay-wrapper";class uH{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(i){const t=i.getConfig();this._overlayRef=i,this._width&&!t.width&&i.updateSize({width:this._width}),this._height&&!t.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(GM),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:a,height:d,maxWidth:p,maxHeight:g}=o,_=!("100%"!==a&&"100vw"!==a||p&&"100%"!==p&&"100vw"!==p),E=!("100%"!==d&&"100vh"!==d||g&&"100%"!==g&&"100vh"!==g),I=this._xPosition,R=this._xOffset,F="rtl"===this._overlayRef.getConfig().direction;let j="",H="",W="";_?W="flex-start":"center"===I?(W="center",F?H=R:j=R):F?"left"===I||"end"===I?(W="flex-end",j=R):("right"===I||"start"===I)&&(W="flex-start",H=R):"left"===I||"start"===I?(W="flex-start",j=R):("right"===I||"end"===I)&&(W="flex-end",H=R),i.position=this._cssPosition,i.marginLeft=_?"0":j,i.marginTop=E?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=_?"0":H,t.justifyContent=W,t.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,o=t.style;t.classList.remove(GM),o.justifyContent=o.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let lH=(()=>{class e{constructor(t,o,a,d){this._viewportRuler=t,this._document=o,this._platform=a,this._overlayContainer=d}global(){return new uH}flexibleConnectedTo(t){return new cH(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(NM),ne(nn),ne(Ms),ne(a0))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dH=0,ag=(()=>{class e{constructor(t,o,a,d,p,g,_,E,I,R,F,j){this.scrollStrategies=t,this._overlayContainer=o,this._componentFactoryResolver=a,this._positionBuilder=d,this._keyboardDispatcher=p,this._injector=g,this._ngZone=_,this._document=E,this._directionality=I,this._location=R,this._outsideClickDispatcher=F,this._animationsModuleType=j}create(t){const o=this._createHostElement(),a=this._createPaneElement(o),d=this._createPortalOutlet(a),p=new UM(t);return p.direction=p.direction||this._directionality.value,new Hv(d,o,a,p,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const o=this._document.createElement("div");return o.id="cdk-overlay-"+dH++,o.classList.add("cdk-overlay-pane"),t.appendChild(o),o}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Tp)),new J3(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(rH),ne(a0),ne(s),ne(lH),ne(oH),ne(ti),ne(Lt),ne(nn),ne(DC),ne(Hy),ne(sH),ne(No,8))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const pH={provide:new S("cdk-connected-overlay-scroll-strategy"),deps:[ag],useFactory:function fH(e){return()=>e.scrollStrategies.reposition()}};let WM=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({providers:[ag,pH],imports:[f_,p_,FM,FM]})}return e})();function mH(e,i){}class m_{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let AC=(()=>{class e extends TC{constructor(t,o,a,d,p,g,_,E){super(),this._elementRef=t,this._focusTrapFactory=o,this._config=d,this._interactivityChecker=p,this._ngZone=g,this._overlayRef=_,this._focusMonitor=E,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=I=>{this._portalOutlet.hasAttached();const R=this._portalOutlet.attachDomPortal(I);return this._contentAttached(),R},this._document=a,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),o}attachTemplatePortal(t){this._portalOutlet.hasAttached();const o=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),o}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,o){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const a=()=>{t.removeEventListener("blur",a),t.removeEventListener("mousedown",a),t.removeAttribute("tabindex")};t.addEventListener("blur",a),t.addEventListener("mousedown",a)})),t.focus(o)}_focusByCssSelector(t,o){let a=this._elementRef.nativeElement.querySelector(t);a&&this._forceFocus(a,o)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(o=>{o||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let o=null;if("string"==typeof t?o=this._document.querySelector(t):"boolean"==typeof t?o=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(o=t),this._config.restoreFocus&&o&&"function"==typeof o.focus){const a=pC(),d=this._elementRef.nativeElement;(!a||a===this._document.body||a===d||d.contains(a))&&(this._focusMonitor?(this._focusMonitor.focusVia(o,this._closeInteractionType),this._closeInteractionType=null):o.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,o=pC();return t===o||t.contains(o)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=pC())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(o){return new(o||e)(ge(m),ge(t0),ge(nn,8),ge(m_),ge(l_),ge(Lt),ge(Hv),ge(d_))};static#t=this.\u0275cmp=xt({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(o,a){if(1&o&&function fT(e,i,t){const o=Kt();o.firstCreatePass&&(gT(o,new dT(e,i,t),-1),2==(2&i)&&(o.staticViewQueries=!0)),mT(o,be(),i)}(s0,7),2&o){let d;Hw(d=zw())&&(a._portalOutlet=d.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(o,a){2&o&&ud("id",a._config.id||null)("role",a._config.role)("aria-modal",a._config.ariaModal)("aria-labelledby",a._config.ariaLabel?null:a._ariaLabelledByQueue[0])("aria-label",a._config.ariaLabel)("aria-describedby",a._config.ariaDescribedBy||null)},features:[Pc],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(o,a){1&o&&ra(0,mH,0,0,"ng-template",0)},dependencies:[s0],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return e})();class MC{constructor(i,t){this.overlayRef=i,this.config=t,this.closed=new K,this.disableClose=t.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(o=>{27===o.keyCode&&!this.disableClose&&!vC(o)&&(o.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(i,t){if(this.containerInstance){const o=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),o.next(i),o.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",t=""){return this.overlayRef.updateSize({width:i,height:t}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}}const KM=new S("DialogScrollStrategy"),gH=new S("DialogData"),vH=new S("DefaultDialogConfig"),_H={provide:KM,deps:[ag],useFactory:function yH(e){return()=>e.scrollStrategies.block()}};let bH=0,RC=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,o,a,d,p,g){this._overlay=t,this._injector=o,this._defaultOptions=a,this._parentDialog=d,this._overlayContainer=p,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new K,this._afterOpenedAtThisLevel=new K,this._ariaHiddenElements=new Map,this.afterAllClosed=Ab(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Mb(void 0))),this._scrollStrategy=g}open(t,o){(o={...this._defaultOptions||new m_,...o}).id=o.id||"cdk-dialog-"+bH++,o.id&&this.getDialogById(o.id);const d=this._getOverlayConfig(o),p=this._overlay.create(d),g=new MC(p,o),_=this._attachContainer(p,g,o);return g.containerInstance=_,this._attachDialogContent(t,g,_,o),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(g),g.closed.subscribe(()=>this._removeOpenDialog(g,!0)),this.afterOpened.next(g),g}closeAll(){kC(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(o=>o.id===t)}ngOnDestroy(){kC(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),kC(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const o=new UM({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(o.backdropClass=t.backdropClass),o}_attachContainer(t,o,a){const d=a.injector||a.viewContainerRef?.injector,p=[{provide:m_,useValue:a},{provide:MC,useValue:o},{provide:Hv,useValue:t}];let g;a.container?"function"==typeof a.container?g=a.container:(g=a.container.type,p.push(...a.container.providers(a))):g=AC;const _=new SC(g,a.viewContainerRef,ti.create({parent:d||this._injector,providers:p}),a.componentFactoryResolver);return t.attach(_).instance}_attachDialogContent(t,o,a,d){if(t instanceof hd){const p=this._createInjector(d,o,a,void 0);let g={$implicit:d.data,dialogRef:o};d.templateContext&&(g={...g,..."function"==typeof d.templateContext?d.templateContext():d.templateContext}),a.attachTemplatePortal(new LM(t,null,g,p))}else{const p=this._createInjector(d,o,a,this._injector),g=a.attachComponentPortal(new SC(t,d.viewContainerRef,p,d.componentFactoryResolver));o.componentRef=g,o.componentInstance=g.instance}}_createInjector(t,o,a,d){const p=t.injector||t.viewContainerRef?.injector,g=[{provide:gH,useValue:t.data},{provide:MC,useValue:o}];return t.providers&&("function"==typeof t.providers?g.push(...t.providers(o,t,a)):g.push(...t.providers)),t.direction&&(!p||!p.get(DC,null,{optional:!0}))&&g.push({provide:DC,useValue:{value:t.direction,change:nt()}}),ti.create({parent:p||d,providers:g})}_removeOpenDialog(t,o){const a=this.openDialogs.indexOf(t);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((d,p)=>{d?p.setAttribute("aria-hidden",d):p.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),o&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const o=t.parentElement.children;for(let a=o.length-1;a>-1;a--){const d=o[a];d!==t&&"SCRIPT"!==d.nodeName&&"STYLE"!==d.nodeName&&!d.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(d,d.getAttribute("aria-hidden")),d.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(o){return new(o||e)(ne(ag),ne(ti),ne(vH,8),ne(e,12),ne(a0),ne(KM))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();function kC(e,i){let t=e.length;for(;t--;)i(e[t])}let YM=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({providers:[RC,_H],imports:[WM,p_,I3,p_]})}return e})(),QM=(()=>{class e{static#e=this.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)";static#t=this.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)";static#n=this.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)";static#r=this.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)"}return e})(),JM=(()=>{class e{static#e=this.COMPLEX="375ms";static#t=this.ENTERING="225ms";static#n=this.EXITING="195ms"}return e})();const EH=new S("mat-sanity-checks",{providedIn:"root",factory:function wH(){return!0}});let Uc=(()=>{class e{constructor(t,o,a){this._sanityChecks=o,this._document=a,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!mC()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(o){return new(o||e)(ne(MM),ne(EH,8),ne(nn))};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({imports:[f_,f_]})}return e})();function CH(e){return class extends e{get disabled(){return this._disabled}set disabled(i){this._disabled=jv(i)}constructor(...i){super(...i),this._disabled=!1}}}function eR(e,i){return class extends e{get color(){return this._color}set color(t){const o=t||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}constructor(...t){super(...t),this.defaultColor=i,this.color=i}}}function DH(e){return class extends e{get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=jv(i)}constructor(...i){super(...i),this._disableRipple=!1}}}class SH{constructor(i,t,o,a=!1){this._renderer=i,this.element=t,this.config=o,this._animationForciblyDisabledThroughCss=a,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const tR=Xb({passive:!0,capture:!0});class TH{constructor(){this._events=new Map,this._delegateEventHandler=i=>{const t=kp(i);t&&this._events.get(i.type)?.forEach((o,a)=>{(a===t||a.contains(t))&&o.forEach(d=>d.handleEvent(i))})}}addHandler(i,t,o,a){const d=this._events.get(t);if(d){const p=d.get(o);p?p.add(a):d.set(o,new Set([a]))}else this._events.set(t,new Map([[o,new Set([a])]])),i.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,tR)})}removeHandler(i,t,o){const a=this._events.get(i);if(!a)return;const d=a.get(t);d&&(d.delete(o),0===d.size&&a.delete(t),0===a.size&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,tR)))}}const nR={enterDuration:225,exitDuration:150},rR=Xb({passive:!0,capture:!0}),iR=["mousedown","touchstart"],oR=["mouseup","mouseleave","touchend","touchcancel"];class c0{static#e=this._eventManager=new TH;constructor(i,t,o,a){this._target=i,this._ngZone=t,this._platform=a,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=Bv(o))}fadeInRipple(i,t,o={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),d={...nR,...o.animation};o.centered&&(i=a.left+a.width/2,t=a.top+a.height/2);const p=o.radius||function AH(e,i,t){const o=Math.max(Math.abs(e-t.left),Math.abs(e-t.right)),a=Math.max(Math.abs(i-t.top),Math.abs(i-t.bottom));return Math.sqrt(o*o+a*a)}(i,t,a),g=i-a.left,_=t-a.top,E=d.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=g-p+"px",I.style.top=_-p+"px",I.style.height=2*p+"px",I.style.width=2*p+"px",null!=o.color&&(I.style.backgroundColor=o.color),I.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(I);const R=window.getComputedStyle(I),j=R.transitionDuration,H="none"===R.transitionProperty||"0s"===j||"0s, 0s"===j||0===a.width&&0===a.height,W=new SH(this,I,o,H);I.style.transform="scale3d(1, 1, 1)",W.state=0,o.persistent||(this._mostRecentTransientRipple=W);let he=null;return!H&&(E||d.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const we=()=>this._finishRippleTransition(W),ae=()=>this._destroyRipple(W);I.addEventListener("transitionend",we),I.addEventListener("transitioncancel",ae),he={onTransitionEnd:we,onTransitionCancel:ae}}),this._activeRipples.set(W,he),(H||!E)&&this._finishRippleTransition(W),W}fadeOutRipple(i){if(2===i.state||3===i.state)return;const t=i.element,o={...nR,...i.config.animation};t.style.transitionDuration=`${o.exitDuration}ms`,t.style.opacity="0",i.state=2,(i._animationForciblyDisabledThroughCss||!o.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const t=Bv(i);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,iR.forEach(o=>{c0._eventManager.addHandler(this._ngZone,o,t,this)}))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{oR.forEach(t=>{this._triggerElement.addEventListener(t,this,rR)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){0===i.state?this._startFadeOutTransition(i):2===i.state&&this._destroyRipple(i)}_startFadeOutTransition(i){const t=i===this._mostRecentTransientRipple,{persistent:o}=i.config;i.state=1,!o&&(!t||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){const t=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=3,null!==t&&(i.element.removeEventListener("transitionend",t.onTransitionEnd),i.element.removeEventListener("transitioncancel",t.onTransitionCancel)),i.element.remove()}_onMousedown(i){const t=IM(i),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!o&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!SM(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=i.changedTouches;if(t)for(let o=0;o<t.length;o++)this.fadeInRipple(t[o].clientX,t[o].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const i=this._triggerElement;i&&(iR.forEach(t=>c0._eventManager.removeHandler(t,i,this)),this._pointerUpEventsRegistered&&oR.forEach(t=>i.removeEventListener(t,this,rR)))}}const sR=new S("mat-ripple-global-options");let MH=(()=>{class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,o,a,d,p){this._elementRef=t,this._animationMode=p,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=d||{},this._rippleRenderer=new c0(this,o,t,a)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,o=0,a){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,o,{...this.rippleConfig,...a}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(o){return new(o||e)(ge(m),ge(Lt),ge(Ms),ge(sR,8),ge(No,8))};static#t=this.\u0275dir=fn({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(o,a){2&o&&Ga("mat-ripple-unbounded",a.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return e})(),RH=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({imports:[Uc,Uc]})}return e})();const aR={capture:!0},cR=["focus","click","mouseenter","touchstart"],OC="mat-ripple-loader-uninitialized",NC="mat-ripple-loader-class-name",uR="mat-ripple-loader-centered",u0="mat-ripple-loader-disabled";let kH=(()=>{class e{constructor(){this._document=Le(nn,{optional:!0}),this._animationMode=Le(No,{optional:!0}),this._globalRippleOptions=Le(sR,{optional:!0}),this._platform=Le(Ms),this._ngZone=Le(Lt),this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const a=t.target.closest(`[${OC}]`);a&&this.createRipple(a)},this._ngZone.runOutsideAngular(()=>{for(const t of cR)this._document?.addEventListener(t,this._onInteraction,aR)})}ngOnDestroy(){for(const t of cR)this._document?.removeEventListener(t,this._onInteraction,aR)}configureRipple(t,o){t.setAttribute(OC,""),(o.className||!t.hasAttribute(NC))&&t.setAttribute(NC,o.className||""),o.centered&&t.setAttribute(uR,""),o.disabled&&t.setAttribute(u0,"")}getRipple(t){return t.matRipple?t.matRipple:this.createRipple(t)}setDisabled(t,o){const a=t.matRipple;a?a.disabled=o:o?t.setAttribute(u0,""):t.removeAttribute(u0)}createRipple(t){if(!this._document)return;t.querySelector(".mat-ripple")?.remove();const o=this._document.createElement("span");o.classList.add("mat-ripple",t.getAttribute(NC)),t.append(o);const a=new MH(new m(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return a._isInitialized=!0,a.trigger=t,a.centered=t.hasAttribute(uR),a.disabled=t.hasAttribute(u0),this.attachRipple(t,a),a}attachRipple(t,o){t.removeAttribute(OC),t.matRipple=o}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class lR{}class OH{}const Xh="*";function l0(e,i){return{type:7,name:e,definitions:i,options:{}}}function Op(e,i=null){return{type:4,styles:i,timings:e}}function d0(e,i=null){return{type:3,steps:e,options:i}}function dR(e,i=null){return{type:2,steps:e,options:i}}function Hc(e){return{type:6,styles:e,offset:null}}function Np(e,i,t){return{type:0,name:e,styles:i,options:t}}function Pp(e,i,t=null){return{type:1,expr:e,animation:i,options:t}}function h0(e=null){return{type:9,options:e}}function f0(e,i,t=null){return{type:11,selector:e,animation:i,options:t}}class v_{constructor(i=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class hR{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let t=0,o=0,a=0;const d=this.players.length;0==d?queueMicrotask(()=>this._onFinish()):this.players.forEach(p=>{p.onDone(()=>{++t==d&&this._onFinish()}),p.onDestroy(()=>{++o==d&&this._onDestroy()}),p.onStart(()=>{++a==d&&this._onStart()})}),this.totalTime=this.players.reduce((p,g)=>Math.max(p,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const t=i*this.totalTime;this.players.forEach(o=>{const a=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(a)})}getPosition(){const i=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}function NH(e,i){}const PH={bottomSheetState:l0("state",[Np("void, hidden",Hc({transform:"translateY(100%)"})),Np("visible",Hc({transform:"translateY(0%)"})),Pp("visible => void, visible => hidden",d0([Op(`${JM.COMPLEX} ${QM.ACCELERATION_CURVE}`),f0("@*",h0(),{optional:!0})])),Pp("void => visible",d0([Op(`${JM.EXITING} ${QM.DECELERATION_CURVE}`),f0("@*",h0(),{optional:!0})]))])};let FH=(()=>{class e extends AC{constructor(t,o,a,d,p,g,_,E,I,R){super(t,o,a,d,p,g,_,R),this._changeDetectorRef=I,this._animationState="void",this._animationStateChanged=new no,this._breakpointSubscription=E.observe([Vv_Medium,Vv_Large,"(min-width: 1920px)"]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",E.isMatched(Vv_Medium)),this._toggleClass("mat-bottom-sheet-container-large",E.isMatched(Vv_Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",E.isMatched("(min-width: 1920px)"))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(t){"visible"===t.toState&&this._trapFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_captureInitialFocus(){}_toggleClass(t,o){this._elementRef.nativeElement.classList.toggle(t,o)}static#e=this.\u0275fac=function(o){return new(o||e)(ge(m),ge(t0),ge(nn,8),ge(m_),ge(l_),ge(Lt),ge(Hv),ge(_M),ge(ab),ge(d_))};static#t=this.\u0275cmp=xt({type:e,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(o,a){1&o&&mw("@state.start",function(p){return a._onAnimationStart(p)})("@state.done",function(p){return a._onAnimationDone(p)}),2&o&&(ud("role",a._config.role)("aria-modal",a._config.ariaModal)("aria-label",a._config.ariaLabel),Cw("@state",a._animationState))},features:[Pc],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(o,a){1&o&&ra(0,NH,0,0,"ng-template",0)},dependencies:[s0],styles:[".mat-bottom-sheet-container{--mat-bottom-sheet-container-shape:4px;box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;background:var(--mat-bottom-sheet-container-background-color);color:var(--mat-bottom-sheet-container-text-color);font-family:var(--mat-bottom-sheet-container-text-font);font-size:var(--mat-bottom-sheet-container-text-size);line-height:var(--mat-bottom-sheet-container-text-line-height);font-weight:var(--mat-bottom-sheet-container-text-weight);letter-spacing:var(--mat-bottom-sheet-container-text-tracking)}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape);border-top-right-radius:var(--mat-bottom-sheet-container-shape)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[PH.bottomSheetState]}})}return e})(),fR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({imports:[YM,Uc,p_,Uc]})}return e})();const LH=new S("MatBottomSheetData");class jH{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class FC{get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}constructor(i,t,o){this._ref=i,this._afterOpened=new K,this.containerInstance=o,this.disableClose=t.disableClose,o._animationStateChanged.pipe(Ui(a=>"done"===a.phaseName&&"visible"===a.toState),ns(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe(Ui(a=>"done"===a.phaseName&&"hidden"===a.toState),ns(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),i.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),yi(this.backdropClick(),this.keydownEvents().pipe(Ui(a=>27===a.keyCode))).subscribe(a=>{!this.disableClose&&("keydown"!==a.type||!vC(a))&&(a.preventDefault(),this.dismiss())})}dismiss(i){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(Ui(t=>"start"===t.phaseName),ns(1)).subscribe(t=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},t.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=i,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const BH=new S("mat-bottom-sheet-default-options");let pR=(()=>{class e{get _openedBottomSheetRef(){const t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(t,o,a,d){this._overlay=t,this._parentBottomSheet=a,this._defaultOptions=d,this._bottomSheetRefAtThisLevel=null,this._dialog=o.get(RC)}open(t,o){const a={...this._defaultOptions||new jH,...o};let d;return this._dialog.open(t,{...a,disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:FH,scrollStrategy:a.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:d}),providers:(p,g,_)=>(d=new FC(p,a,_),[{provide:FC,useValue:d},{provide:LH,useValue:a.data}])}),d.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===d&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>d.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):d.containerInstance.enter(),this._openedBottomSheetRef=d,d}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static#e=this.\u0275fac=function(o){return new(o||e)(ne(ag),ne(ti),ne(e,12),ne(BH,8))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:fR})}return e})();const VH=["*"],zH=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],$H=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],qH=new S("MAT_CARD_CONFIG");let p0=(()=>{class e{constructor(t){this.appearance=t?.appearance||"raised"}static#e=this.\u0275fac=function(o){return new(o||e)(ge(qH,8))};static#t=this.\u0275cmp=xt({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(o,a){2&o&&Ga("mat-mdc-card-outlined","outlined"===a.appearance)("mdc-card--outlined","outlined"===a.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:VH,decls:1,vars:0,template:function(o,a){1&o&&(Cp(),ts(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return e})(),m0=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=fn({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return e})(),mR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=fn({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return e})(),gR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=fn({type:e,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"]})}return e})(),g0=(()=>{class e{constructor(){this.align="start"}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=fn({type:e,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(o,a){2&o&&Ga("mat-mdc-card-actions-align-end","end"===a.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return e})(),v0=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=xt({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:$H,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(o,a){1&o&&(Cp(zH),ts(0),De(1,"div",0),ts(2,1),Fe(),ts(3,2))},encapsulation:2,changeDetection:0})}return e})(),vR=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=fn({type:e,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]})}return e})(),KH=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({imports:[Uc,Px,Uc]})}return e})();function YH(e,i){if(1&e){const t=qh();De(0,"div"),mi(1,"input",8,9)(3,"input",10,11),De(5,"button",12),pn("click",function(){Tn(t);const a=Lc(2),d=Lc(4);return ps(Ep().onLogin(a,d))}),qe(6,"Login"),Fe()()}}function ZH(e,i){if(1&e){const t=qh();De(0,"div"),mi(1,"input",8,13)(3,"input",10,14)(5,"input",15,16),De(7,"button",17),pn("click",function(){Tn(t);const a=Lc(2),d=Lc(4),p=Lc(6);return ps(Ep().onRegisterClick(a,d,p))}),qe(8,"Create"),Fe()()}}function XH(e,i){if(1&e){const t=qh();De(0,"div"),mi(1,"input",8,18),De(3,"button",19),pn("click",function(){Tn(t);const a=Lc(2);return ps(Ep().onResetClick(a))}),qe(4,"Reset"),Fe()()}}let yR=(()=>{class e{constructor(t){this.bottomSheetRef=t,this.state=zu.LOGIN,this.firebasetsAuth=new rg}ngOnInit(){}onResetClick(t){let o=t.value;this.isNotEmpty(o)&&this.firebasetsAuth.sendPasswordResetEmail({email:o,onComplete:a=>{this.bottomSheetRef.dismiss()}})}onLogin(t,o){let a=t.value,d=o.value;this.isNotEmpty(a)&&this.isNotEmpty(d)&&this.firebasetsAuth.signInWith({email:a,password:d,onComplete:p=>{this.bottomSheetRef.dismiss()},onFail:p=>{alert("Error: There is no user record corresponding to this identifier.The user may have been deleted.")}})}onRegisterClick(t,o,a){let d=t.value,p=o.value,g=a.value;this.isNotEmpty(d)&&this.isNotEmpty(p)&&this.isNotEmpty(g)&&this.isAMatch(p,g)&&this.firebasetsAuth.createAccountWith({email:d,password:p,onComplete:_=>{this.bottomSheetRef.dismiss()},onFail:_=>{alert("Failed to create the account.")}})}isNotEmpty(t){return null!=t&&t.length>0}isAMatch(t,o){return t==o}onForgotPasswordClick(){this.state=zu.FORGOT_PASSWORD}onCreateAccountClick(){this.state=zu.REGISTER}onLoginClick(){this.state=zu.LOGIN}isLoginState(){return this.state==zu.LOGIN}isRegisterState(){return this.state==zu.REGISTER}isForgotPasswordState(){return this.state==zu.FORGOT_PASSWORD}getStateText(){switch(this.state){case zu.LOGIN:return"Login";case zu.REGISTER:return"Register";case zu.FORGOT_PASSWORD:return"Forgot Password"}}static#e=this.\u0275fac=function(o){return new(o||e)(ge(FC))};static#t=this.\u0275cmp=xt({type:e,selectors:[["app-authenticator"]],decls:15,vars:4,consts:[["id","authenticator"],["id","authenticator-content"],[1,"title"],[4,"ngIf"],["align","end",1,"action"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-outline-success",3,"click"],["placeholder","Email"],["loginEmail",""],["placeholder","Password","type","password"],["loginPassword",""],["type","button",1,"btn","btn-success",3,"click"],["registerEmail",""],["registerPassword",""],["placeholder","Confirm Password","type","password"],["registerConfirmPassword",""],["type","button",1,"btn","btn-info",3,"click"],["resetEmail",""],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(o,a){1&o&&(De(0,"div",0)(1,"mat-card",1)(2,"mat-card-header")(3,"mat-card-title",2),qe(4),Fe()(),ra(5,YH,7,0,"div",3),ra(6,ZH,9,0,"div",3),ra(7,XH,5,0,"div",3),De(8,"mat-card-actions",4)(9,"button",5),pn("click",function(){return a.onForgotPasswordClick()}),qe(10,"Forgot Password"),Fe(),De(11,"button",6),pn("click",function(){return a.onCreateAccountClick()}),qe(12,"Create an Account"),Fe(),De(13,"button",7),pn("click",function(){return a.onLoginClick()}),qe(14,"Login"),Fe()()()()),2&o&&(Pr(4),Ip(a.getStateText()),Pr(1),ro("ngIf",a.isLoginState()),Pr(1),ro("ngIf",a.isRegisterState()),Pr(1),ro("ngIf",a.isForgotPasswordState()))},dependencies:[Eb,p0,g0,v0,m0],styles:["#authenticator[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;border-radius:10px;background:linear-gradient(135deg,#3150a3,rgb(142,182,207));padding:16px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#authenticator-content[_ngcontent-%COMP%]{max-width:32em;padding:16px;border-radius:15px;box-shadow:0 0 5px #0e055e80}.title[_ngcontent-%COMP%]{font-weight:700;font-size:1.5em;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif}.action[_ngcontent-%COMP%]{justify-content:center}button[_ngcontent-%COMP%]{margin:.5em}input[_ngcontent-%COMP%]{width:100%;padding:1em;margin:.5em 0;border-radius:10px;outline:none;border:2px solid rgba(7,26,109,.3);box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}input[_ngcontent-%COMP%]:focus{border-color:#0a38ce;box-shadow:0 0 5px #17045a80}"]})}return e})();var zu=function(e){return e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER",e[e.FORGOT_PASSWORD=2]="FORGOT_PASSWORD",e}(zu||{});const QH=["mat-button",""],_R=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],bR=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],e4=["mat-fab",""],t4=["mat-icon-button",""],n4=["*"],r4=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],i4=eR(CH(DH(class{constructor(e){this._elementRef=e}})));let LC=(()=>{class e extends i4{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=jv(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=jv(t),this._updateRippleDisabled()}constructor(t,o,a,d){super(t),this._platform=o,this._ngZone=a,this._animationMode=d,this._focusMonitor=Le(d_),this._rippleLoader=Le(kH),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const p=t.nativeElement.classList;for(const g of r4)this._hasHostAttributes(g.selector)&&g.mdcClasses.forEach(_=>{p.add(_)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",o){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,o):this._elementRef.nativeElement.focus(o)}_hasHostAttributes(...t){return t.some(o=>this._elementRef.nativeElement.hasAttribute(o))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(o){F_()};static#t=this.\u0275dir=fn({type:e,features:[Pc]})}return e})(),jC=(()=>{class e extends LC{constructor(t,o,a,d){super(t,o,a,d)}static#e=this.\u0275fac=function(o){return new(o||e)(ge(m),ge(Ms),ge(Lt),ge(No,8))};static#t=this.\u0275cmp=xt({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(o,a){2&o&&(ud("disabled",a.disabled||null),Ga("_mat-animation-noopable","NoopAnimations"===a._animationMode)("mat-unthemed",!a.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Pc],attrs:QH,ngContentSelectors:bR,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,a){1&o&&(Cp(_R),mi(0,"span",0),ts(1),De(2,"span",1),ts(3,1),Fe(),ts(4,2),mi(5,"span",2)(6,"span",3)),2&o&&Ga("mdc-button__ripple",!a._isFab)("mdc-fab__ripple",a._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})();const s4=new S("mat-mdc-fab-default-options",{providedIn:"root",factory:wR});function wR(){return{color:"accent"}}const ER=wR();let a4=(()=>{class e extends LC{get extended(){return this._extended}set extended(t){this._extended=jv(t)}constructor(t,o,a,d,p){super(t,o,a,d),this._options=p,this._isFab=!0,this._options=this._options||ER,this.color=this.defaultColor=this._options.color||ER.color}static#e=this.\u0275fac=function(o){return new(o||e)(ge(m),ge(Ms),ge(Lt),ge(No,8),ge(s4,8))};static#t=this.\u0275cmp=xt({type:e,selectors:[["button","mat-fab",""]],hostVars:11,hostBindings:function(o,a){2&o&&(ud("disabled",a.disabled||null),Ga("_mat-animation-noopable","NoopAnimations"===a._animationMode)("mat-unthemed",!a.color)("mat-mdc-button-base",!0)("mdc-fab--extended",a.extended)("mat-mdc-extended-fab",a.extended))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",extended:"extended"},exportAs:["matButton"],features:[Pc],attrs:e4,ngContentSelectors:bR,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,a){1&o&&(Cp(_R),mi(0,"span",0),ts(1),De(2,"span",1),ts(3,1),Fe(),ts(4,2),mi(5,"span",2)(6,"span",3)),2&o&&Ga("mdc-button__ripple",!a._isFab)("mdc-fab__ripple",a._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color);--mdc-fab-container-shape:50%;--mdc-fab-icon-size:24px}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return e})(),c4=(()=>{class e extends LC{constructor(t,o,a,d){super(t,o,a,d),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(o){return new(o||e)(ge(m),ge(Ms),ge(Lt),ge(No,8))};static#t=this.\u0275cmp=xt({type:e,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(o,a){2&o&&(ud("disabled",a.disabled||null),Ga("_mat-animation-noopable","NoopAnimations"===a._animationMode)("mat-unthemed",!a.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Pc],attrs:t4,ngContentSelectors:n4,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(o,a){1&o&&(Cp(),mi(0,"span",0),ts(1),mi(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return e})(),u4=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({imports:[Uc,RH,Uc]})}return e})(),CR=(()=>{class e{constructor(t){this.loginSheet=t}ngOnInit(){}onGetStartedClick(){this.loginSheet.open(yR)}static#e=this.\u0275fac=function(o){return new(o||e)(ge(pR))};static#t=this.\u0275cmp=xt({type:e,selectors:[["app-home"]],decls:10,vars:0,consts:[["id","home-page"],["id","home-page-landing"],["id","landing-left"],["id","landing-left-content"],["mat-raised-button","",3,"click"]],template:function(o,a){1&o&&(De(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),qe(5,"Social Media App Platform"),Fe(),De(6,"p"),qe(7," Share your favorite stories! #SocioSync "),Fe(),De(8,"button",4),pn("click",function(){return a.onGetStartedClick()}),qe(9,"Get Started"),Fe()()()()())},dependencies:[jC],styles:["#home-page[_ngcontent-%COMP%]{width:100%;height:100%}#home-page-landing[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;justify-content:center;width:100%;height:100%;background-image:linear-gradient(rgba(0,0,0,.6),rgba(0,0,0,.6)),url(share.362642fa892fc729.gif);background-size:cover;background-position:center;background-repeat:no-repeat;color:#fff;box-shadow:0 0 10px #0009}#landing-left[_ngcontent-%COMP%]{display:flex;color:#fff;justify-content:center;align-items:center}#landing-left-content[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;align-items:center}#landing-left-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:5em;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;-webkit-text-fill-color:rgb(236,236,221);overflow:hidden;white-space:nowrap;border-right:2px solid rgb(179,102,72);margin:0;padding-right:5px;animation:_ngcontent-%COMP%_typing 5s steps(30) forwards,blinkCursor .7s infinite step-end}@keyframes _ngcontent-%COMP%_typing{0%{width:0}to{width:100%}}@keyframes _ngcontent-%COMP%_blinkCursor{50%{border-color:transparent}}#landing-left-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.8em;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;-webkit-text-fill-color:#d1c5c5}#landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:1.7em;padding:1em;border-radius:1vh;background-color:#f13b27;color:#f8f3ee}#landing-left-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#b11e0e;color:#fff}"]})}return e})(),l4=(()=>{class e{constructor(t){this.router=t,this.auth=new rg}ngOnInit(){this.auth.isSignedIn()&&!1===this.auth.getAuth()?.currentUser?.emailVerified?this.auth.sendVerificationEmail():this.router.navigate([""])}onResendClick(){this.auth.sendVerificationEmail()}static#e=this.\u0275fac=function(o){return new(o||e)(ge(Fo))};static#t=this.\u0275cmp=xt({type:e,selectors:[["app-email-verification"]],decls:5,vars:0,consts:[["id","email-verification"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(o,a){1&o&&(De(0,"div",0)(1,"h1"),qe(2,"Your Email is Not Verified"),Fe(),De(3,"button",1),pn("click",function(){return a.onResendClick()}),qe(4,"Resend Verification Email"),Fe()())},styles:["#email-verification[_ngcontent-%COMP%]{text-align:center;width:100%;height:100%;background-image:linear-gradient(rgba(0,0,0,.7),rgba(0,0,0,.7)),url(share.362642fa892fc729.gif);background-size:cover;background-position:center;background-repeat:no-repeat;background-color:#f8f3ec66;display:flex;flex-direction:column;justify-content:center;align-items:center}#email-verification[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#f3f3da;margin-bottom:20px}#email-verification[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#c05213;color:#f8f6f6;padding:10px 20px;transition:background-color .3s;border-radius:12px;box-shadow:#141414}#email-verification[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f53708}"]})}return e})();$t(677);class zv{constructor(){this.listeners=new Map}appendArray(i){return Ya._getFirestore().FieldValue.arrayUnion(i)}increment(i){return Ya._getFirestore().FieldValue.increment(i)}genDocId(){return Ya.getFirestore().collection("TEMP").doc().id}all(i){const t=Ya.getFirestore().batch();for(let o of i.operations)o.getOperation(t);return new Promise((o,a)=>{t.commit().then(()=>{try{i.onComplete()}catch{}o()}).catch(d=>{try{i.onFail(d)}catch{}a(d)})})}create(i){return new Promise((t,o)=>{if(null==i.data||null==i.data)throw new Error("Error creating data. Data is null or undefined.");if(this.isCollectionPath(i.path)){let a=this.genCollectionReference(i.path).doc();a.set(i.data).then(()=>{try{i.onComplete(a.id)}catch{}t(a.id)}).catch(d=>{try{i.onFail(d)}catch{}o(d)})}else if(this.isDocumentPath(i.path)){let a=this.genDocumentReference(i.path);a.set(i.data).then(()=>{try{i.onComplete(a.id)}catch{}t(a.id)}).catch(d=>{try{i.onFail(d)}catch{}o(d)})}})}delete(i){return new Promise((t,o)=>{this.checkDocumentPathValidity(i.path),this.genDocumentReference(i.path).delete().then(()=>{try{i.onComplete()}catch{}t()}).catch(a=>{try{i.onFail(a)}catch{}o(a)})})}update(i){return new Promise((t,o)=>{this.checkDocumentPathValidity(i.path);const a=this.genDocumentReference(i.path);a.update(i.data).then(()=>{try{i.onComplete(a)}catch{}t(a)}).catch(d=>{try{i.onFail(d)}catch{}o(d)})})}getCollection(i){let t=this.genCollectionReference(i.path);return new Promise((null!=i.where||null!=i.where)&&i.where.length>0?(o,a)=>{let d;const p=Array(i.where)[0];for(let g=0;g<p.length;g++)d=null==d?p[g].getQuery(t):p[g].concatQuery(d);d.get().then(g=>{try{i.onComplete(g)}catch{}o(g)}).catch(g=>{try{i.onFail(g)}catch{}a(g)})}:(o,a)=>{t.get().then(d=>{try{i.onComplete(d)}catch{}o(d)}).catch(d=>{try{i.onFail(d)}catch{}a(d)})})}getDocument(i){return new Promise((t,o)=>{this.genDocumentReference(i.path).get().then(a=>{try{i.onComplete(a)}catch{}t(a)}).catch(a=>{try{i.onFail(a)}catch{}o(a)})})}listenToDocument(i){this.validateListenerName(i.name),this.addListener(i.name,this.genDocumentReference(i.path).onSnapshot(t=>{try{i.onUpdate(t)}catch{}}))}listenToCollection(i){this.validateListenerName(i.name);let t=this.genCollectionReference(i.path);if((null!=i.where||null!=i.where)&&i.where.length>0){let o;const a=Array(i.where)[0];for(let d=0;d<a.length;d++)o=null==o?a[d].getQuery(t):a[d].concatQuery(o);this.addListener(i.name,o.onSnapshot(d=>{try{i.onUpdate(d)}catch{}}))}else this.addListener(i.name,t.onSnapshot(o=>{try{i.onUpdate(o)}catch{}}))}genCollectionReference(i){this.checkCollectionPathValidity(i);const t=Array(i)[0];let o,a;for(let d=0;d<t.length;d++)d%2==0?o=null==o?Ya.getFirestore().collection(t[d]):a.collection(t[d]):a=o.doc(t[d]);return o}genDocumentReference(i){this.checkDocumentPathValidity(i);const t=Array(i)[0];let o,a;for(let d=0;d<t.length;d++)d%2==0?o=null==o?Ya.getFirestore().collection(t[d]):a.collection(t[d]):a=o.doc(t[d]);return a}addListener(i,t){return this.listeners.set(i,t),t}stopListeningTo(i){try{this.listeners.get(i)(),this.listeners.delete(i)}catch{}}stopListeningToAll(){this.listeners.forEach((i,t,o)=>{this.stopListeningTo(t)})}validateListenerName(i){if(null==i||null==i||"string"!=typeof i||i.trim().length<=0)throw"Listener name cannot be empty.";if(null!=this.listeners.get(i))throw`Listener name: ${i} is already taken.`}checkCollectionPathValidity(i){if(null==i||null==i||i.length<=0||!this.isCollectionPath(i))throw"Not a valid path to a collection."}isCollectionPath(i){return Array(i)[0].length%2==1}checkDocumentPathValidity(i){if(null==i||null==i||i.length<=0||!this.isDocumentPath(i))throw"Not a valid path to a document."}isDocumentPath(i){return Array(i)[0].length%2==0}}class DR{constructor(i,t){this.field=i,this.direction=t}getQuery(i){return i.orderBy(this.field,this.direction)}concatQuery(i){return i.orderBy(this.field,this.direction)}}class d4{constructor(i){this.limit=i}getQuery(i){return i.limit(this.limit)}concatQuery(i){return i.limit(this.limit)}}$t(669);class h4{constructor(){this.listeners=new Map}downloadToLocalStorage(i){return new Promise((t,o)=>{if(i instanceof Array)this.getDownloadUrl({path:i,onComplete:a=>{t(a),window.open(a,"Download")},onFail:a=>{o(a)}});else try{window.open(i,"Download"),t()}catch(a){o(a)}})}upload(i){return new Promise((t,o)=>{let a=null,d=this.genStorageRef(i.path);a=null==i.data.metadata||null==i.data.metadata?d.put(i.data.data):d.put(i.data.data,i.data.metadata),a.on("state_changed",p=>{try{i.onUpload(p)}catch{}},p=>{o(p);try{i.onFail(p)}catch{}},()=>{d.getDownloadURL().then(p=>{t(p);try{i.onComplete(p)}catch{}})}),this.listeners.set(i.uploadName,a)})}deleteWithUrl(i){return new Promise((t,o)=>{Ya.getStorage().refFromURL(i.url).delete().then(()=>{t();try{i.onComplete()}catch{}}).catch(d=>{o(d);try{i.onFail(d)}catch{}})})}delete(i){return new Promise((t,o)=>{this.genStorageRef(i.path).delete().then(()=>{t();try{i.onComplete()}catch{}}).catch(d=>{o(d);try{i.onFail(d)}catch{}})})}getDownloadUrl(i){return new Promise((t,o)=>{const a=this.genStorageRef(i.path);try{a.getDownloadURL().then(d=>{t(d);try{i.onComplete(d)}catch{}})}catch(d){o(d);try{i.onFail(d)}catch{}}})}genStorageRef(i){let t=Ya.getStorage().ref();for(let o=0;o<i.length;o++)t=t.child(i[o]);return t}}function f4(e,i){}class y0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const BC="mdc-dialog--open",IR="mdc-dialog--opening",SR="mdc-dialog--closing";let g4=(()=>{class e extends AC{constructor(t,o,a,d,p,g,_,E){super(t,o,a,d,p,g,_,E),this._animationStateChanged=new no}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}static#e=this.\u0275fac=function(o){return new(o||e)(ge(m),ge(t0),ge(nn,8),ge(y0),ge(l_),ge(Lt),ge(Hv),ge(d_))};static#t=this.\u0275cmp=xt({type:e,selectors:[["ng-component"]],features:[Pc],decls:0,vars:0,template:function(o,a){},encapsulation:2})}return e})();const TR="--mat-dialog-transition-duration";function xR(e){return null==e?null:"number"==typeof e?e:e.endsWith("ms")?gM(e.substring(0,e.length-2)):e.endsWith("s")?1e3*gM(e.substring(0,e.length-1)):"0"===e?0:null}let v4=(()=>{class e extends g4{constructor(t,o,a,d,p,g,_,E,I){super(t,o,a,d,p,g,_,I),this._animationMode=E,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?xR(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?xR(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(TR,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(IR,BC)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(BC),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(BC),this._animationsEnabled?(this._hostElement.style.setProperty(TR,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(SR)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(IR,SR)}_waitForAnimationToComplete(t,o){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(o,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}static#e=this.\u0275fac=function(o){return new(o||e)(ge(m),ge(t0),ge(nn,8),ge(y0),ge(l_),ge(Lt),ge(Hv),ge(No,8),ge(d_))};static#t=this.\u0275cmp=xt({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(o,a){2&o&&(Z_("id",a._config.id),ud("aria-modal",a._config.ariaModal)("role",a._config.role)("aria-labelledby",a._config.ariaLabel?null:a._ariaLabelledByQueue[0])("aria-label",a._config.ariaLabel)("aria-describedby",a._config.ariaDescribedBy||null),Ga("_mat-animation-noopable",!a._animationsEnabled))},features:[Pc],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(o,a){1&o&&(De(0,"div",0)(1,"div",1),ra(2,f4,0,0,"ng-template",2),Fe()())},dependencies:[s0],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return e})();class _0{constructor(i,t,o){this._ref=i,this._containerInstance=o,this._afterOpened=new K,this._beforeClosed=new K,this._state=0,this.disableClose=t.disableClose,this.id=i.id,o._animationStateChanged.pipe(Ui(a=>"opened"===a.state),ns(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),o._animationStateChanged.pipe(Ui(a=>"closed"===a.state),ns(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),yi(this.backdropClick(),this.keydownEvents().pipe(Ui(a=>27===a.keyCode&&!this.disableClose&&!vC(a)))).subscribe(a=>{this.disableClose||(a.preventDefault(),function y4(e,i,t){e._closeInteractionType=i,e.close(t)}(this,"keydown"===a.type?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(Ui(t=>"closing"===t.state),ns(1)).subscribe(t=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let t=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?t.left(i.left):t.right(i.right):t.centerHorizontally(),i&&(i.top||i.bottom)?i.top?t.top(i.top):t.bottom(i.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",t=""){return this._ref.updateSize(i,t),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const AR=new S("MatMdcDialogData"),_4=new S("mat-mdc-dialog-default-options"),MR=new S("mat-mdc-dialog-scroll-strategy"),w4={provide:MR,deps:[ag],useFactory:function b4(e){return()=>e.scrollStrategies.block()}};let E4=0,C4=(()=>{class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,o,a,d,p,g,_,E,I,R){this._overlay=t,this._defaultOptions=a,this._parentDialog=d,this._dialogRefConstructor=_,this._dialogContainerType=E,this._dialogDataToken=I,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new K,this._afterOpenedAtThisLevel=new K,this._idPrefix="mat-dialog-",this.dialogConfigClass=y0,this.afterAllClosed=Ab(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Mb(void 0))),this._scrollStrategy=g,this._dialog=o.get(RC)}open(t,o){let a;(o={...this._defaultOptions||new y0,...o}).id=o.id||`${this._idPrefix}${E4++}`,o.scrollStrategy=o.scrollStrategy||this._scrollStrategy();const d=this._dialog.open(t,{...o,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:o},{provide:m_,useValue:o}]},templateContext:()=>({dialogRef:a}),providers:(p,g,_)=>(a=new this._dialogRefConstructor(p,o,_),a.updatePosition(o?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:g.data},{provide:this._dialogRefConstructor,useValue:a}])});return a.componentRef=d.componentRef,a.componentInstance=d.componentInstance,this.openDialogs.push(a),this.afterOpened.next(a),a.afterClosed().subscribe(()=>{const p=this.openDialogs.indexOf(a);p>-1&&(this.openDialogs.splice(p,1),this.openDialogs.length||this._getAfterAllClosed().next())}),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(o=>o.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let o=t.length;for(;o--;)t[o].close()}static#e=this.\u0275fac=function(o){F_()};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),y_=(()=>{class e extends C4{constructor(t,o,a,d,p,g,_,E){super(t,o,d,g,_,p,_0,v4,AR,E),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(o){return new(o||e)(ne(ag),ne(ti),ne(Hy,8),ne(_4,8),ne(MR),ne(e,12),ne(a0),ne(No,8))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),D4=0,I4=(()=>{class e{constructor(t,o,a){this._dialogRef=t,this._elementRef=o,this._dialog=a,this.id="mat-mdc-dialog-title-"+D4++}ngOnInit(){this._dialogRef||(this._dialogRef=function x4(e,i){let t=e.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?i.find(o=>o.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const t=this._dialogRef?._containerInstance?._ariaLabelledByQueue;t&&Promise.resolve().then(()=>{const o=t.indexOf(this.id);o>-1&&t.splice(o,1)})}static#e=this.\u0275fac=function(o){return new(o||e)(ge(_0,8),ge(m),ge(y_))};static#t=this.\u0275dir=fn({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(o,a){2&o&&Z_("id",a.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return e})(),S4=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=fn({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return e})(),T4=(()=>{class e{constructor(){this.align="start"}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275dir=fn({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(o,a){2&o&&Ga("mat-mdc-dialog-actions-align-center","center"===a.align)("mat-mdc-dialog-actions-align-end","end"===a.align)},inputs:{align:"align"}})}return e})(),A4=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({providers:[y_,w4],imports:[YM,WM,p_,Uc,Uc]})}return e})();class VC{}class Qh{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(t=>{const o=t.indexOf(":");if(o>0){const a=t.slice(0,o),d=a.toLowerCase(),p=t.slice(o+1).trim();this.maybeSetNormalizedName(a,d),this.headers.has(d)?this.headers.get(d).push(p):this.headers.set(d,[p])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((t,o)=>{this.setHeaderEntries(o,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([t,o])=>{this.setHeaderEntries(t,o)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const t=this.headers.get(i.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,t){return this.clone({name:i,value:t,op:"a"})}set(i,t){return this.clone({name:i,value:t,op:"s"})}delete(i,t){return this.clone({name:i,value:t,op:"d"})}maybeSetNormalizedName(i,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,i)}init(){this.lazyInit&&(this.lazyInit instanceof Qh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(t=>{this.headers.set(t,i.headers.get(t)),this.normalizedNames.set(t,i.normalizedNames.get(t))})}clone(i){const t=new Qh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Qh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([i]),t}applyUpdate(i){const t=i.name.toLowerCase();switch(i.op){case"a":case"s":let o=i.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(i.name,t);const a=("a"===i.op?this.headers.get(t):void 0)||[];a.push(...o),this.headers.set(t,a);break;case"d":const d=i.value;if(d){let p=this.headers.get(t);if(!p)return;p=p.filter(g=>-1===d.indexOf(g)),0===p.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,p)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(i,t){const o=(Array.isArray(t)?t:[t]).map(d=>d.toString()),a=i.toLowerCase();this.headers.set(a,o),this.maybeSetNormalizedName(i,a)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>i(this.normalizedNames.get(t),this.headers.get(t)))}}class R4{encodeKey(i){return kR(i)}encodeValue(i){return kR(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const O4=/%(\d[a-f0-9])/gi,N4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function kR(e){return encodeURIComponent(e).replace(O4,(i,t)=>N4[t]??i)}function b0(e){return`${e}`}class Fp{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new R4,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function k4(e,i){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(a=>{const d=a.indexOf("="),[p,g]=-1==d?[i.decodeKey(a),""]:[i.decodeKey(a.slice(0,d)),i.decodeValue(a.slice(d+1))],_=t.get(p)||[];_.push(g),t.set(p,_)}),t}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(t=>{const o=i.fromObject[t],a=Array.isArray(o)?o.map(b0):[b0(o)];this.map.set(t,a)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const t=this.map.get(i);return t?t[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,t){return this.clone({param:i,value:t,op:"a"})}appendAll(i){const t=[];return Object.keys(i).forEach(o=>{const a=i[o];Array.isArray(a)?a.forEach(d=>{t.push({param:o,value:d,op:"a"})}):t.push({param:o,value:a,op:"a"})}),this.clone(t)}set(i,t){return this.clone({param:i,value:t,op:"s"})}delete(i,t){return this.clone({param:i,value:t,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const t=this.encoder.encodeKey(i);return this.map.get(i).map(o=>t+"="+this.encoder.encodeValue(o)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const t=new Fp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(i),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const t=("a"===i.op?this.map.get(i.param):void 0)||[];t.push(b0(i.value)),this.map.set(i.param,t);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let o=this.map.get(i.param)||[];const a=o.indexOf(b0(i.value));-1!==a&&o.splice(a,1),o.length>0?this.map.set(i.param,o):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class P4{constructor(){this.map=new Map}set(i,t){return this.map.set(i,t),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function OR(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function NR(e){return typeof Blob<"u"&&e instanceof Blob}function PR(e){return typeof FormData<"u"&&e instanceof FormData}class __{constructor(i,t,o,a){let d;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function F4(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==o?o:null,d=a):d=o,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new Qh),this.context||(this.context=new P4),this.params){const p=this.params.toString();if(0===p.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+p}}else this.params=new Fp,this.urlWithParams=t}serializeBody(){return null===this.body?null:OR(this.body)||NR(this.body)||PR(this.body)||function L4(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||PR(this.body)?null:NR(this.body)?this.body.type||null:OR(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const t=i.method||this.method,o=i.url||this.url,a=i.responseType||this.responseType,d=void 0!==i.body?i.body:this.body,p=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,g=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let _=i.headers||this.headers,E=i.params||this.params;const I=i.context??this.context;return void 0!==i.setHeaders&&(_=Object.keys(i.setHeaders).reduce((R,F)=>R.set(F,i.setHeaders[F]),_)),i.setParams&&(E=Object.keys(i.setParams).reduce((R,F)=>R.set(F,i.setParams[F]),E)),new __(t,o,d,{params:E,headers:_,context:I,reportProgress:g,responseType:a,withCredentials:p})}}var HC=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(HC||{});class j4{constructor(i,t=200,o="OK"){this.headers=i.headers||new Qh,this.status=void 0!==i.status?i.status:t,this.statusText=i.statusText||o,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class b_ extends j4{constructor(i={}){super(i),this.type=HC.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new b_({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}function zC(e,i){return{body:i,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let $C=(()=>{class e{constructor(t){this.handler=t}request(t,o,a={}){let d;if(t instanceof __)d=t;else{let _,E;_=a.headers instanceof Qh?a.headers:new Qh(a.headers),a.params&&(E=a.params instanceof Fp?a.params:new Fp({fromObject:a.params})),d=new __(t,o,void 0!==a.body?a.body:null,{headers:_,context:a.context,params:E,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const p=nt(d).pipe(Tv(_=>this.handler.handle(_)));if(t instanceof __||"events"===a.observe)return p;const g=p.pipe(Ui(_=>_ instanceof b_));switch(a.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return g.pipe(Qe(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return g.pipe(Qe(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return g.pipe(Qe(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return g.pipe(Qe(_=>_.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(t,o={}){return this.request("DELETE",t,o)}get(t,o={}){return this.request("GET",t,o)}head(t,o={}){return this.request("HEAD",t,o)}jsonp(t,o){return this.request("JSONP",t,{params:(new Fp).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,o={}){return this.request("OPTIONS",t,o)}patch(t,o,a={}){return this.request("PATCH",t,zC(a,o))}post(t,o,a={}){return this.request("POST",t,zC(a,o))}put(t,o,a={}){return this.request("PUT",t,zC(a,o))}static#e=this.\u0275fac=function(o){return new(o||e)(ne(VC))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();const iz=["*"];let C0;function w_(e){return function oz(){if(void 0===C0&&(C0=null,typeof window<"u")){const e=window;void 0!==e.trustedTypes&&(C0=e.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return C0}()?.createHTML(e)||e}function qR(e){return Error(`Unable to find icon with the name "${e}"`)}function GR(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function WR(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class ug{constructor(i,t,o){this.url=i,this.svgText=t,this.options=o}}let D0=(()=>{class e{constructor(t,o,a,d){this._httpClient=t,this._sanitizer=o,this._errorHandler=d,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=a}addSvgIcon(t,o,a){return this.addSvgIconInNamespace("",t,o,a)}addSvgIconLiteral(t,o,a){return this.addSvgIconLiteralInNamespace("",t,o,a)}addSvgIconInNamespace(t,o,a,d){return this._addSvgIconConfig(t,o,new ug(a,null,d))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,o,a,d){const p=this._sanitizer.sanitize(ei.HTML,a);if(!p)throw WR(a);const g=w_(p);return this._addSvgIconConfig(t,o,new ug("",g,d))}addSvgIconSet(t,o){return this.addSvgIconSetInNamespace("",t,o)}addSvgIconSetLiteral(t,o){return this.addSvgIconSetLiteralInNamespace("",t,o)}addSvgIconSetInNamespace(t,o,a){return this._addSvgIconSetConfig(t,new ug(o,null,a))}addSvgIconSetLiteralInNamespace(t,o,a){const d=this._sanitizer.sanitize(ei.HTML,o);if(!d)throw WR(o);const p=w_(d);return this._addSvgIconSetConfig(t,new ug("",p,a))}registerFontClassAlias(t,o=t){return this._fontCssClassesByAlias.set(t,o),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const o=this._sanitizer.sanitize(ei.RESOURCE_URL,t);if(!o)throw GR(t);const a=this._cachedIconsByUrl.get(o);return a?nt(I0(a)):this._loadSvgIconFromConfig(new ug(t,null)).pipe(oo(d=>this._cachedIconsByUrl.set(o,d)),Qe(d=>I0(d)))}getNamedSvgIcon(t,o=""){const a=KR(o,t);let d=this._svgIconConfigs.get(a);if(d)return this._getSvgFromConfig(d);if(d=this._getIconConfigFromResolvers(o,t),d)return this._svgIconConfigs.set(a,d),this._getSvgFromConfig(d);const p=this._iconSetConfigs.get(o);return p?this._getSvgFromIconSetConfigs(t,p):Sv(qR(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?nt(I0(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Qe(o=>I0(o)))}_getSvgFromIconSetConfigs(t,o){const a=this._extractIconWithNameFromAnySet(t,o);return a?nt(a):function M4(...e){const i=G(e),{args:t,keys:o}=sA(e),a=new mt(d=>{const{length:p}=t;if(!p)return void d.complete();const g=new Array(p);let _=p,E=p;for(let I=0;I<p;I++){let R=!1;cn(t[I]).subscribe(Ie(d,F=>{R||(R=!0,E--),g[I]=F},()=>_--,void 0,()=>{(!_||!R)&&(E||d.next(o?aA(o,g):g),d.complete())}))}});return i?a.pipe(HE(i)):a}(o.filter(p=>!p.svgText).map(p=>this._loadSvgIconSetFromConfig(p).pipe(Ap(g=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(ei.RESOURCE_URL,p.url)} failed: ${g.message}`;return this._errorHandler.handleError(new Error(E)),nt(null)})))).pipe(Qe(()=>{const p=this._extractIconWithNameFromAnySet(t,o);if(!p)throw qR(t);return p}))}_extractIconWithNameFromAnySet(t,o){for(let a=o.length-1;a>=0;a--){const d=o[a];if(d.svgText&&d.svgText.toString().indexOf(t)>-1){const p=this._svgElementFromConfig(d),g=this._extractSvgIconFromSet(p,t,d.options);if(g)return g}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(oo(o=>t.svgText=o),Qe(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?nt(null):this._fetchIcon(t).pipe(oo(o=>t.svgText=o))}_extractSvgIconFromSet(t,o,a){const d=t.querySelector(`[id="${o}"]`);if(!d)return null;const p=d.cloneNode(!0);if(p.removeAttribute("id"),"svg"===p.nodeName.toLowerCase())return this._setSvgAttributes(p,a);if("symbol"===p.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(p),a);const g=this._svgElementFromString(w_("<svg></svg>"));return g.appendChild(p),this._setSvgAttributes(g,a)}_svgElementFromString(t){const o=this._document.createElement("DIV");o.innerHTML=t;const a=o.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(t){const o=this._svgElementFromString(w_("<svg></svg>")),a=t.attributes;for(let d=0;d<a.length;d++){const{name:p,value:g}=a[d];"id"!==p&&o.setAttribute(p,g)}for(let d=0;d<t.childNodes.length;d++)t.childNodes[d].nodeType===this._document.ELEMENT_NODE&&o.appendChild(t.childNodes[d].cloneNode(!0));return o}_setSvgAttributes(t,o){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),o&&o.viewBox&&t.setAttribute("viewBox",o.viewBox),t}_fetchIcon(t){const{url:o,options:a}=t,d=a?.withCredentials??!1;if(!this._httpClient)throw function sz(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==o)throw Error(`Cannot fetch icon from URL "${o}".`);const p=this._sanitizer.sanitize(ei.RESOURCE_URL,o);if(!p)throw GR(o);const g=this._inProgressUrlFetches.get(p);if(g)return g;const _=this._httpClient.get(p,{responseType:"text",withCredentials:d}).pipe(Qe(E=>w_(E)),kb(()=>this._inProgressUrlFetches.delete(p)),Wu());return this._inProgressUrlFetches.set(p,_),_}_addSvgIconConfig(t,o,a){return this._svgIconConfigs.set(KR(t,o),a),this}_addSvgIconSetConfig(t,o){const a=this._iconSetConfigs.get(t);return a?a.push(o):this._iconSetConfigs.set(t,[o]),this}_svgElementFromConfig(t){if(!t.svgElement){const o=this._svgElementFromString(t.svgText);this._setSvgAttributes(o,t.options),t.svgElement=o}return t.svgElement}_getIconConfigFromResolvers(t,o){for(let a=0;a<this._resolvers.length;a++){const d=this._resolvers[a](o,t);if(d)return cz(d)?new ug(d.url,null,d.options):new ug(d,null)}}static#e=this.\u0275fac=function(o){return new(o||e)(ne($C,8),ne(UE),ne(nn,8),ne(Nc))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function I0(e){return e.cloneNode(!0)}function KR(e,i){return e+":"+i}function cz(e){return!(!e.url||!e.options)}const uz=eR(class{constructor(e){this._elementRef=e}}),lz=new S("MAT_ICON_DEFAULT_OPTIONS"),dz=new S("mat-icon-location",{providedIn:"root",factory:function hz(){const e=Le(nn),i=e?e.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}}),YR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],fz=YR.map(e=>`[${e}]`).join(", "),pz=/^url\(['"]?#(.*?)['"]?\)$/;let $v=(()=>{class e extends uz{get inline(){return this._inline}set inline(t){this._inline=jv(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const o=this._cleanupFontValue(t);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const o=this._cleanupFontValue(t);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}constructor(t,o,a,d,p,g){super(t),this._iconRegistry=o,this._location=d,this._errorHandler=p,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ot.EMPTY,g&&(g.color&&(this.color=this.defaultColor=g.color),g.fontSet&&(this.fontSet=g.fontSet)),a||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const o=t.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const o=this._location.getPathname();this._previousPath=o,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(o),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let o=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const a=t.childNodes[o];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&a.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,o=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(a=>a.length>0);this._previousFontSetClass.forEach(a=>t.classList.remove(a)),o.forEach(a=>t.classList.add(a)),this._previousFontSetClass=o,this.fontIcon!==this._previousFontIconClass&&!o.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const o=this._elementsWithExternalReferences;o&&o.forEach((a,d)=>{a.forEach(p=>{d.setAttribute(p.name,`url('${t}#${p.value}')`)})})}_cacheChildrenWithExternalReferences(t){const o=t.querySelectorAll(fz),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let d=0;d<o.length;d++)YR.forEach(p=>{const g=o[d],_=g.getAttribute(p),E=_?_.match(pz):null;if(E){let I=a.get(g);I||(I=[],a.set(g,I)),I.push({name:p,value:E[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[o,a]=this._splitIconName(t);o&&(this._svgNamespace=o),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,o).pipe(ns(1)).subscribe(d=>this._setSvgElement(d),d=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${a}! ${d.message}`))})}}static#e=this.\u0275fac=function(o){return new(o||e)(ge(m),ge(D0),Dl("aria-hidden"),ge(dz),ge(Nc),ge(lz,8))};static#t=this.\u0275cmp=xt({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(o,a){2&o&&(ud("data-mat-icon-type",a._usingFontIcon()?"font":"svg")("data-mat-icon-name",a._svgName||a.fontIcon)("data-mat-icon-namespace",a._svgNamespace||a.fontSet)("fontIcon",a._usingFontIcon()?a.fontIcon:null),Ga("mat-icon-inline",a.inline)("mat-icon-no-color","primary"!==a.color&&"accent"!==a.color&&"warn"!==a.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Pc],ngContentSelectors:iz,decls:1,vars:0,template:function(o,a){1&o&&(Cp(),ts(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return e})(),mz=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({imports:[Uc,Uc]})}return e})();function gz(e,i){1&e&&(De(0,"div",9),mi(1,"img",10),Fe())}let vz=(()=>{class e{constructor(t){this.dialog=t,this.selectedImageFile=null,this.auth=new rg,this.firestore=new zv,this.storage=new h4}onPostClick(t){let o=t.value;o.length<=0||(this.selectedImageFile?this.uploadImagePost(o):this.uploadPost(o))}uploadImagePost(t){let o=this.firestore.genDocId();this.storage.upload({uploadName:"upload Image Post",path:["Posts",o,"image"],data:{data:this.selectedImageFile},onComplete:a=>{this.firestore.create({path:["Posts",o],data:{comment:t,creatorid:this.auth.getAuth().currentUser?.uid,imageUrl:a,timestamp:Ya.getFirestoreTimestamp()},onComplete:d=>{this.dialog.close()}})}})}uploadPost(t){this.firestore.create({path:["Posts"],data:{comment:t,creatorid:this.auth.getAuth().currentUser?.uid,timestamp:Ya.getFirestoreTimestamp()},onComplete:o=>{this.dialog.close()}})}onPhotoSelected(t){if(this.selectedImageFile=t.files[0],!this.selectedImageFile)return;let o=new FileReader;o.readAsDataURL(this.selectedImageFile),o.addEventListener("loadend",a=>{let d=o.result?.toString();document.getElementById("post-preview-image").src=d})}static#e=this.\u0275fac=function(o){return new(o||e)(ge(_0))};static#t=this.\u0275cmp=xt({type:e,selectors:[["app-create-post"]],decls:17,vars:1,consts:[["placeholder","Type Your Message...."],["commentInput",""],["id","post-preview",4,"ngIf"],["align","end"],["mat-button","","color","primary"],["for","photo-upload"],["id","photo-upload","type","file","accept","image/*",3,"change"],["photoSelector",""],["mat-raised-button","","color","primary",3,"click"],["id","post-preview"],["id","post-preview-image"]],template:function(o,a){if(1&o){const d=qh();De(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),qe(3,"Create Post"),Fe()(),De(4,"div"),mi(5,"textarea",0,1),Fe(),ra(7,gz,2,0,"div",2),De(8,"mat-card-actions",3)(9,"button",4)(10,"label",5)(11,"input",6,7),pn("change",function(){Tn(d);const g=Lc(12);return ps(a.onPhotoSelected(g))}),Fe(),De(13,"mat-icon"),qe(14,"insert_photo"),Fe()()(),De(15,"button",8),pn("click",function(){Tn(d);const g=Lc(6);return ps(a.onPostClick(g))}),qe(16,"Post"),Fe()()()}2&o&&(Pr(7),ro("ngIf",a.selectedImageFile))},dependencies:[Eb,jC,p0,g0,v0,m0,$v],styles:["mat-card[_ngcontent-%COMP%]{border:2px solid #010f18;padding:20px;box-shadow:0 4px 8px #000000e6;background:linear-gradient(to right,#bbd2e9,rgb(229,236,241));height:500px;width:500px;display:flex;flex-direction:column;justify-content:space-between}mat-card-title[_ngcontent-%COMP%]{font-size:2em;font-weight:700;color:#042838;margin-bottom:.5em;font-family:Franklin Gothic Medium,Arial Narrow,Arial,sans-serif}.textarea-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}textarea[_ngcontent-%COMP%]{font-size:1em;padding:1em;resize:none;width:100%;max-width:500px;min-height:150px;border:none;outline:none;margin-bottom:1em;background-color:#f1f8fd;border-radius:10px;box-shadow:0 2px 4px #000000b3}#photo-upload[_ngcontent-%COMP%]{display:none}#post-preview[_ngcontent-%COMP%]{text-align:center;margin-top:1em}#post-preview-image[_ngcontent-%COMP%]{object-fit:cover;object-position:center;width:100%;max-width:150px;height:100px;border-radius:1em;border:1px dashed rgb(4,4,49);margin-top:1em}label[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;gap:8px}button[color=primary][_ngcontent-%COMP%]{background-color:#048a3c;color:#fff;margin-top:1em;width:50px;border-radius:5px}button[mat-button][_ngcontent-%COMP%]{background-color:#083b5e;color:#fff;width:50px;align-self:flex-end;margin-top:1em}"]})}return e})(),yz=(()=>{class e{constructor(t,o){this.dialogRef=t,this.router=o,this.auth=new rg}onNoClick(){this.dialogRef.close(!1)}onYesClick(){this.dialogRef.close(!0),this.auth.signOut(),this.router.navigate(["/"])}static#e=this.\u0275fac=function(o){return new(o||e)(ge(_0),ge(Fo))};static#t=this.\u0275cmp=xt({type:e,selectors:[["app-exitconfirm"]],decls:10,vars:0,consts:[[1,"dialog-container"],["mat-dialog-title","",1,"head"],["mat-dialog-content","",1,"content"],["mat-dialog-actions","",1,"buttons"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(o,a){1&o&&(De(0,"div",0)(1,"h2",1),qe(2,"Exit Confirmation"),Fe(),De(3,"div",2),qe(4,"Are you sure you want to exit?"),Fe(),De(5,"div",3)(6,"button",4),pn("click",function(){return a.onYesClick()}),qe(7,"Yes"),Fe(),De(8,"button",5),pn("click",function(){return a.onNoClick()}),qe(9,"No"),Fe()()())},dependencies:[jC,I4,S4,T4],styles:[".dialog-container[_ngcontent-%COMP%]{background:linear-gradient(to right,rgb(122,196,245),#d7e2eb);box-shadow:0 4px 8px #00000080;padding:20px;height:250px;width:400px;display:flex;flex-direction:column;justify-content:space-between}.head[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;margin-bottom:10px}.content[_ngcontent-%COMP%]{font-size:1.2em;color:#070741}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;padding:10px;cursor:pointer;transition:background-color .3s ease}"]})}return e})();function _z(e,i){1&e&&mi(0,"app-post",4),2&e&&ro("postData",i.$implicit)}let ZR=(()=>{class e{constructor(t,o){this.dialog=t,this.router=o,this.firestore=new zv,this.posts=[],this.auth=new rg}ngOnInit(){this.getPosts()}onCreatePostClick(){this.dialog.open(vz)}onExitConfirmclick(){this.dialog.open(yz)}getPosts(){this.firestore.getCollection({path:["Posts"],where:[new DR("timestamp","desc"),new d4(15)],onComplete:t=>{t.docs.forEach(o=>{let a=o.data();a.postId=o.id,this.posts.push(a)})},onFail:t=>{}})}static#e=this.\u0275fac=function(o){return new(o||e)(ge(y_),ge(Fo))};static#t=this.\u0275cmp=xt({type:e,selectors:[["app-post-feed"]],decls:11,vars:1,consts:[["id","post-feed"],[3,"postData",4,"ngFor","ngForOf"],["mat-fab","","color","primary","id","post-button",3,"click"],["mat-fab","","color","primary","id","exit-button",3,"click"],[3,"postData"]],template:function(o,a){1&o&&(mi(0,"app-navbar")(1,"app-sidebar"),De(2,"div",0),ra(3,_z,1,1,"app-post",1),Fe(),De(4,"button",2),pn("click",function(){return a.onCreatePostClick()}),De(5,"mat-icon"),qe(6,"add"),Fe()(),De(7,"button",3),pn("click",function(){return a.onExitConfirmclick()}),qe(8,"> "),De(9,"mat-icon"),qe(10,"exit_to_app"),Fe()()),2&o&&(Pr(3),ro("ngForOf",a.posts))},styles:["#post-button[_ngcontent-%COMP%]{position:fixed;bottom:7em;right:2em}#exit-button[_ngcontent-%COMP%]{position:fixed;bottom:2em;right:2em}#post-feed[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;width:700px;margin:5em auto 2em;padding:20px;background-color:#ddeff5;border-radius:20px;box-shadow:0 8px 16px #0000004d}.app-post-container[_ngcontent-%COMP%]{flex:1;min-width:0;background-color:#e0e0e0;border-radius:20px;overflow:hidden;box-shadow:0 4px 8px #0000004d}.app-post-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-bottom-left-radius:20px;border-bottom-right-radius:20px}"]})}return e})(),XR=(()=>{class e{constructor(){this.darkMode=!1,this.currentUser={}}ngOnInit(){}toggleDarkMode(){this.darkMode=!this.darkMode}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=xt({type:e,selectors:[["app-navbar"]],decls:17,vars:0,consts:[[1,"navbar"],[1,"left"],[1,"search"],["type","text","placeholder","Search.."],[1,"right"]],template:function(o,a){1&o&&(De(0,"div",0)(1,"div",1)(2,"mat-icon"),qe(3,"home_outlined"),Fe(),De(4,"mat-icon"),qe(5,"grid_view_outlined"),Fe(),De(6,"div",2)(7,"mat-icon"),qe(8,"search_outlined"),Fe(),mi(9,"input",3),Fe()(),De(10,"div",4)(11,"mat-icon"),qe(12,"person_outlined"),Fe(),De(13,"mat-icon"),qe(14,"email_outlined"),Fe(),De(15,"mat-icon"),qe(16,"notifications_outlined"),Fe()()())},dependencies:[$v],styles:[".navbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-evenly;padding:10px;height:90px;width:100%;box-shadow:0 0 10px #000000e6;position:fixed;top:0;z-index:1;background:linear-gradient(135deg,rgb(1,1,27),rgb(129,168,219));color:#fff}.navbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.navbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:20px;color:#fff}.navbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;border-radius:10px;padding:10px;box-shadow:0 0 10px #0000004d;flex-grow:1;background-color:#fff3}.navbar[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;width:120px;background-color:transparent;color:#fff;border-radius:10px}.navbar[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}"]})}return e})();const bz=function(e,i){return{active:e,idle:i}};let wz=(()=>{class e{constructor(){this.firestore=new zv,this.auth=new rg}ngOnInit(){}onContinueClick(t,o){let a=t.value,d=o.value;this.firestore.create({path:["Users",this.auth.getAuth()?.currentUser?.uid||"default-value"],data:{publicName:a,description:d},onComplete:p=>{alert("Profile Created"),t.value="",o.value=""},onFail:p=>{}})}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275cmp=xt({type:e,selectors:[["app-profile"]],inputs:{show:"show"},decls:8,vars:4,consts:[["id","profile",3,"ngClass"],["id","profile-content"],["placeholder","Name"],["nameInput",""],["placeholder","Description"],["descriptionInput",""],["type","button",1,"btn","btn-warning",3,"click"]],template:function(o,a){if(1&o){const d=qh();De(0,"div",0)(1,"div",1),mi(2,"input",2,3)(4,"textarea",4,5),De(6,"button",6),pn("click",function(){Tn(d);const g=Lc(3),_=Lc(5);return ps(a.onContinueClick(g,_))}),qe(7,"Continue"),Fe()()()}2&o&&ro("ngClass",ZS(1,bz,a.show,!a.show))},dependencies:[DE],styles:["#profile[_ngcontent-%COMP%]{position:fixed;top:0;right:0;height:100vh;background-color:#000000e6;z-index:9;transition:width .6s;overflow:hidden;display:flex;justify-content:center;align-items:center}.active[_ngcontent-%COMP%]{width:100vw}.idle[_ngcontent-%COMP%]{width:0;overflow:hidden;transition:width .5s,opacity .5s;opacity:0}#profile-content[_ngcontent-%COMP%]{width:100%;max-width:500px;padding:2em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;background:linear-gradient(135deg,rgb(238,200,130),white);border-radius:15px;box-shadow:0 0 10px #00000080;display:flex;flex-direction:column;align-items:center}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:1em;border-radius:15px;margin-bottom:.5em;resize:none;outline:none;border:1px solid rgb(148,144,144);box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#e41414;box-shadow:0 0 5px #4b020280}button[_ngcontent-%COMP%]{padding:1em 2em;border-radius:15px;background-color:#e4740c;color:#f5eeee;border:none;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#eb5a17}"]})}return e})();function Ez(e,i){1&e&&(De(0,"div",10),qe(1," Welcome to SocioSync! "),Fe())}function Cz(e,i){if(1&e){const t=qh();De(0,"div",11),pn("click",function(){return Tn(t),ps(Ep().onLoginClick())}),qe(1,"Login"),Fe()}}function Dz(e,i){if(1&e&&(De(0,"div",12),qe(1),Fe()),2&e){const t=Ep();Pr(1),Ry("Hi, ",t.getUsername(),"")}}function Iz(e,i){if(1&e){const t=qh();De(0,"div",11),pn("click",function(){return Tn(t),ps(Ep().onLogoutClick())}),qe(1,"Logout"),Fe()}}let S0=(()=>{class e{constructor(t,o){this.loginsheet=t,this.router=o,this.title="SocioSync",this.auth=new rg,this.isLoggedIn=!1,this.showWelcomeMessage=!1,this.firestore=new zv,this.userHasProfile=!0,this.auth.listenToSignInStateChanges(a=>{this.auth.checkSignInState({whenSignedIn:d=>{this.isLoggedIn=!0},whenSignedOut:d=>{e.userDocument=void 0},whenSignedInAndEmailNotVerified:d=>{this.router.navigate(["emailVerification"])},whenSignedInAndEmailVerified:d=>{this.getUserProfile()},whenChanged:d=>{}})})}static getUserDocument(){return e.userDocument}getUsername(){try{return e.userDocument?.publicName}catch(t){return console.error("Error occurred while accessing publicName:",t),null}}getUserProfile(){this.firestore.listenToDocument({name:"Getting Document",path:["Users",this.auth.getAuth()?.currentUser?.uid||"default-value"],onUpdate:t=>{e.userDocument=t.data(),this.userHasProfile=t.exists,e.userDocument.userId=this.auth.getAuth().currentUser.uid,this.userHasProfile&&this.router.navigate(["postfeed"])}})}onLogoutClick(){this.auth.signOut(),this.router.navigate(["/"])}loggedIn(){return this.auth.isSignedIn()}onLoginClick(){this.loginsheet.open(yR)}showWelcome(){this.showWelcomeMessage=!0}hideWelcome(){this.showWelcomeMessage=!1}static#e=this.\u0275fac=function(o){return new(o||e)(ge(pR),ge(Fo))};static#t=this.\u0275cmp=xt({type:e,selectors:[["app-root"]],decls:13,vars:5,consts:[["id","nav-bar"],["id","nav-bar-content"],["id","nav-bar-left"],[1,"nav-bar-items","glow-effect",3,"mouseover","mouseleave","click"],["src","assets/ICON1.png","alt","Icon",1,"icon"],["class","welcome-message",4,"ngIf"],["id","nav-bar-right"],["class","nav-bar-items",3,"click",4,"ngIf"],["class","nav-bar-items",4,"ngIf"],[3,"show"],[1,"welcome-message"],[1,"nav-bar-items",3,"click"],[1,"nav-bar-items"]],template:function(o,a){1&o&&(De(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),pn("mouseover",function(){return a.showWelcome()})("mouseleave",function(){return a.hideWelcome()})("click",function(){return a.showWelcome()}),mi(4,"img",4),qe(5,"SocioSync "),ra(6,Ez,2,0,"div",5),Fe()(),De(7,"div",6),ra(8,Cz,2,0,"div",7),ra(9,Dz,2,1,"div",8),ra(10,Iz,2,0,"div",7),Fe()()(),mi(11,"router-outlet")(12,"app-profile",9)),2&o&&(Pr(6),ro("ngIf",a.showWelcomeMessage),Pr(2),ro("ngIf",!a.loggedIn()),Pr(1),ro("ngIf",a.loggedIn()&&a.userHasProfile),Pr(1),ro("ngIf",a.loggedIn()),Pr(2),ro("show",a.loggedIn()&&!a.userHasProfile))},dependencies:[Eb,rC,wz],styles:["#nav-bar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:5em;z-index:5}#nav-bar-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;height:100%}#nav-bar-left[_ngcontent-%COMP%], #nav-bar-right[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;padding:0 1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;color:#fff}@keyframes _ngcontent-%COMP%_glow{0%{text-shadow:0 0 5px #8bb0da}50%{text-shadow:0 0 20px #b5c4d6,0 0 30px #89b9f0}to{text-shadow:0 0 5px #a9c8ec}}.glow-effect[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glow 3s infinite;color:#e0eaf7}#nav-bar-left[_ngcontent-%COMP%]{justify-content:flex-start;font-size:2.5em;display:flex;align-items:center}.icon[_ngcontent-%COMP%]{width:60px;height:60px;margin-right:2px;animation:_ngcontent-%COMP%_glow 3s infinite;vertical-align:top}#nav-bar-right[_ngcontent-%COMP%]{justify-content:flex-end;font-size:1.6em}.nav-bar-items[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;font-family:Gill Sans,Gill Sans MT,Calibri,Trebuchet MS,sans-serif;margin-right:1em}.welcome-message[_ngcontent-%COMP%]{display:none;position:absolute;top:15px;left:50%;transform:translate(-50%);font-size:.8em;color:#f5f5f5;background-color:#ffffff1a;padding:8px;border-radius:15px;box-shadow:0 0 10px #000000b3}.glow-effect[_ngcontent-%COMP%]:hover   .welcome-message[_ngcontent-%COMP%]{display:block}"]})}return e})();const Sz=function(e){return{"comment-container":!0,"creator-comment-container":e}},Tz=function(e){return{comment:!0,"creator-comment":e}};function xz(e,i){if(1&e&&(De(0,"div",6)(1,"div")(2,"p",7),qe(3),Fe(),De(4,"p",6),qe(5),Fe()()()),2&e){const t=i.$implicit,o=Ep();ro("ngClass",Nw(4,Sz,o.isCommentCreator(t))),Pr(3),Ip(null==t?null:t.creatorName),Pr(1),ro("ngClass",Nw(6,Tz,o.isCommentCreator(t))),Pr(1),Ip(null==t?null:t.comment)}}let QR=(()=>{class e{constructor(t){this.postId=t,this.firestore=new zv,this.comments=[]}ngOnInit(){this.getComments()}isCommentCreator(t){try{return t.creatorId==S0.getUserDocument()?.userId}catch{return null}}getComments(){this.firestore.listenToCollection({name:"Post Comments",path:["Posts",this.postId,"PostComments"],where:[new DR("timestamp","asc")],onUpdate:t=>{t.docChanges().forEach(o=>{"added"==o.type&&this.comments.unshift(o.doc.data())})}})}onSendClick(t){t.value.length>0&&this.firestore.create({path:["Posts",this.postId,"PostComments"],data:{comment:t.value,creatorId:S0.getUserDocument()?.userId,creatorName:S0.getUserDocument()?.publicName,timestamp:Ya.getFirestoreTimestamp()},onComplete:o=>{t.value=""}})}static#e=this.\u0275fac=function(o){return new(o||e)(ge(AR))};static#t=this.\u0275cmp=xt({type:e,selectors:[["app-reply"]],decls:10,vars:1,consts:[["id","reply-box"],[3,"ngClass",4,"ngFor","ngForOf"],["id","reply-action-bar"],["mat-fab-button","",3,"click"],["placeholder","Comment...."],["commentInput",""],[3,"ngClass"],[1,"comment-name"]],template:function(o,a){if(1&o){const d=qh();De(0,"p"),qe(1,"Reply..."),Fe(),De(2,"div",0),ra(3,xz,6,8,"div",1),Fe(),De(4,"div",2)(5,"button",3),pn("click",function(){Tn(d);const g=Lc(9);return ps(a.onSendClick(g))}),De(6,"mat-icon"),qe(7,"send"),Fe()(),mi(8,"input",4,5),Fe()}2&o&&(Pr(3),ro("ngForOf",a.comments))},dependencies:[DE,IE,$v],styles:["p[_ngcontent-%COMP%]{text-align:center;font-size:1em;font-weight:700}#reply-box[_ngcontent-%COMP%]{width:100%;height:300px;overflow:auto;min-width:400px;max-width:600px;border-radius:20px;padding:0 1em;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}#reply-action-bar[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:3em 1fr;margin-top:1em;direction:rtl;border-radius:5px}#reply-action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#100852;color:#edecf3;border-radius:5px}.mat-icon[_ngcontent-%COMP%]{display:flex;align-items:center}#reply-action-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1em 2em 1em 1em;border:1px solid gray;outline:none;width:100%;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;direction:ltr;border-radius:5px}.comment-container[_ngcontent-%COMP%]{display:flex}.comment-name[_ngcontent-%COMP%]{font-size:1em}.comment[_ngcontent-%COMP%]{border-radius:1em;background-color:#dcdcdc;padding:1em}.creator-comment-container[_ngcontent-%COMP%]{justify-content:flex-end;text-align:end}.creator-comment[_ngcontent-%COMP%]{background-color:#355ca5;color:#fff}"]})}return e})(),JR=(()=>{class e{constructor(t,o){this.router=t,this.dialog=o}navigateToHome(){this.router.navigate([])}navigateToExplore(){this.router.navigate([])}navigateToNotifications(){this.router.navigate([])}navigateToMessages(){this.onReplyClick()}navigateToBookmarks(){this.router.navigate([])}navigateToAnalytics(){this.router.navigate([])}navigateToThemes(){this.router.navigate([])}navigateToFriends(){this.router.navigate([])}navigateToGroups(){this.router.navigate([])}navigateToMarketplace(){this.router.navigate([])}navigateToWatch(){window.location.href="https://firebasestorage.googleapis.com/v0/b/pychosync.appspot.com/o/share.mp4?alt=media&token=883319f1-9a94-4380-b8cf-ceb6d3dd711e"}navigateToSettings(){this.router.navigate([])}onReplyClick(){this.dialog.open(QR,{data:this.postData?.postId})}static#e=this.\u0275fac=function(o){return new(o||e)(ge(Fo),ge(y_))};static#t=this.\u0275cmp=xt({type:e,selectors:[["app-sidebar"]],inputs:{postData:"postData"},decls:61,vars:0,consts:[[1,"sidebar"],["routerLink","/home","routerLinkActive","active",1,"menu-item",3,"click"],[1,"menu-item",3,"click"],["id","notifications",1,"menu-item",3,"click"],["id","messages-notifications",1,"menu-item",3,"click"]],template:function(o,a){1&o&&(De(0,"div",0)(1,"a",1),pn("click",function(){return a.navigateToHome()}),De(2,"mat-icon"),qe(3,"home"),Fe(),De(4,"h3"),qe(5,"Home"),Fe()(),De(6,"a",2),pn("click",function(){return a.navigateToExplore()}),De(7,"mat-icon"),qe(8,"explore"),Fe(),De(9,"h3"),qe(10,"Explore"),Fe()(),De(11,"a",3),pn("click",function(){return a.navigateToNotifications()}),De(12,"mat-icon"),qe(13,"notifications"),Fe(),De(14,"h3"),qe(15,"Notifications"),Fe()(),De(16,"a",4),pn("click",function(){return a.navigateToMessages()}),De(17,"mat-icon"),qe(18,"mail"),Fe(),De(19,"h3"),qe(20,"Message"),Fe()(),De(21,"a",2),pn("click",function(){return a.navigateToBookmarks()}),De(22,"mat-icon"),qe(23,"bookmark"),Fe(),De(24,"h3"),qe(25,"Bookmarks"),Fe()(),De(26,"a",2),pn("click",function(){return a.navigateToAnalytics()}),De(27,"mat-icon"),qe(28,"show_chart"),Fe(),De(29,"h3"),qe(30,"Analytics"),Fe()(),De(31,"a",2),pn("click",function(){return a.navigateToThemes()}),De(32,"mat-icon"),qe(33,"palette"),Fe(),De(34,"h3"),qe(35,"Themes"),Fe()(),De(36,"a",2),pn("click",function(){return a.navigateToFriends()}),De(37,"mat-icon"),qe(38,"supervised_user_circle"),Fe(),De(39,"h3"),qe(40,"Friends"),Fe()(),De(41,"a",2),pn("click",function(){return a.navigateToGroups()}),De(42,"mat-icon"),qe(43,"group"),Fe(),De(44,"h3"),qe(45,"Groups"),Fe()(),De(46,"a",2),pn("click",function(){return a.navigateToMarketplace()}),De(47,"mat-icon"),qe(48,"shopping_cart"),Fe(),De(49,"h3"),qe(50," Marketplace"),Fe()(),De(51,"a",2),pn("click",function(){return a.navigateToWatch()}),De(52,"mat-icon"),qe(53,"ondemand_video"),Fe(),De(54,"h3"),qe(55,"Watch"),Fe()(),De(56,"a",2),pn("click",function(){return a.navigateToSettings()}),De(57,"mat-icon"),qe(58,"settings"),Fe(),De(59,"h3"),qe(60,"Settings"),Fe()()())},dependencies:[Zb,iM,$v],styles:[".sidebar[_ngcontent-%COMP%]{height:67%;margin-top:3em;width:250px;position:fixed;left:.5em;background:linear-gradient(135deg,rgb(1,1,19),rgb(116,162,223));box-shadow:0 0 10px #000;padding-top:20px;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;border-radius:10px}.menu-item[_ngcontent-%COMP%]{text-decoration:none;color:#f8f6f6;display:flex;align-items:center;padding:15px;transition:background-color .3s}.menu-item[_ngcontent-%COMP%]:hover{background-color:#d9e3f0;border-radius:5px;color:#00000e;width:250px;cursor:pointer}.menu-item.active[_ngcontent-%COMP%]{background-color:#b4d4db;border-radius:5px;color:#01010c;width:250px}mat-icon[_ngcontent-%COMP%]{margin-right:10px}h3[_ngcontent-%COMP%]{margin:0}"]})}return e})();const Az=[{path:"",component:CR},{path:"emailVerification",component:l4},{path:"postfeed",component:ZR},{path:"navbar",component:XR},{path:"sidebar",component:JR},{path:"**",component:CR}];let Mz=(()=>{class e{static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({imports:[hM.forRoot(Az),hM]})}return e})();function e1(e){return new pe(3e3,!1)}function jp(e){switch(e.length){case 0:return new v_;case 1:return e[0];default:return new hR(e)}}function t1(e,i,t=new Map,o=new Map){const a=[],d=[];let p=-1,g=null;if(i.forEach(_=>{const E=_.get("offset"),I=E==p,R=I&&g||new Map;_.forEach((F,j)=>{let H=j,W=F;if("offset"!==j)switch(H=e.normalizePropertyName(H,a),W){case"!":W=t.get(j);break;case Xh:W=o.get(j);break;default:W=e.normalizeStyleValue(j,H,W,a)}R.set(H,W)}),I||d.push(R),g=R,p=E}),a.length)throw function Jz(e){return new pe(3502,!1)}();return d}function GC(e,i,t,o){switch(i){case"start":e.onStart(()=>o(t&&WC(t,"start",e)));break;case"done":e.onDone(()=>o(t&&WC(t,"done",e)));break;case"destroy":e.onDestroy(()=>o(t&&WC(t,"destroy",e)))}}function WC(e,i,t){const d=KC(e.element,e.triggerName,e.fromState,e.toState,i||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),p=e._data;return null!=p&&(d._data=p),d}function KC(e,i,t,o,a="",d=0,p){return{element:e,triggerName:i,fromState:t,toState:o,phaseName:a,totalTime:d,disabled:!!p}}function Za(e,i,t){let o=e.get(i);return o||e.set(i,o=t),o}function n1(e){const i=e.indexOf(":");return[e.substring(1,i),e.slice(i+1)]}const h5=(()=>typeof document>"u"?null:document.documentElement)();function YC(e){const i=e.parentNode||e.host||null;return i===h5?null:i}let lg=null,r1=!1;function o1(e,i){for(;i;){if(i===e)return!0;i=YC(i)}return!1}function s1(e,i,t){if(t)return Array.from(e.querySelectorAll(i));const o=e.querySelector(i);return o?[o]:[]}let a1=(()=>{class e{validateStyleProperty(t){return function p5(e){lg||(lg=function m5(){return typeof document<"u"?document.body:null}()||{},r1=!!lg.style&&"WebkitAppearance"in lg.style);let i=!0;return lg.style&&!function f5(e){return"ebkit"==e.substring(1,6)}(e)&&(i=e in lg.style,!i&&r1&&(i="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in lg.style)),i}(t)}matchesElement(t,o){return!1}containsElement(t,o){return o1(t,o)}getParentElement(t){return YC(t)}query(t,o,a){return s1(t,o,a)}computeStyle(t,o,a){return a||""}animate(t,o,a,d,p,g=[],_){return new v_(a,d)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})(),ZC=(()=>{class e{static#e=this.NOOP=new a1}return e})();const g5=1e3,XC="ng-enter",T0="ng-leave",x0="ng-trigger",A0=".ng-trigger",u1="ng-animating",QC=".ng-animating";function Jh(e){if("number"==typeof e)return e;const i=e.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:JC(parseFloat(i[1]),i[2])}function JC(e,i){return"s"===i?e*g5:e}function M0(e,i,t){return e.hasOwnProperty("duration")?e:function y5(e,i,t){let a,d=0,p="";if("string"==typeof e){const g=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return i.push(e1()),{duration:0,delay:0,easing:""};a=JC(parseFloat(g[1]),g[2]);const _=g[3];null!=_&&(d=JC(parseFloat(_),g[4]));const E=g[5];E&&(p=E)}else a=e;if(!t){let g=!1,_=i.length;a<0&&(i.push(function Rz(){return new pe(3100,!1)}()),g=!0),d<0&&(i.push(function kz(){return new pe(3101,!1)}()),g=!0),g&&i.splice(_,0,e1())}return{duration:a,delay:d,easing:p}}(e,i,t)}function E_(e,i={}){return Object.keys(e).forEach(t=>{i[t]=e[t]}),i}function l1(e){const i=new Map;return Object.keys(e).forEach(t=>{i.set(t,e[t])}),i}function Bp(e,i=new Map,t){if(t)for(let[o,a]of t)i.set(o,a);for(let[o,a]of e)i.set(o,a);return i}function gd(e,i,t){i.forEach((o,a)=>{const d=tD(a);t&&!t.has(a)&&t.set(a,e.style[d]),e.style[d]=o})}function dg(e,i){i.forEach((t,o)=>{const a=tD(o);e.style[a]=""})}function C_(e){return Array.isArray(e)?1==e.length?e[0]:dR(e):e}const eD=new RegExp("{{\\s*(.+?)\\s*}}","g");function h1(e){let i=[];if("string"==typeof e){let t;for(;t=eD.exec(e);)i.push(t[1]);eD.lastIndex=0}return i}function D_(e,i,t){const o=e.toString(),a=o.replace(eD,(d,p)=>{let g=i[p];return null==g&&(t.push(function Nz(e){return new pe(3003,!1)}()),g=""),g.toString()});return a==o?e:a}function R0(e){const i=[];let t=e.next();for(;!t.done;)i.push(t.value),t=e.next();return i}const w5=/-+([a-z0-9])/g;function tD(e){return e.replace(w5,(...i)=>i[1].toUpperCase())}function Xa(e,i,t){switch(i.type){case 7:return e.visitTrigger(i,t);case 0:return e.visitState(i,t);case 1:return e.visitTransition(i,t);case 2:return e.visitSequence(i,t);case 3:return e.visitGroup(i,t);case 4:return e.visitAnimate(i,t);case 5:return e.visitKeyframes(i,t);case 6:return e.visitStyle(i,t);case 8:return e.visitReference(i,t);case 9:return e.visitAnimateChild(i,t);case 10:return e.visitAnimateRef(i,t);case 11:return e.visitQuery(i,t);case 12:return e.visitStagger(i,t);default:throw function Pz(e){return new pe(3004,!1)}()}}function f1(e,i){return window.getComputedStyle(e)[i]}const k0="*";function D5(e,i){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(o=>function I5(e,i,t){if(":"==e[0]){const _=function S5(e,i){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return i.push(function Yz(e){return new pe(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof _)return void i.push(_);e=_}const o=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(function Kz(e){return new pe(3015,!1)}()),i;const a=o[1],d=o[2],p=o[3];i.push(p1(a,p));"<"==d[0]&&!(a==k0&&p==k0)&&i.push(p1(p,a))}(o,t,i)):t.push(e),t}const O0=new Set(["true","1"]),N0=new Set(["false","0"]);function p1(e,i){const t=O0.has(e)||N0.has(e),o=O0.has(i)||N0.has(i);return(a,d)=>{let p=e==k0||e==a,g=i==k0||i==d;return!p&&t&&"boolean"==typeof a&&(p=a?O0.has(e):N0.has(e)),!g&&o&&"boolean"==typeof d&&(g=d?O0.has(i):N0.has(i)),p&&g}}const T5=new RegExp("s*:selfs*,?","g");function nD(e,i,t,o){return new x5(e).build(i,t,o)}class x5{constructor(i){this._driver=i}build(i,t,o){const a=new R5(t);return this._resetContextStyleTimingState(a),Xa(this,C_(i),a)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles=new Map,i.collectedStyles.set("",new Map),i.currentTime=0}visitTrigger(i,t){let o=t.queryCount=0,a=t.depCount=0;const d=[],p=[];return"@"==i.name.charAt(0)&&t.errors.push(function Lz(){return new pe(3006,!1)}()),i.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const _=g,E=_.name;E.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,d.push(this.visitState(_,t))}),_.name=E}else if(1==g.type){const _=this.visitTransition(g,t);o+=_.queryCount,a+=_.depCount,p.push(_)}else t.errors.push(function jz(){return new pe(3007,!1)}())}),{type:7,name:i.name,states:d,transitions:p,queryCount:o,depCount:a,options:null}}visitState(i,t){const o=this.visitStyle(i.styles,t),a=i.options&&i.options.params||null;if(o.containsDynamicStyles){const d=new Set,p=a||{};o.styles.forEach(g=>{g instanceof Map&&g.forEach(_=>{h1(_).forEach(E=>{p.hasOwnProperty(E)||d.add(E)})})}),d.size&&(R0(d.values()),t.errors.push(function Bz(e,i){return new pe(3008,!1)}()))}return{type:0,name:i.name,style:o,options:a?{params:a}:null}}visitTransition(i,t){t.queryCount=0,t.depCount=0;const o=Xa(this,C_(i.animation),t);return{type:1,matchers:D5(i.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:hg(i.options)}}visitSequence(i,t){return{type:2,steps:i.steps.map(o=>Xa(this,o,t)),options:hg(i.options)}}visitGroup(i,t){const o=t.currentTime;let a=0;const d=i.steps.map(p=>{t.currentTime=o;const g=Xa(this,p,t);return a=Math.max(a,t.currentTime),g});return t.currentTime=a,{type:3,steps:d,options:hg(i.options)}}visitAnimate(i,t){const o=function O5(e,i){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return rD(M0(e,i).duration,0,"");const t=e;if(t.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=rD(0,0,"");return d.dynamic=!0,d.strValue=t,d}const a=M0(t,i);return rD(a.duration,a.delay,a.easing)}(i.timings,t.errors);t.currentAnimateTimings=o;let a,d=i.styles?i.styles:Hc({});if(5==d.type)a=this.visitKeyframes(d,t);else{let p=i.styles,g=!1;if(!p){g=!0;const E={};o.easing&&(E.easing=o.easing),p=Hc(E)}t.currentTime+=o.duration+o.delay;const _=this.visitStyle(p,t);_.isEmptyStep=g,a=_}return t.currentAnimateTimings=null,{type:4,timings:o,style:a,options:null}}visitStyle(i,t){const o=this._makeStyleAst(i,t);return this._validateStyleAst(o,t),o}_makeStyleAst(i,t){const o=[],a=Array.isArray(i.styles)?i.styles:[i.styles];for(let g of a)"string"==typeof g?g===Xh?o.push(g):t.errors.push(new pe(3002,!1)):o.push(l1(g));let d=!1,p=null;return o.forEach(g=>{if(g instanceof Map&&(g.has("easing")&&(p=g.get("easing"),g.delete("easing")),!d))for(let _ of g.values())if(_.toString().indexOf("{{")>=0){d=!0;break}}),{type:6,styles:o,easing:p,offset:i.offset,containsDynamicStyles:d,options:null}}_validateStyleAst(i,t){const o=t.currentAnimateTimings;let a=t.currentTime,d=t.currentTime;o&&d>0&&(d-=o.duration+o.delay),i.styles.forEach(p=>{"string"!=typeof p&&p.forEach((g,_)=>{const E=t.collectedStyles.get(t.currentQuerySelector),I=E.get(_);let R=!0;I&&(d!=a&&d>=I.startTime&&a<=I.endTime&&(t.errors.push(function Uz(e,i,t,o,a){return new pe(3010,!1)}()),R=!1),d=I.startTime),R&&E.set(_,{startTime:d,endTime:a}),t.options&&function b5(e,i,t){const o=i.params||{},a=h1(e);a.length&&a.forEach(d=>{o.hasOwnProperty(d)||t.push(function Oz(e){return new pe(3001,!1)}())})}(g,t.options,t.errors)})})}visitKeyframes(i,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Hz(){return new pe(3011,!1)}()),o;let d=0;const p=[];let g=!1,_=!1,E=0;const I=i.steps.map(we=>{const ae=this._makeStyleAst(we,t);let ze=null!=ae.offset?ae.offset:function k5(e){if("string"==typeof e)return null;let i=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const o=t;i=parseFloat(o.get("offset")),o.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;i=parseFloat(t.get("offset")),t.delete("offset")}return i}(ae.styles),We=0;return null!=ze&&(d++,We=ae.offset=ze),_=_||We<0||We>1,g=g||We<E,E=We,p.push(We),ae});_&&t.errors.push(function zz(){return new pe(3012,!1)}()),g&&t.errors.push(function $z(){return new pe(3200,!1)}());const R=i.steps.length;let F=0;d>0&&d<R?t.errors.push(function qz(){return new pe(3202,!1)}()):0==d&&(F=1/(R-1));const j=R-1,H=t.currentTime,W=t.currentAnimateTimings,he=W.duration;return I.forEach((we,ae)=>{const ze=F>0?ae==j?1:F*ae:p[ae],We=ze*he;t.currentTime=H+W.delay+We,W.duration=We,this._validateStyleAst(we,t),we.offset=ze,o.styles.push(we)}),o}visitReference(i,t){return{type:8,animation:Xa(this,C_(i.animation),t),options:hg(i.options)}}visitAnimateChild(i,t){return t.depCount++,{type:9,options:hg(i.options)}}visitAnimateRef(i,t){return{type:10,animation:this.visitReference(i.animation,t),options:hg(i.options)}}visitQuery(i,t){const o=t.currentQuerySelector,a=i.options||{};t.queryCount++,t.currentQuery=i;const[d,p]=function A5(e){const i=!!e.split(/\s*,\s*/).find(t=>":self"==t);return i&&(e=e.replace(T5,"")),e=e.replace(/@\*/g,A0).replace(/@\w+/g,t=>A0+"-"+t.slice(1)).replace(/:animating/g,QC),[e,i]}(i.selector);t.currentQuerySelector=o.length?o+" "+d:d,Za(t.collectedStyles,t.currentQuerySelector,new Map);const g=Xa(this,C_(i.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:d,limit:a.limit||0,optional:!!a.optional,includeSelf:p,animation:g,originalSelector:i.selector,options:hg(i.options)}}visitStagger(i,t){t.currentQuery||t.errors.push(function Gz(){return new pe(3013,!1)}());const o="full"===i.timings?{duration:0,delay:0,easing:"full"}:M0(i.timings,t.errors,!0);return{type:12,animation:Xa(this,C_(i.animation),t),timings:o,options:null}}}class R5{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hg(e){return e?(e=E_(e)).params&&(e.params=function M5(e){return e?E_(e):null}(e.params)):e={},e}function rD(e,i,t){return{duration:e,delay:i,easing:t}}function iD(e,i,t,o,a,d,p=null,g=!1){return{type:1,element:e,keyframes:i,preStyleProps:t,postStyleProps:o,duration:a,delay:d,totalTime:a+d,easing:p,subTimeline:g}}class P0{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,t){let o=this._map.get(i);o||this._map.set(i,o=[]),o.push(...t)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const F5=new RegExp(":enter","g"),j5=new RegExp(":leave","g");function oD(e,i,t,o,a,d=new Map,p=new Map,g,_,E=[]){return(new B5).buildKeyframes(e,i,t,o,a,d,p,g,_,E)}class B5{buildKeyframes(i,t,o,a,d,p,g,_,E,I=[]){E=E||new P0;const R=new sD(i,t,E,a,d,I,[]);R.options=_;const F=_.delay?Jh(_.delay):0;R.currentTimeline.delayNextStep(F),R.currentTimeline.setStyles([p],null,R.errors,_),Xa(this,o,R);const j=R.timelines.filter(H=>H.containsAnimation());if(j.length&&g.size){let H;for(let W=j.length-1;W>=0;W--){const he=j[W];if(he.element===t){H=he;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([g],null,R.errors,_)}return j.length?j.map(H=>H.buildKeyframes()):[iD(t,[],[],[],0,F,"",!1)]}visitTrigger(i,t){}visitState(i,t){}visitTransition(i,t){}visitAnimateChild(i,t){const o=t.subInstructions.get(t.element);if(o){const a=t.createSubContext(i.options),d=t.currentTimeline.currentTime,p=this._visitSubInstructions(o,a,a.options);d!=p&&t.transformIntoNewTimeline(p)}t.previousNode=i}visitAnimateRef(i,t){const o=t.createSubContext(i.options);o.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],t,o),this.visitReference(i.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=i}_applyAnimationRefDelays(i,t,o){for(const a of i){const d=a?.delay;if(d){const p="number"==typeof d?d:Jh(D_(d,a?.params??{},t.errors));o.delayNextStep(p)}}}_visitSubInstructions(i,t,o){let d=t.currentTimeline.currentTime;const p=null!=o.duration?Jh(o.duration):null,g=null!=o.delay?Jh(o.delay):null;return 0!==p&&i.forEach(_=>{const E=t.appendInstructionToTimeline(_,p,g);d=Math.max(d,E.duration+E.delay)}),d}visitReference(i,t){t.updateOptions(i.options,!0),Xa(this,i.animation,t),t.previousNode=i}visitSequence(i,t){const o=t.subContextCount;let a=t;const d=i.options;if(d&&(d.params||d.delay)&&(a=t.createSubContext(d),a.transformIntoNewTimeline(),null!=d.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=F0);const p=Jh(d.delay);a.delayNextStep(p)}i.steps.length&&(i.steps.forEach(p=>Xa(this,p,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>o&&a.transformIntoNewTimeline()),t.previousNode=i}visitGroup(i,t){const o=[];let a=t.currentTimeline.currentTime;const d=i.options&&i.options.delay?Jh(i.options.delay):0;i.steps.forEach(p=>{const g=t.createSubContext(i.options);d&&g.delayNextStep(d),Xa(this,p,g),a=Math.max(a,g.currentTimeline.currentTime),o.push(g.currentTimeline)}),o.forEach(p=>t.currentTimeline.mergeTimelineCollectedStyles(p)),t.transformIntoNewTimeline(a),t.previousNode=i}_visitTiming(i,t){if(i.dynamic){const o=i.strValue;return M0(t.params?D_(o,t.params,t.errors):o,t.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,t){const o=t.currentAnimateTimings=this._visitTiming(i.timings,t),a=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),a.snapshotCurrentStyles());const d=i.style;5==d.type?this.visitKeyframes(d,t):(t.incrementTime(o.duration),this.visitStyle(d,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=i}visitStyle(i,t){const o=t.currentTimeline,a=t.currentAnimateTimings;!a&&o.hasCurrentStyleProperties()&&o.forwardFrame();const d=a&&a.easing||i.easing;i.isEmptyStep?o.applyEmptyStep(d):o.setStyles(i.styles,d,t.errors,t.options),t.previousNode=i}visitKeyframes(i,t){const o=t.currentAnimateTimings,a=t.currentTimeline.duration,d=o.duration,g=t.createSubContext().currentTimeline;g.easing=o.easing,i.styles.forEach(_=>{g.forwardTime((_.offset||0)*d),g.setStyles(_.styles,_.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(a+d),t.previousNode=i}visitQuery(i,t){const o=t.currentTimeline.currentTime,a=i.options||{},d=a.delay?Jh(a.delay):0;d&&(6===t.previousNode.type||0==o&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=F0);let p=o;const g=t.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=g.length;let _=null;g.forEach((E,I)=>{t.currentQueryIndex=I;const R=t.createSubContext(i.options,E);d&&R.delayNextStep(d),E===t.element&&(_=R.currentTimeline),Xa(this,i.animation,R),R.currentTimeline.applyStylesToKeyframe(),p=Math.max(p,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(p),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=i}visitStagger(i,t){const o=t.parentContext,a=t.currentTimeline,d=i.timings,p=Math.abs(d.duration),g=p*(t.currentQueryTotal-1);let _=p*t.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":_=g-_;break;case"full":_=o.currentStaggerTime}const I=t.currentTimeline;_&&I.delayNextStep(_);const R=I.currentTime;Xa(this,i.animation,t),t.previousNode=i,o.currentStaggerTime=a.currentTime-R+(a.startTime-o.currentTimeline.startTime)}}const F0={};class sD{constructor(i,t,o,a,d,p,g,_){this._driver=i,this.element=t,this.subInstructions=o,this._enterClassName=a,this._leaveClassName=d,this.errors=p,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=F0,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new L0(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,t){if(!i)return;const o=i;let a=this.options;null!=o.duration&&(a.duration=Jh(o.duration)),null!=o.delay&&(a.delay=Jh(o.delay));const d=o.params;if(d){let p=a.params;p||(p=this.options.params={}),Object.keys(d).forEach(g=>{(!t||!p.hasOwnProperty(g))&&(p[g]=D_(d[g],p,this.errors))})}}_copyOptions(){const i={};if(this.options){const t=this.options.params;if(t){const o=i.params={};Object.keys(t).forEach(a=>{o[a]=t[a]})}}return i}createSubContext(i=null,t,o){const a=t||this.element,d=new sD(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,o||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(i),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(i){return this.previousNode=F0,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,t,o){const a={duration:t??i.duration,delay:this.currentTimeline.currentTime+(o??0)+i.delay,easing:""},d=new V5(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,a,i.stretchStartingKeyframe);return this.timelines.push(d),a}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,t,o,a,d,p){let g=[];if(a&&g.push(this.element),i.length>0){i=(i=i.replace(F5,"."+this._enterClassName)).replace(j5,"."+this._leaveClassName);let E=this._driver.query(this.element,i,1!=o);0!==o&&(E=o<0?E.slice(E.length+o,E.length):E.slice(0,o)),g.push(...E)}return!d&&0==g.length&&p.push(function Wz(e){return new pe(3014,!1)}()),g}}class L0{constructor(i,t,o,a){this._driver=i,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=a,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+i),t&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,t){return this.applyStylesToKeyframe(),new L0(this._driver,i,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,t){this._localTimelineStyles.set(i,t),this._globalTimelineStyles.set(i,t),this._styleSummary.set(i,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[t,o]of this._globalTimelineStyles)this._backFill.set(t,o||Xh),this._currentKeyframe.set(t,Xh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,t,o,a){t&&this._previousKeyframe.set("easing",t);const d=a&&a.params||{},p=function U5(e,i){const t=new Map;let o;return e.forEach(a=>{if("*"===a){o=o||i.keys();for(let d of o)t.set(d,Xh)}else Bp(a,t)}),t}(i,this._globalTimelineStyles);for(let[g,_]of p){const E=D_(_,d,o);this._pendingStyles.set(g,E),this._localTimelineStyles.has(g)||this._backFill.set(g,this._globalTimelineStyles.get(g)??Xh),this._updateStyle(g,E)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((i,t)=>{this._currentKeyframe.set(t,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,i)}))}snapshotCurrentStyles(){for(let[i,t]of this._localTimelineStyles)this._pendingStyles.set(i,t),this._updateStyle(i,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let t in this._currentKeyframe)i.push(t);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((t,o)=>{const a=this._styleSummary.get(o);(!a||t.time>a.time)&&this._updateStyle(o,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((g,_)=>{const E=Bp(g,new Map,this._backFill);E.forEach((I,R)=>{"!"===I?i.add(R):I===Xh&&t.add(R)}),o||E.set("offset",_/this.duration),a.push(E)});const d=i.size?R0(i.values()):[],p=t.size?R0(t.values()):[];if(o){const g=a[0],_=new Map(g);g.set("offset",0),_.set("offset",1),a=[g,_]}return iD(this.element,a,d,p,this.duration,this.startTime,this.easing,!1)}}class V5 extends L0{constructor(i,t,o,a,d,p,g=!1){super(i,t,p.delay),this.keyframes=o,this.preStyleProps=a,this.postStyleProps=d,this._stretchStartingKeyframe=g,this.timings={duration:p.duration,delay:p.delay,easing:p.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:t,duration:o,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const d=[],p=o+t,g=t/p,_=Bp(i[0]);_.set("offset",0),d.push(_);const E=Bp(i[0]);E.set("offset",v1(g)),d.push(E);const I=i.length-1;for(let R=1;R<=I;R++){let F=Bp(i[R]);const j=F.get("offset");F.set("offset",v1((t+j*o)/p)),d.push(F)}o=p,t=0,a="",i=d}return iD(this.element,i,this.preStyleProps,this.postStyleProps,o,t,a,!0)}}function v1(e,i=3){const t=Math.pow(10,i-1);return Math.round(e*t)/t}class aD{}const H5=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class z5 extends aD{normalizePropertyName(i,t){return tD(i)}normalizeStyleValue(i,t,o,a){let d="";const p=o.toString().trim();if(H5.has(t)&&0!==o&&"0"!==o)if("number"==typeof o)d="px";else{const g=o.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&a.push(function Fz(e,i){return new pe(3005,!1)}())}return p+d}}function y1(e,i,t,o,a,d,p,g,_,E,I,R,F){return{type:0,element:e,triggerName:i,isRemovalTransition:a,fromState:t,fromStyles:d,toState:o,toStyles:p,timelines:g,queriedElements:_,preStyleProps:E,postStyleProps:I,totalTime:R,errors:F}}const cD={};class _1{constructor(i,t,o){this._triggerName=i,this.ast=t,this._stateStyles=o}match(i,t,o,a){return function $5(e,i,t,o,a){return e.some(d=>d(i,t,o,a))}(this.ast.matchers,i,t,o,a)}buildStyles(i,t,o){let a=this._stateStyles.get("*");return void 0!==i&&(a=this._stateStyles.get(i?.toString())||a),a?a.buildStyles(t,o):new Map}build(i,t,o,a,d,p,g,_,E,I){const R=[],F=this.ast.options&&this.ast.options.params||cD,H=this.buildStyles(o,g&&g.params||cD,R),W=_&&_.params||cD,he=this.buildStyles(a,W,R),we=new Set,ae=new Map,ze=new Map,We="void"===a,Ut={params:q5(W,F),delay:this.ast.options?.delay},rr=I?[]:oD(i,t,this.ast.animation,d,p,H,he,Ut,E,R);let Dr=0;if(rr.forEach(Qa=>{Dr=Math.max(Qa.duration+Qa.delay,Dr)}),R.length)return y1(t,this._triggerName,o,a,We,H,he,[],[],ae,ze,Dr,R);rr.forEach(Qa=>{const qu=Qa.element,U0=Za(ae,qu,new Set);Qa.preStyleProps.forEach(fg=>U0.add(fg));const S_=Za(ze,qu,new Set);Qa.postStyleProps.forEach(fg=>S_.add(fg)),qu!==t&&we.add(qu)});const Lo=R0(we.values());return y1(t,this._triggerName,o,a,We,H,he,rr,Lo,ae,ze,Dr)}}function q5(e,i){const t=E_(i);for(const o in e)e.hasOwnProperty(o)&&null!=e[o]&&(t[o]=e[o]);return t}class G5{constructor(i,t,o){this.styles=i,this.defaultParams=t,this.normalizer=o}buildStyles(i,t){const o=new Map,a=E_(this.defaultParams);return Object.keys(i).forEach(d=>{const p=i[d];null!==p&&(a[d]=p)}),this.styles.styles.forEach(d=>{"string"!=typeof d&&d.forEach((p,g)=>{p&&(p=D_(p,a,t));const _=this.normalizer.normalizePropertyName(g,t);p=this.normalizer.normalizeStyleValue(g,_,p,t),o.set(g,p)})}),o}}class K5{constructor(i,t,o){this.name=i,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states=new Map,t.states.forEach(a=>{this.states.set(a.name,new G5(a.style,a.options&&a.options.params||{},o))}),b1(this.states,"true","1"),b1(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new _1(i,a,this.states))}),this.fallbackTransition=function Y5(e,i,t){return new _1(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(p,g)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,t,o,a){return this.transitionFactories.find(p=>p.match(i,t,o,a))||null}matchStyles(i,t,o){return this.fallbackTransition.buildStyles(i,t,o)}}function b1(e,i,t){e.has(i)?e.has(t)||e.set(t,e.get(i)):e.has(t)&&e.set(i,e.get(t))}const Z5=new P0;class X5{constructor(i,t,o){this.bodyNode=i,this._driver=t,this._normalizer=o,this._animations=new Map,this._playersById=new Map,this.players=[]}register(i,t){const o=[],d=nD(this._driver,t,o,[]);if(o.length)throw function e5(e){return new pe(3503,!1)}();this._animations.set(i,d)}_buildPlayer(i,t,o){const a=i.element,d=t1(this._normalizer,i.keyframes,t,o);return this._driver.animate(a,d,i.duration,i.delay,i.easing,[],!0)}create(i,t,o={}){const a=[],d=this._animations.get(i);let p;const g=new Map;if(d?(p=oD(this._driver,t,d,XC,T0,new Map,new Map,o,Z5,a),p.forEach(I=>{const R=Za(g,I.element,new Map);I.postStyleProps.forEach(F=>R.set(F,null))})):(a.push(function t5(){return new pe(3300,!1)}()),p=[]),a.length)throw function n5(e){return new pe(3504,!1)}();g.forEach((I,R)=>{I.forEach((F,j)=>{I.set(j,this._driver.computeStyle(R,j,Xh))})});const E=jp(p.map(I=>{const R=g.get(I.element);return this._buildPlayer(I,new Map,R)}));return this._playersById.set(i,E),E.onDestroy(()=>this.destroy(i)),this.players.push(E),E}destroy(i){const t=this._getPlayer(i);t.destroy(),this._playersById.delete(i);const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(i){const t=this._playersById.get(i);if(!t)throw function r5(e){return new pe(3301,!1)}();return t}listen(i,t,o,a){const d=KC(t,"","","");return GC(this._getPlayer(i),o,d,a),()=>{}}command(i,t,o,a){if("register"==o)return void this.register(i,a[0]);if("create"==o)return void this.create(i,t,a[0]||{});const d=this._getPlayer(i);switch(o){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(i)}}}const w1="ng-animate-queued",uD="ng-animate-disabled",n$=[],E1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},r$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$u="__ng_removed";class lD{get params(){return this.options.params}constructor(i,t=""){this.namespaceId=t;const o=i&&i.hasOwnProperty("value");if(this.value=function a$(e){return e??null}(o?i.value:i),o){const d=E_(i);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){const t=i.params;if(t){const o=this.options.params;Object.keys(t).forEach(a=>{null==o[a]&&(o[a]=t[a])})}}}const I_="void",dD=new lD(I_);class i${constructor(i,t,o){this.id=i,this.hostElement=t,this._engine=o,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,zc(t,this._hostClassName)}listen(i,t,o,a){if(!this._triggers.has(t))throw function o5(e,i){return new pe(3302,!1)}();if(null==o||0==o.length)throw function s5(e){return new pe(3303,!1)}();if(!function c$(e){return"start"==e||"done"==e}(o))throw function a5(e,i){return new pe(3400,!1)}();const d=Za(this._elementListeners,i,[]),p={name:t,phase:o,callback:a};d.push(p);const g=Za(this._engine.statesByElement,i,new Map);return g.has(t)||(zc(i,x0),zc(i,x0+"-"+t),g.set(t,dD)),()=>{this._engine.afterFlush(()=>{const _=d.indexOf(p);_>=0&&d.splice(_,1),this._triggers.has(t)||g.delete(t)})}}register(i,t){return!this._triggers.has(i)&&(this._triggers.set(i,t),!0)}_getTrigger(i){const t=this._triggers.get(i);if(!t)throw function c5(e){return new pe(3401,!1)}();return t}trigger(i,t,o,a=!0){const d=this._getTrigger(t),p=new hD(this.id,t,i);let g=this._engine.statesByElement.get(i);g||(zc(i,x0),zc(i,x0+"-"+t),this._engine.statesByElement.set(i,g=new Map));let _=g.get(t);const E=new lD(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),g.set(t,E),_||(_=dD),E.value!==I_&&_.value===E.value){if(!function d$(e,i){const t=Object.keys(e),o=Object.keys(i);if(t.length!=o.length)return!1;for(let a=0;a<t.length;a++){const d=t[a];if(!i.hasOwnProperty(d)||e[d]!==i[d])return!1}return!0}(_.params,E.params)){const W=[],he=d.matchStyles(_.value,_.params,W),we=d.matchStyles(E.value,E.params,W);W.length?this._engine.reportError(W):this._engine.afterFlush(()=>{dg(i,he),gd(i,we)})}return}const F=Za(this._engine.playersByElement,i,[]);F.forEach(W=>{W.namespaceId==this.id&&W.triggerName==t&&W.queued&&W.destroy()});let j=d.matchTransition(_.value,E.value,i,E.params),H=!1;if(!j){if(!a)return;j=d.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:j,fromState:_,toState:E,player:p,isFallbackTransition:H}),H||(zc(i,w1),p.onStart(()=>{qv(i,w1)})),p.onDone(()=>{let W=this.players.indexOf(p);W>=0&&this.players.splice(W,1);const he=this._engine.playersByElement.get(i);if(he){let we=he.indexOf(p);we>=0&&he.splice(we,1)}}),this.players.push(p),F.push(p),p}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(t=>t.delete(i)),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(a=>a.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const t=this._engine.playersByElement.get(i);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,t){const o=this._engine.driver.query(i,A0,!0);o.forEach(a=>{if(a[$u])return;const d=this._engine.fetchNamespacesByElement(a);d.size?d.forEach(p=>p.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(i,t,o,a){const d=this._engine.statesByElement.get(i),p=new Map;if(d){const g=[];if(d.forEach((_,E)=>{if(p.set(E,_.value),this._triggers.has(E)){const I=this.trigger(i,E,I_,a);I&&g.push(I)}}),g.length)return this._engine.markElementAsRemoved(this.id,i,!0,t,p),o&&jp(g).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const t=this._elementListeners.get(i),o=this._engine.statesByElement.get(i);if(t&&o){const a=new Set;t.forEach(d=>{const p=d.name;if(a.has(p))return;a.add(p);const _=this._triggers.get(p).fallbackTransition,E=o.get(p)||dD,I=new lD(I_),R=new hD(this.id,p,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:p,transition:_,fromState:E,toState:I,player:R,isFallbackTransition:!0})})}}removeNode(i,t){const o=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,t),this.triggerLeaveAnimation(i,t,!0))return;let a=!1;if(o.totalAnimations){const d=o.players.length?o.playersByQueriedElement.get(i):[];if(d&&d.length)a=!0;else{let p=i;for(;p=p.parentNode;)if(o.statesByElement.get(p)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(i),a)o.markElementAsRemoved(this.id,i,!1,t);else{const d=i[$u];(!d||d===E1)&&(o.afterFlush(()=>this.clearElementCache(i)),o.destroyInnerAnimations(i),o._onRemovalComplete(i,t))}}insertNode(i,t){zc(i,this._hostClassName)}drainQueuedTransitions(i){const t=[];return this._queue.forEach(o=>{const a=o.player;if(a.destroyed)return;const d=o.element,p=this._elementListeners.get(d);p&&p.forEach(g=>{if(g.name==o.triggerName){const _=KC(d,o.triggerName,o.fromState.value,o.toState.value);_._data=i,GC(o.player,g.phase,_,g.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(o)}),this._queue=[],t.sort((o,a)=>{const d=o.transition.ast.depCount,p=a.transition.ast.depCount;return 0==d||0==p?d-p:this._engine.driver.containsElement(o.element,a.element)?1:-1})}destroy(i){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}}class o${_onRemovalComplete(i,t){this.onRemovalComplete(i,t)}constructor(i,t,o){this.bodyNode=i,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,d)=>{}}get queuedPlayers(){const i=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&i.push(o)})}),i}createNamespace(i,t){const o=new i$(i,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[i]=o}_balanceNamespaceList(i,t){const o=this._namespaceList,a=this.namespacesByHostElement;if(o.length-1>=0){let p=!1,g=this.driver.getParentElement(t);for(;g;){const _=a.get(g);if(_){const E=o.indexOf(_);o.splice(E+1,0,i),p=!0;break}g=this.driver.getParentElement(g)}p||o.unshift(i)}else o.push(i);return a.set(t,i),i}register(i,t){let o=this._namespaceLookup[i];return o||(o=this.createNamespace(i,t)),o}registerTrigger(i,t,o){let a=this._namespaceLookup[i];a&&a.register(t,o)&&this.totalAnimations++}destroy(i,t){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const o=this._fetchNamespace(i);this.namespacesByHostElement.delete(o.hostElement);const a=this._namespaceList.indexOf(o);a>=0&&this._namespaceList.splice(a,1),o.destroy(t),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const t=new Set,o=this.statesByElement.get(i);if(o)for(let a of o.values())if(a.namespaceId){const d=this._fetchNamespace(a.namespaceId);d&&t.add(d)}return t}trigger(i,t,o,a){if(j0(t)){const d=this._fetchNamespace(i);if(d)return d.trigger(t,o,a),!0}return!1}insertNode(i,t,o,a){if(!j0(t))return;const d=t[$u];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const p=this.collectedLeaveElements.indexOf(t);p>=0&&this.collectedLeaveElements.splice(p,1)}if(i){const p=this._fetchNamespace(i);p&&p.insertNode(t,o)}a&&this.collectEnterElement(t)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,t){t?this.disabledNodes.has(i)||(this.disabledNodes.add(i),zc(i,uD)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),qv(i,uD))}removeNode(i,t,o){if(j0(t)){const a=i?this._fetchNamespace(i):null;a?a.removeNode(t,o):this.markElementAsRemoved(i,t,!1,o);const d=this.namespacesByHostElement.get(t);d&&d.id!==i&&d.removeNode(t,o)}else this._onRemovalComplete(t,o)}markElementAsRemoved(i,t,o,a,d){this.collectedLeaveElements.push(t),t[$u]={namespaceId:i,setForRemoval:a,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:d}}listen(i,t,o,a,d){return j0(t)?this._fetchNamespace(i).listen(t,o,a,d):()=>{}}_buildInstruction(i,t,o,a,d){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,o,a,i.fromState.options,i.toState.options,t,d)}destroyInnerAnimations(i){let t=this.driver.query(i,A0,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(i,QC,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(i){const t=this.playersByElement.get(i);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(i){const t=this.playersByQueriedElement.get(i);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return jp(this.players).onDone(()=>i());i()})}processLeaveNode(i){const t=i[$u];if(t&&t.setForRemoval){if(i[$u]=E1,t.namespaceId){this.destroyInnerAnimations(i);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(i)}this._onRemovalComplete(i,t.setForRemoval)}i.classList?.contains(uD)&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(i=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,a)=>this._balanceNamespaceList(o,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)zc(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,i)}finally{for(let a=0;a<o.length;a++)o[a]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?jp(t).onDone(()=>{o.forEach(a=>a())}):o.forEach(a=>a())}}reportError(i){throw function u5(e){return new pe(3402,!1)}()}_flushAnimations(i,t){const o=new P0,a=[],d=new Map,p=[],g=new Map,_=new Map,E=new Map,I=new Set;this.disabledNodes.forEach(tt=>{I.add(tt);const Et=this.driver.query(tt,".ng-animate-queued",!0);for(let Rt=0;Rt<Et.length;Rt++)I.add(Et[Rt])});const R=this.bodyNode,F=Array.from(this.statesByElement.keys()),j=I1(F,this.collectedEnterElements),H=new Map;let W=0;j.forEach((tt,Et)=>{const Rt=XC+W++;H.set(Et,Rt),tt.forEach(xn=>zc(xn,Rt))});const he=[],we=new Set,ae=new Set;for(let tt=0;tt<this.collectedLeaveElements.length;tt++){const Et=this.collectedLeaveElements[tt],Rt=Et[$u];Rt&&Rt.setForRemoval&&(he.push(Et),we.add(Et),Rt.hasAnimation?this.driver.query(Et,".ng-star-inserted",!0).forEach(xn=>we.add(xn)):ae.add(Et))}const ze=new Map,We=I1(F,Array.from(we));We.forEach((tt,Et)=>{const Rt=T0+W++;ze.set(Et,Rt),tt.forEach(xn=>zc(xn,Rt))}),i.push(()=>{j.forEach((tt,Et)=>{const Rt=H.get(Et);tt.forEach(xn=>qv(xn,Rt))}),We.forEach((tt,Et)=>{const Rt=ze.get(Et);tt.forEach(xn=>qv(xn,Rt))}),he.forEach(tt=>{this.processLeaveNode(tt)})});const Ut=[],rr=[];for(let tt=this._namespaceList.length-1;tt>=0;tt--)this._namespaceList[tt].drainQueuedTransitions(t).forEach(Rt=>{const xn=Rt.player,bo=Rt.element;if(Ut.push(xn),this.collectedEnterElements.length){const rs=bo[$u];if(rs&&rs.setForMove){if(rs.previousTriggersValues&&rs.previousTriggersValues.has(Rt.triggerName)){const pg=rs.previousTriggersValues.get(Rt.triggerName),$c=this.statesByElement.get(Rt.element);if($c&&$c.has(Rt.triggerName)){const H0=$c.get(Rt.triggerName);H0.value=pg,$c.set(Rt.triggerName,H0)}}return void xn.destroy()}}const vd=!R||!this.driver.containsElement(R,bo),Ja=ze.get(bo),Vp=H.get(bo),ni=this._buildInstruction(Rt,o,Vp,Ja,vd);if(ni.errors&&ni.errors.length)return void rr.push(ni);if(vd)return xn.onStart(()=>dg(bo,ni.fromStyles)),xn.onDestroy(()=>gd(bo,ni.toStyles)),void a.push(xn);if(Rt.isFallbackTransition)return xn.onStart(()=>dg(bo,ni.fromStyles)),xn.onDestroy(()=>gd(bo,ni.toStyles)),void a.push(xn);const F1=[];ni.timelines.forEach(rs=>{rs.stretchStartingKeyframe=!0,this.disabledNodes.has(rs.element)||F1.push(rs)}),ni.timelines=F1,o.append(bo,ni.timelines),p.push({instruction:ni,player:xn,element:bo}),ni.queriedElements.forEach(rs=>Za(g,rs,[]).push(xn)),ni.preStyleProps.forEach((rs,pg)=>{if(rs.size){let $c=_.get(pg);$c||_.set(pg,$c=new Set),rs.forEach((H0,mD)=>$c.add(mD))}}),ni.postStyleProps.forEach((rs,pg)=>{let $c=E.get(pg);$c||E.set(pg,$c=new Set),rs.forEach((H0,mD)=>$c.add(mD))})});if(rr.length){const tt=[];rr.forEach(Et=>{tt.push(function l5(e,i){return new pe(3505,!1)}())}),Ut.forEach(Et=>Et.destroy()),this.reportError(tt)}const Dr=new Map,Lo=new Map;p.forEach(tt=>{const Et=tt.element;o.has(Et)&&(Lo.set(Et,Et),this._beforeAnimationBuild(tt.player.namespaceId,tt.instruction,Dr))}),a.forEach(tt=>{const Et=tt.element;this._getPreviousPlayers(Et,!1,tt.namespaceId,tt.triggerName,null).forEach(xn=>{Za(Dr,Et,[]).push(xn),xn.destroy()})});const Qa=he.filter(tt=>T1(tt,_,E)),qu=new Map;D1(qu,this.driver,ae,E,Xh).forEach(tt=>{T1(tt,_,E)&&Qa.push(tt)});const S_=new Map;j.forEach((tt,Et)=>{D1(S_,this.driver,new Set(tt),_,"!")}),Qa.forEach(tt=>{const Et=qu.get(tt),Rt=S_.get(tt);qu.set(tt,new Map([...Et?.entries()??[],...Rt?.entries()??[]]))});const fg=[],N1=[],P1={};p.forEach(tt=>{const{element:Et,player:Rt,instruction:xn}=tt;if(o.has(Et)){if(I.has(Et))return Rt.onDestroy(()=>gd(Et,xn.toStyles)),Rt.disabled=!0,Rt.overrideTotalTime(xn.totalTime),void a.push(Rt);let bo=P1;if(Lo.size>1){let Ja=Et;const Vp=[];for(;Ja=Ja.parentNode;){const ni=Lo.get(Ja);if(ni){bo=ni;break}Vp.push(Ja)}Vp.forEach(ni=>Lo.set(ni,bo))}const vd=this._buildAnimation(Rt.namespaceId,xn,Dr,d,S_,qu);if(Rt.setRealPlayer(vd),bo===P1)fg.push(Rt);else{const Ja=this.playersByElement.get(bo);Ja&&Ja.length&&(Rt.parentPlayer=jp(Ja)),a.push(Rt)}}else dg(Et,xn.fromStyles),Rt.onDestroy(()=>gd(Et,xn.toStyles)),N1.push(Rt),I.has(Et)&&a.push(Rt)}),N1.forEach(tt=>{const Et=d.get(tt.element);if(Et&&Et.length){const Rt=jp(Et);tt.setRealPlayer(Rt)}}),a.forEach(tt=>{tt.parentPlayer?tt.syncPlayerEvents(tt.parentPlayer):tt.destroy()});for(let tt=0;tt<he.length;tt++){const Et=he[tt],Rt=Et[$u];if(qv(Et,T0),Rt&&Rt.hasAnimation)continue;let xn=[];if(g.size){let vd=g.get(Et);vd&&vd.length&&xn.push(...vd);let Ja=this.driver.query(Et,QC,!0);for(let Vp=0;Vp<Ja.length;Vp++){let ni=g.get(Ja[Vp]);ni&&ni.length&&xn.push(...ni)}}const bo=xn.filter(vd=>!vd.destroyed);bo.length?u$(this,Et,bo):this.processLeaveNode(Et)}return he.length=0,fg.forEach(tt=>{this.players.push(tt),tt.onDone(()=>{tt.destroy();const Et=this.players.indexOf(tt);this.players.splice(Et,1)}),tt.play()}),fg}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,t,o,a,d){let p=[];if(t){const g=this.playersByQueriedElement.get(i);g&&(p=g)}else{const g=this.playersByElement.get(i);if(g){const _=!d||d==I_;g.forEach(E=>{E.queued||!_&&E.triggerName!=a||p.push(E)})}}return(o||a)&&(p=p.filter(g=>!(o&&o!=g.namespaceId||a&&a!=g.triggerName))),p}_beforeAnimationBuild(i,t,o){const d=t.element,p=t.isRemovalTransition?void 0:i,g=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,I=E!==d,R=Za(o,E,[]);this._getPreviousPlayers(E,I,p,g,t.toState).forEach(j=>{const H=j.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),j.destroy(),R.push(j)})}dg(d,t.fromStyles)}_buildAnimation(i,t,o,a,d,p){const g=t.triggerName,_=t.element,E=[],I=new Set,R=new Set,F=t.timelines.map(H=>{const W=H.element;I.add(W);const he=W[$u];if(he&&he.removedBeforeQueried)return new v_(H.duration,H.delay);const we=W!==_,ae=function l$(e){const i=[];return S1(e,i),i}((o.get(W)||n$).map(Dr=>Dr.getRealPlayer())).filter(Dr=>!!Dr.element&&Dr.element===W),ze=d.get(W),We=p.get(W),Ut=t1(this._normalizer,H.keyframes,ze,We),rr=this._buildPlayer(H,Ut,ae);if(H.subTimeline&&a&&R.add(W),we){const Dr=new hD(i,g,W);Dr.setRealPlayer(rr),E.push(Dr)}return rr});E.forEach(H=>{Za(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function s$(e,i,t){let o=e.get(i);if(o){if(o.length){const a=o.indexOf(t);o.splice(a,1)}0==o.length&&e.delete(i)}return o}(this.playersByQueriedElement,H.element,H))}),I.forEach(H=>zc(H,u1));const j=jp(F);return j.onDestroy(()=>{I.forEach(H=>qv(H,u1)),gd(_,t.toStyles)}),R.forEach(H=>{Za(a,H,[]).push(j)}),j}_buildPlayer(i,t,o){return t.length>0?this.driver.animate(i.element,t,i.duration,i.delay,i.easing,o):new v_(i.duration,i.delay)}}class hD{constructor(i,t,o){this.namespaceId=i,this.triggerName=t,this.element=o,this._player=new v_,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((t,o)=>{t.forEach(a=>GC(i,o,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const t=this._player;t.triggerCallback&&i.onStart(()=>t.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,t){Za(this._queuedCallbacks,i,[]).push(t)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const t=this._player;t.triggerCallback&&t.triggerCallback(i)}}function j0(e){return e&&1===e.nodeType}function C1(e,i){const t=e.style.display;return e.style.display=i??"none",t}function D1(e,i,t,o,a){const d=[];t.forEach(_=>d.push(C1(_)));const p=[];o.forEach((_,E)=>{const I=new Map;_.forEach(R=>{const F=i.computeStyle(E,R,a);I.set(R,F),(!F||0==F.length)&&(E[$u]=r$,p.push(E))}),e.set(E,I)});let g=0;return t.forEach(_=>C1(_,d[g++])),p}function I1(e,i){const t=new Map;if(e.forEach(g=>t.set(g,[])),0==i.length)return t;const a=new Set(i),d=new Map;function p(g){if(!g)return 1;let _=d.get(g);if(_)return _;const E=g.parentNode;return _=t.has(E)?E:a.has(E)?1:p(E),d.set(g,_),_}return i.forEach(g=>{const _=p(g);1!==_&&t.get(_).push(g)}),t}function zc(e,i){e.classList?.add(i)}function qv(e,i){e.classList?.remove(i)}function u$(e,i,t){jp(t).onDone(()=>e.processLeaveNode(i))}function S1(e,i){for(let t=0;t<e.length;t++){const o=e[t];o instanceof hR?S1(o.players,i):i.push(o)}}function T1(e,i,t){const o=t.get(e);if(!o)return!1;let a=i.get(e);return a?o.forEach(d=>a.add(d)):i.set(e,o),t.delete(e),!0}class B0{constructor(i,t,o){this.bodyNode=i,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(a,d)=>{},this._transitionEngine=new o$(i,t,o),this._timelineEngine=new X5(i,t,o),this._transitionEngine.onRemovalComplete=(a,d)=>this.onRemovalComplete(a,d)}registerTrigger(i,t,o,a,d){const p=i+"-"+a;let g=this._triggerCache[p];if(!g){const _=[],I=nD(this._driver,d,_,[]);if(_.length)throw function Qz(e,i){return new pe(3404,!1)}();g=function W5(e,i,t){return new K5(e,i,t)}(a,I,this._normalizer),this._triggerCache[p]=g}this._transitionEngine.registerTrigger(t,a,g)}register(i,t){this._transitionEngine.register(i,t)}destroy(i,t){this._transitionEngine.destroy(i,t)}onInsert(i,t,o,a){this._transitionEngine.insertNode(i,t,o,a)}onRemove(i,t,o){this._transitionEngine.removeNode(i,t,o)}disableAnimations(i,t){this._transitionEngine.markElementAsDisabled(i,t)}process(i,t,o,a){if("@"==o.charAt(0)){const[d,p]=n1(o);this._timelineEngine.command(d,t,p,a)}else this._transitionEngine.trigger(i,t,o,a)}listen(i,t,o,a,d){if("@"==o.charAt(0)){const[p,g]=n1(o);return this._timelineEngine.listen(p,t,g,d)}return this._transitionEngine.listen(i,t,o,a,d)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}}let f$=(()=>{class e{static#e=this.initialStylesByElement=new WeakMap;constructor(t,o,a){this._element=t,this._startStyles=o,this._endStyles=a,this._state=0;let d=e.initialStylesByElement.get(t);d||e.initialStylesByElement.set(t,d=new Map),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&gd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(gd(this._element,this._initialStyles),this._endStyles&&(gd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(dg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dg(this._element,this._endStyles),this._endStyles=null),gd(this._element,this._initialStyles),this._state=3)}}return e})();function fD(e){let i=null;return e.forEach((t,o)=>{(function p$(e){return"display"===e||"position"===e})(o)&&(i=i||new Map,i.set(o,t))}),i}class x1{constructor(i,t,o,a){this.element=i,this.keyframes=t,this.options=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){const t=[];return i.forEach(o=>{t.push(Object.fromEntries(o))}),t}_triggerWebAnimation(i,t,o){return i.animate(this._convertKeyframesToObject(t),o)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,a)=>{"offset"!==a&&i.set(a,this._finished?o:f1(this.element,a))}),this.currentSnapshot=i}triggerCallback(i){const t="start"===i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class m${validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}matchesElement(i,t){return!1}containsElement(i,t){return o1(i,t)}getParentElement(i){return YC(i)}query(i,t,o){return s1(i,t,o)}computeStyle(i,t,o){return window.getComputedStyle(i)[t]}animate(i,t,o,a,d,p=[]){const _={duration:o,delay:a,fill:0==a?"both":"forwards"};d&&(_.easing=d);const E=new Map,I=p.filter(j=>j instanceof x1);(function E5(e,i){return 0===e||0===i})(o,a)&&I.forEach(j=>{j.currentSnapshot.forEach((H,W)=>E.set(W,H))});let R=function _5(e){return e.length?e[0]instanceof Map?e:e.map(i=>l1(i)):[]}(t).map(j=>Bp(j));R=function C5(e,i,t){if(t.size&&i.length){let o=i[0],a=[];if(t.forEach((d,p)=>{o.has(p)||a.push(p),o.set(p,d)}),a.length)for(let d=1;d<i.length;d++){let p=i[d];a.forEach(g=>p.set(g,f1(e,g)))}}return i}(i,R,E);const F=function h$(e,i){let t=null,o=null;return Array.isArray(i)&&i.length?(t=fD(i[0]),i.length>1&&(o=fD(i[i.length-1]))):i instanceof Map&&(t=fD(i)),t||o?new f$(e,t,o):null}(i,R);return new x1(i,R,_,F)}}let g$=(()=>{class e extends lR{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:Zi.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?dR(t):t;return A1(this._renderer,null,o,"register",[a]),new v$(o,this._renderer)}static#e=this.\u0275fac=function(o){return new(o||e)(ne(b),ne(nn))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();class v$ extends OH{constructor(i,t){super(),this._id=i,this._renderer=t}create(i,t){return new y$(this._id,i,t||{},this._renderer)}}class y${constructor(i,t,o,a){this.id=i,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(i,t){return this._renderer.listen(this.element,`@@${this.id}:${i}`,t)}_command(i,...t){return A1(this._renderer,this.element,this.id,i,t)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function A1(e,i,t,o,a){return e.setProperty(i,`@@${t}:${o}`,a)}const M1="@.disabled";let _$=(()=>{class e{constructor(t,o,a){this.delegate=t,this.engine=o,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,o.onRemovalComplete=(d,p)=>{const g=p?.parentNode(d);g&&p.removeChild(g,d)}}createRenderer(t,o){const d=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let I=this._rendererCache.get(d);return I||(I=new R1("",d,this.engine,()=>this._rendererCache.delete(d)),this._rendererCache.set(d,I)),I}const p=o.id,g=o.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(p,g,t,I.name,I)};return o.data.animation.forEach(_),new b$(this,g,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,a){t>=0&&t<this._microtaskId?this._zone.run(()=>o(a)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[p,g]=d;p(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(o){return new(o||e)(ne(b),ne(B0),ne(Lt))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})();class R1{constructor(i,t,o,a){this.namespaceId=i,this.delegate=t,this.engine=o,this._onDestroy=a}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,t){this.delegate.appendChild(i,t),this.engine.onInsert(this.namespaceId,t,i,!1)}insertBefore(i,t,o,a=!0){this.delegate.insertBefore(i,t,o),this.engine.onInsert(this.namespaceId,t,i,a)}removeChild(i,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,o,a){this.delegate.setAttribute(i,t,o,a)}removeAttribute(i,t,o){this.delegate.removeAttribute(i,t,o)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,o,a){this.delegate.setStyle(i,t,o,a)}removeStyle(i,t,o){this.delegate.removeStyle(i,t,o)}setProperty(i,t,o){"@"==t.charAt(0)&&t==M1?this.disableAnimations(i,!!o):this.delegate.setProperty(i,t,o)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,o){return this.delegate.listen(i,t,o)}disableAnimations(i,t){this.engine.disableAnimations(i,t)}}class b$ extends R1{constructor(i,t,o,a,d){super(t,o,a,d),this.factory=i,this.namespaceId=t}setProperty(i,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==M1?this.disableAnimations(i,o=void 0===o||!!o):this.engine.process(this.namespaceId,i,t.slice(1),o):this.delegate.setProperty(i,t,o)}listen(i,t,o){if("@"==t.charAt(0)){const a=function w$(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(i);let d=t.slice(1),p="";return"@"!=d.charAt(0)&&([d,p]=function E$(e){const i=e.indexOf(".");return[e.substring(0,i),e.slice(i+1)]}(d)),this.engine.listen(this.namespaceId,a,d,p,g=>{this.factory.scheduleListenerCallback(g._data||-1,o,g)})}return this.delegate.listen(i,t,o)}}const k1=[{provide:lR,useClass:g$},{provide:aD,useFactory:function D$(){return new z5}},{provide:B0,useClass:(()=>{class e extends B0{constructor(t,o,a,d){super(t.body,o,a)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(o){return new(o||e)(ne(nn),ne(ZC),ne(aD),ne(Tp))};static#t=this.\u0275prov=ke({token:e,factory:e.\u0275fac})}return e})()},{provide:b,useFactory:function I$(e,i,t){return new _$(e,i,t)},deps:[LE,B0,Lt]}],pD=[{provide:ZC,useFactory:()=>new m$},{provide:No,useValue:"BrowserAnimations"},...k1],O1=[{provide:ZC,useClass:a1},{provide:No,useValue:"NoopAnimations"},...k1];let S$=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?O1:pD}}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e});static#n=this.\u0275inj=_n({providers:pD,imports:[eA]})}return e})();const T$_firebaseConfig={apiKey:"AIzaSyBqPuKPrWj8I3YZhuDlcc1jcS7OxM2iIXU",authDomain:"pychosync.firebaseapp.com",projectId:"pychosync",storageBucket:"pychosync.appspot.com",messagingSenderId:"947190997840",appId:"1:947190997840:web:60738706a10b768af6c255",measurementId:"G-XZHNE3RXFY"};let x$=(()=>{class e{constructor(t){this.dialog=t,this.firestore=new zv,this.likeState="unliked",this.bookmarkState="unbookmarked"}ngOnInit(){this.getCreatorInfo()}onBookmarkClick(){this.bookmarkState="bookmarked"===this.bookmarkState?"unbookmarked":"bookmarked"}onLikeClick(){this.likeState="liked"===this.likeState?"unliked":"liked"}onReplyClick(){this.dialog.open(QR,{data:this.postData?.postId})}onSaveToDesktop(){const t=this.postData?.imageUrl;if(t){const o=document.createElement("a");o.href=t,o.download="post_image.jpg",o.target="_blank",o.click()}}getCreatorInfo(){this.firestore.getDocument({path:["Users",this.postData?.creatorid||"default-value"],onComplete:t=>{let o=t.data();this.creatorName=o?.publicName||"default-name",this.creatorDescription=o?.description||"default-description"}})}static#e=this.\u0275fac=function(o){return new(o||e)(ge(y_))};static#t=this.\u0275cmp=xt({type:e,selectors:[["app-post"]],inputs:{postData:"postData"},decls:27,vars:9,consts:[[1,"post-container"],[1,"name"],[1,"desc"],["mat-card-image","",1,"post-image",3,"src"],[1,"comment"],[1,"custom-card-actions"],[1,"left-buttons"],["mat-icon-button","","color","primary",1,"action-item",3,"click"],["mat-icon-button","",1,"action-item","like",3,"click"],["mat-icon-button","","color","accent",1,"action-item",3,"click"],[1,"right-buttons"],["mat-icon-button","","color","accent",1,"action-add","save",3,"click"],["mat-icon-button","",1,"action-add","edit"]],template:function(o,a){1&o&&(De(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title",1),qe(3),Fe(),De(4,"mat-card-subtitle",2),qe(5),Fe()(),mi(6,"img",3),De(7,"mat-card-content",4),qe(8),Fe(),De(9,"mat-card-actions",5)(10,"div",6)(11,"button",7),pn("click",function(){return a.onReplyClick()}),De(12,"mat-icon"),qe(13,"quickreply"),Fe()(),De(14,"button",8),pn("click",function(){return a.onLikeClick()}),De(15,"mat-icon"),qe(16),Fe()(),De(17,"button",9),pn("click",function(){return a.onSaveToDesktop()}),De(18,"mat-icon"),qe(19,"save_as"),Fe()()(),De(20,"div",10)(21,"button",11),pn("click",function(){return a.onBookmarkClick()}),De(22,"mat-icon"),qe(23),Fe()(),De(24,"button",12)(25,"mat-icon"),qe(26,"more_vert"),Fe()()()()()),2&o&&(Pr(3),Ip(a.creatorName),Pr(2),Ry("~ ",a.creatorDescription,""),Pr(1),gw("src",null==a.postData?null:a.postData.imageUrl,Oa),Pr(2),Ew(" ",a.creatorName,": ",null==a.postData?null:a.postData.comment," "),Pr(6),ro("@likeAnimation",a.likeState),Pr(2),Ip("liked"===a.likeState?"favorite":"favorite_border"),Pr(5),ro("@bookmarkAnimation",a.bookmarkState),Pr(2),Ip("bookmarked"===a.bookmarkState?"bookmark":"bookmark_add"))},dependencies:[c4,p0,g0,mR,v0,vR,gR,m0,$v],styles:[".name[_ngcontent-%COMP%]{font-size:1.3em;color:#03032b;font-weight:700}.desc[_ngcontent-%COMP%]{font-size:1.1em;color:#0a0a5e}.post-image[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em;width:650px;height:auto;border-radius:10px;box-shadow:0 2px 4px #0006;transition:transform .3s ease-in-out}.post-image[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.comment[_ngcontent-%COMP%]{font-size:1.2em;color:#020214}.custom-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.left-buttons[_ngcontent-%COMP%], .right-buttons[_ngcontent-%COMP%]{display:flex}.action-add[_ngcontent-%COMP%]{margin-left:auto}.like[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#d62323}.save[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#c20c49}.edit[_ngcontent-%COMP%]{position:absolute;top:0;right:0}"],data:{animation:[l0("bookmarkAnimation",[Np("bookmarked",Hc({transform:"scale(1.2)",color:"pink"})),Np("unbookmarked",Hc({transform:"scale(1)",color:"pink"})),Pp("unbookmarked => bookmarked",[Op("0.2s")]),Pp("bookmarked => unbookmarked",[Op("0.2s")])]),l0("likeAnimation",[Np("liked",Hc({transform:"scale(1.2)",color:"red"})),Np("unliked",Hc({transform:"scale(1)",color:"red"})),Pp("unliked => liked",[Op("0.2s")]),Pp("liked => unliked",[Op("0.2s")])])]}})}return e})(),A$=(()=>{class e{constructor(){Ya.init(T$_firebaseConfig)}static#e=this.\u0275fac=function(o){return new(o||e)};static#t=this.\u0275mod=Sn({type:e,bootstrap:[S0]});static#n=this.\u0275inj=_n({imports:[eA,Mz,S$,u4,fR,KH,A4,mz]})}return e})();(function Qi(e,i,t){const o=e.\u0275cmp;o.directiveDefs=iu(i,!1),o.pipeDefs=iu(t,!0)})(ZR,[IE,a4,$v,x$,XR,JR],[]),oB().bootstrapModule(A$).catch(e=>console.error(e))},301:(ec,vi,$t)=>{$t.r(vi),$t.d(vi,{default:()=>ye.Z});var ye=$t(778);ye.Z.registerVersion("firebase","8.10.1","app"),ye.Z.SDK_VERSION="8.10.1"},960:(ec,vi,$t)=>{$t.r(vi);var ye=$t(778);(function(){var T,Ge="function"==typeof Object.defineProperties?Object.defineProperty:function(u,f,v){u!=Array.prototype&&u!=Object.prototype&&(u[f]=v.value)},Ot=function st(u){u=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,u];for(var f=0;f<u.length;++f){var v=u[f];if(v&&v.Math==Math)return v}return globalThis}(this);function Fr(u){var f=0;return function(){return f<u.length?{done:!1,value:u[f++]}:{done:!0}}}function $i(u){var f=typeof Symbol<"u"&&Symbol.iterator&&u[Symbol.iterator];return f?f.call(u):{next:Fr(u)}}!function zi(u,f){if(f){var v=Ot;u=u.split(".");for(var w=0;w<u.length-1;w++){var D=u[w];D in v||(v[D]={}),v=v[D]}(f=f(w=v[u=u[u.length-1]]))!=w&&null!=f&&Ge(v,u,{configurable:!0,writable:!0,value:f})}}("Promise",function(u){function f(N){this.b=0,this.c=void 0,this.a=[];var V=this.f();try{N(V.resolve,V.reject)}catch(me){V.reject(me)}}function v(){this.a=null}function w(N){return N instanceof f?N:new f(function(V){V(N)})}if(u)return u;v.prototype.b=function(N){if(null==this.a){this.a=[];var V=this;this.c(function(){V.g()})}this.a.push(N)};var D=Ot.setTimeout;v.prototype.c=function(N){D(N,0)},v.prototype.g=function(){for(;this.a&&this.a.length;){var N=this.a;this.a=[];for(var V=0;V<N.length;++V){var me=N[V];N[V]=null;try{me()}catch(c){this.f(c)}}}this.a=null},v.prototype.f=function(N){this.c(function(){throw N})},f.prototype.f=function(){function N(c){return function(s){me||(me=!0,c.call(V,s))}}var V=this,me=!1;return{resolve:N(this.m),reject:N(this.g)}},f.prototype.m=function(N){if(N===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(N instanceof f)this.s(N);else{e:switch(typeof N){case"object":var V=null!=N;break e;case"function":V=!0;break e;default:V=!1}V?this.v(N):this.h(N)}},f.prototype.v=function(N){var V=void 0;try{V=N.then}catch(me){return void this.g(me)}"function"==typeof V?this.u(V,N):this.h(N)},f.prototype.g=function(N){this.i(2,N)},f.prototype.h=function(N){this.i(1,N)},f.prototype.i=function(N,V){if(0!=this.b)throw Error("Cannot settle("+N+", "+V+"): Promise already settled in state"+this.b);this.b=N,this.c=V,this.l()},f.prototype.l=function(){if(null!=this.a){for(var N=0;N<this.a.length;++N)k.b(this.a[N]);this.a=null}};var k=new v;return f.prototype.s=function(N){var V=this.f();N.Ra(V.resolve,V.reject)},f.prototype.u=function(N,V){var me=this.f();try{N.call(V,me.resolve,me.reject)}catch(c){me.reject(c)}},f.prototype.then=function(N,V){function me(h,m){return"function"==typeof h?function(y){try{c(h(y))}catch(b){s(b)}}:m}var c,s,l=new f(function(h,m){c=h,s=m});return this.Ra(me(N,c),me(V,s)),l},f.prototype.catch=function(N){return this.then(void 0,N)},f.prototype.Ra=function(N,V){function me(){switch(c.b){case 1:N(c.c);break;case 2:V(c.c);break;default:throw Error("Unexpected state: "+c.b)}}var c=this;null==this.a?k.b(me):this.a.push(me)},f.resolve=w,f.reject=function(N){return new f(function(V,me){me(N)})},f.race=function(N){return new f(function(V,me){for(var c=$i(N),s=c.next();!s.done;s=c.next())w(s.value).Ra(V,me)})},f.all=function(N){var V=$i(N),me=V.next();return me.done?w([]):new f(function(c,s){function l(y){return function(b){h[y]=b,0==--m&&c(h)}}var h=[],m=0;do{h.push(void 0),m++,w(me.value).Ra(l(h.length-1),s),me=V.next()}while(!me.done)})},f});var le=le||{},$=this||self,Ce=/^[\w+/_-]+[=]{0,2}$/,Re=null;function xe(u){return(u=u.querySelector&&u.querySelector("script[nonce]"))&&(u=u.nonce||u.getAttribute("nonce"))&&Ce.test(u)?u:""}function Ne(){}function jt(u){var f=typeof u;return"object"!=f?f:u?Array.isArray(u)?"array":f:"null"}function Nt(u){var f=jt(u);return"array"==f||"object"==f&&"number"==typeof u.length}function Bt(u){return"function"==jt(u)}function ft(u){var f=typeof u;return"object"==f&&null!=u||"function"==f}function hr(u){return Object.prototype.hasOwnProperty.call(u,qt)&&u[qt]||(u[qt]=++fr)}var qt="closure_uid_"+(1e9*Math.random()>>>0),fr=0;function pt(u,f,v){return u.call.apply(u.bind,arguments)}function zn(u,f,v){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,w),u.apply(f,D)}}return function(){return u.apply(f,arguments)}}function Ke(u,f,v){return(Ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pt:zn).apply(null,arguments)}function Gt(u,f){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}var qi=Date.now;function ct(u,f){function v(){}v.prototype=f.prototype,u.bb=f.prototype,u.prototype=new v,u.prototype.constructor=u}function so(u){return u}function Q(u,f,v){this.code=On+u,this.message=f||ao[u]||"",this.a=v||null}function Lr(u){var f=u&&u.code;return f?new Q(f.substring(On.length),u.message,u.serverResponse):null}ct(Q,Error),Q.prototype.w=function(){var u={code:this.code,message:this.message};return this.a&&(u.serverResponse=this.a),u},Q.prototype.toJSON=function(){return this.w()};var $n,On="auth/",ao={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},mt={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ri(u){for(var f in mt)if(mt[f].id===u)return{firebaseEndpoint:(u=mt[f]).Ua,secureTokenEndpoint:u.$a,identityPlatformEndpoint:u.Xa};return null}function ce(u){if(!u)return!1;try{return!!u.$goog_Thenable}catch{return!1}}function se(u){if(Error.captureStackTrace)Error.captureStackTrace(this,se);else{var f=Error().stack;f&&(this.stack=f)}u&&(this.message=String(u))}function K(u,f){for(var v="",w=(u=u.split("%s")).length-1,D=0;D<w;D++)v+=u[D]+(D<f.length?f[D]:"%s");se.call(this,v+u[w])}function J(u,f){throw new K("Failure"+(u?": "+u:""),Array.prototype.slice.call(arguments,1))}function ve(u,f){this.c=u,this.f=f,this.b=0,this.a=null}function fe(u,f){u.f(f),100>u.b&&(u.b++,f.next=u.a,u.a=f)}function Ie(){this.b=this.a=null}$n=ri("__EID__")?"__EID__":void 0,ct(se,Error),se.prototype.name="CustomError",ct(K,se),K.prototype.name="AssertionError",ve.prototype.get=function(){if(0<this.b){this.b--;var u=this.a;this.a=u.next,u.next=null}else u=this.c();return u};var Pt=new ve(function(){return new Xe},function(u){u.reset()});function Qe(){var u=ic,f=null;return u.a&&(f=u.a,u.a=u.a.next,u.a||(u.b=null),f.next=null),f}function Xe(){this.next=this.b=this.a=null}Ie.prototype.add=function(u,f){var v=Pt.get();v.set(u,f),this.b?this.b.next=v:this.a=v,this.b=v},Xe.prototype.set=function(u,f){this.a=u,this.b=f,this.next=null},Xe.prototype.reset=function(){this.next=this.b=this.a=null};var mn=Array.prototype.indexOf?function(u,f){return Array.prototype.indexOf.call(u,f,void 0)}:function(u,f){if("string"==typeof u)return"string"!=typeof f||1!=f.length?-1:u.indexOf(f,0);for(var v=0;v<u.length;v++)if(v in u&&u[v]===f)return v;return-1},yt=Array.prototype.forEach?function(u,f,v){Array.prototype.forEach.call(u,f,v)}:function(u,f,v){for(var w=u.length,D="string"==typeof u?u.split(""):u,k=0;k<w;k++)k in D&&f.call(v,D[k],k,u)},ii=Array.prototype.filter?function(u,f){return Array.prototype.filter.call(u,f,void 0)}:function(u,f){for(var v=u.length,w=[],D=0,k="string"==typeof u?u.split(""):u,N=0;N<v;N++)if(N in k){var V=k[N];f.call(void 0,V,N,u)&&(w[D++]=V)}return w},Ct=Array.prototype.map?function(u,f){return Array.prototype.map.call(u,f,void 0)}:function(u,f){for(var v=u.length,w=Array(v),D="string"==typeof u?u.split(""):u,k=0;k<v;k++)k in D&&(w[k]=f.call(void 0,D[k],k,u));return w},Tt=Array.prototype.some?function(u,f){return Array.prototype.some.call(u,f,void 0)}:function(u,f){for(var v=u.length,w="string"==typeof u?u.split(""):u,D=0;D<v;D++)if(D in w&&f.call(void 0,w[D],D,u))return!0;return!1};function rn(u,f){return 0<=mn(u,f)}function An(u,f){var v;return(v=0<=(f=mn(u,f)))&&Array.prototype.splice.call(u,f,1),v}function Nn(u,f){!function Vt(u,f){for(var v="string"==typeof u?u.split(""):u,w=u.length-1;0<=w;--w)w in v&&f.call(void 0,v[w],w,u)}(u,function(w,D){f.call(void 0,w,D,u)&&Array.prototype.splice.call(u,D,1)})}function cn(u){return Array.prototype.concat.apply([],arguments)}function Pn(u){var f=u.length;if(0<f){for(var v=Array(f),w=0;w<f;w++)v[w]=u[w];return v}return[]}var pr,Rs=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]},co=/&/g,yd=/</g,jr=/>/g,is=/"/g,ef=/'/g,Oi=/\x00/g,_d=/[\x00&<>"']/;function It(u,f){return-1!=u.indexOf(f)}function Gi(u,f){return u<f?-1:u>f?1:0}e:{var Gu=$.navigator;if(Gu){var qc=Gu.userAgent;if(qc){pr=qc;break e}}pr=""}function Mn(u){return It(pr,u)}function jo(u,f){for(var v in u)f.call(void 0,u[v],v,u)}function G(u){for(var f in u)return!1;return!0}function q(u){var v,f={};for(v in u)f[v]=u[v];return f}var ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(u,f){for(var v,w,D=1;D<arguments.length;D++){for(v in w=arguments[D])u[v]=w[v];for(var k=0;k<ee.length;k++)v=ee[k],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function X(u,f){e:{try{var v=u&&u.ownerDocument,w=v&&(v.defaultView||v.parentWindow);if((w=w||$).Element&&w.Location){var D=w;break e}}catch{}D=null}if(D&&typeof D[f]<"u"&&(!u||!(u instanceof D[f])&&(u instanceof D.Location||u instanceof D.Element))){if(ft(u))try{var k=u.constructor.displayName||u.constructor.name||Object.prototype.toString.call(u)}catch{k="<object could not be stringified>"}else k=void 0===u?"undefined":null===u?"null":typeof u;J("Argument is not a %s (or a non-Element, non-Location mock); got: %s",f,k)}}function Ae(u,f){this.a=u===un&&f||"",this.b=Xt}function ut(u){return u instanceof Ae&&u.constructor===Ae&&u.b===Xt?u.a:(J("expected object of type Const, got '"+u+"'"),"type_error:Const")}Ae.prototype.ta=!0,Ae.prototype.sa=function(){return this.a},Ae.prototype.toString=function(){return"Const{"+this.a+"}"};var en,Xt={},un={};function Br(){if(void 0===en){var u=null,f=$.trustedTypes;if(f&&f.createPolicy){try{u=f.createPolicy("goog#html",{createHTML:so,createScript:so,createScriptURL:so})}catch(v){$.console&&$.console.error(v.message)}en=u}else en=u}return en}function Qt(u,f){this.a=f===Wu?u:""}function _t(u){return u instanceof Qt&&u.constructor===Qt?u.a:(J("expected object of type TrustedResourceUrl, got '"+u+"' of type "+jt(u)),"type_error:TrustedResourceUrl")}function yi(u,f){var v=ut(u);if(!nt.test(v))throw Error("Invalid TrustedResourceUrl format: "+v);return function uo(u){var f=Br();return new Qt(u=f?f.createScriptURL(u):u,Wu)}(u=v.replace(Vr,function(w,D){if(!Object.prototype.hasOwnProperty.call(f,D))throw Error('Found marker, "'+D+'", in format string, "'+v+'", but no valid label mapping found in args: '+JSON.stringify(f));return(w=f[D])instanceof Ae?ut(w):encodeURIComponent(String(w))}))}Qt.prototype.ta=!0,Qt.prototype.sa=function(){return this.a.toString()},Qt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Vr=/%{(\w+)}/g,nt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Wu={};function ln(u,f){this.a=f===Gc?u:""}function ks(u){return u instanceof ln&&u.constructor===ln?u.a:(J("expected object of type SafeUrl, got '"+u+"' of type "+jt(u)),"type_error:SafeUrl")}ln.prototype.ta=!0,ln.prototype.sa=function(){return this.a.toString()},ln.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var bd=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,gn=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Bo=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Fn(u){if(u instanceof ln)return u;if(u="object"==typeof u&&u.ta?u.sa():String(u),Bo.test(u))u=new ln(u,Gc);else{var f=(u=(u=String(u)).replace(/(%0A|%0D)/g,"")).match(gn);u=f&&bd.test(f[1])?new ln(u,Gc):null}return u}function tc(u){return u instanceof ln?u:(u="object"==typeof u&&u.ta?u.sa():String(u),Bo.test(u)||(u="about:invalid#zClosurez"),new ln(u,Gc))}var Gc={},sa=new ln("about:invalid#zClosurez",Gc);function ot(u,f,v){this.a=v===Kc?u:""}ot.prototype.ta=!0,ot.prototype.sa=function(){return this.a.toString()},ot.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Kc={};function aa(u,f,v,w){return u=u instanceof ln?u:tc(u),f=f||$,v=v instanceof Ae?ut(v):v||"",f.open(ks(u),v,w,void 0)}function pe(u,f){for(var v=u.split("%s"),w="",D=Array.prototype.slice.call(arguments,1);D.length&&1<v.length;)w+=v.shift()+D.shift();return w+v.join("%s")}function os(u){return _d.test(u)&&(-1!=u.indexOf("&")&&(u=u.replace(co,"&amp;")),-1!=u.indexOf("<")&&(u=u.replace(yd,"&lt;")),-1!=u.indexOf(">")&&(u=u.replace(jr,"&gt;")),-1!=u.indexOf('"')&&(u=u.replace(is,"&quot;")),-1!=u.indexOf("'")&&(u=u.replace(ef,"&#39;")),-1!=u.indexOf("\0")&&(u=u.replace(Oi,"&#0;"))),u}function gt(u){return gt[" "](u),u}gt[" "]=Ne;var nc,u,tf=Mn("Opera"),Vo=Mn("Trident")||Mn("MSIE"),ca=Mn("Edge"),Os=ca||Vo,_i=Mn("Gecko")&&!(It(pr.toLowerCase(),"webkit")&&!Mn("Edge"))&&!(Mn("Trident")||Mn("MSIE"))&&!Mn("Edge"),ss=It(pr.toLowerCase(),"webkit")&&!Mn("Edge");function wd(){var u=$.document;return u?u.documentMode:void 0}e:{var wo="",ua=(u=pr,_i?/rv:([^\);]+)(\)|;)/.exec(u):ca?/Edge\/([\d\.]+)/.exec(u):Vo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):ss?/WebKit\/(\S+)/.exec(u):tf?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(ua&&(wo=ua?ua[1]:""),Vo){var Ed=wd();if(null!=Ed&&Ed>parseFloat(wo)){nc=String(Ed);break e}}nc=wo}var Ni={};function nf(u){return function on(u,f){var v=Ni;return Object.prototype.hasOwnProperty.call(v,u)?v[u]:v[u]=f(u)}(u,function(){for(var f=0,v=Rs(String(nc)).split("."),w=Rs(String(u)).split("."),D=Math.max(v.length,w.length),k=0;0==f&&k<D;k++){var N=v[k]||"",V=w[k]||"";do{if(N=/(\d*)(\D*)(.*)/.exec(N)||["","","",""],V=/(\d*)(\D*)(.*)/.exec(V)||["","","",""],0==N[0].length&&0==V[0].length)break;f=Gi(0==N[1].length?0:parseInt(N[1],10),0==V[1].length?0:parseInt(V[1],10))||Gi(0==N[2].length,0==V[2].length)||Gi(N[2],V[2]),N=N[3],V=V[3]}while(0==f)}return 0<=f})}var Eo=$.document&&Vo&&(wd()||parseInt(nc,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var rf=!Vo||9<=Number(Eo);function Ur(u){var f=document;return"string"==typeof u?f.getElementById(u):u}function lt(u,f){jo(f,function(v,w){v&&"object"==typeof v&&v.ta&&(v=v.sa()),"style"==w?u.style.cssText=v:"class"==w?u.className=v:"for"==w?u.htmlFor=v:rc.hasOwnProperty(w)?u.setAttribute(rc[w],v):0==w.lastIndexOf("aria-",0)||0==w.lastIndexOf("data-",0)?u.setAttribute(w,v):u[w]=v})}var _n,da,rc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ke(u,f){return f=String(f),"application/xhtml+xml"===u.contentType&&(f=f.toLowerCase()),u.createElement(f)}function Ku(u){$.setTimeout(function(){throw u},0)}function Yu(u,f){da||function Zu(){if($.Promise&&$.Promise.resolve){var u=$.Promise.resolve(void 0);da=function(){u.then(Qc)}}else da=function(){var f=Qc;!Bt($.setImmediate)||$.Window&&$.Window.prototype&&!Mn("Edge")&&$.Window.prototype.setImmediate==$.setImmediate?(_n||(_n=function Xc(){var u=$.MessageChannel;if(typeof u>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Mn("Presto")&&(u=function(){var D=ke(document,"IFRAME");D.style.display="none",document.documentElement.appendChild(D);var k=D.contentWindow;(D=k.document).open(),D.close();var N="callImmediate"+Math.random(),V="file:"==k.location.protocol?"*":k.location.protocol+"//"+k.location.host;D=Ke(function(me){("*"==V||me.origin==V)&&me.data==N&&this.port1.onmessage()},this),k.addEventListener("message",D,!1),this.port1={},this.port2={postMessage:function(){k.postMessage(N,V)}}}),typeof u<"u"&&!Mn("Trident")&&!Mn("MSIE")){var f=new u,v={},w=v;return f.port1.onmessage=function(){if(void 0!==v.next){var D=(v=v.next).Hb;v.Hb=null,D()}},function(D){w.next={Hb:D},w=w.next,f.port2.postMessage(0)}}return function(D){$.setTimeout(D,0)}}()),_n(f)):$.setImmediate(f)}}(),as||(da(),as=!0),ic.add(u,f)}var as=!1,ic=new Ie;function Qc(){for(var u;u=Qe();){try{u.a.call(u.b)}catch(f){Ku(f)}fe(Pt,u)}as=!1}function kt(u,f){if(this.a=Ns,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,u!=Ne)try{var v=this;u.call(f,function(w){ie(v,Dt,w)},function(w){if(!(w instanceof dn))try{throw w instanceof Error?w:Error("Promise rejected.")}catch{}ie(v,oi,w)})}catch(w){ie(this,oi,w)}}var Ns=0,Dt=2,oi=3;function oc(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}oc.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ir=new ve(function(){return new oc},function(u){u.reset()});function Uo(u,f,v){var w=Ir.get();return w.g=u,w.b=f,w.f=v,w}function rt(u){if(u instanceof kt)return u;var f=new kt(Ne);return ie(f,Dt,u),f}function dt(u){return new kt(function(f,v){v(u)})}function Cd(u,f,v){Ee(u,f,v,null)||Yu(Gt(f,u))}function S(u){return new kt(function(f){var v=u.length,w=[];if(v)for(var D=function(V,me,c){v--,w[V]=me?{Qb:!0,value:c}:{Qb:!1,reason:c},0==v&&f(w)},k=0;k<u.length;k++)Cd(u[k],Gt(D,k,!0),Gt(D,k,!1));else f(w)})}function L(u,f){if(u.a==Ns)if(u.c){var v=u.c;if(v.b){for(var w=0,D=null,k=null,N=v.b;N&&(N.c||(w++,N.a==u&&(D=N),!(D&&1<w)));N=N.next)D||(k=N);D&&(v.a==Ns&&1==w?L(v,f):(k?((w=k).next==v.f&&(v.f=w),w.next=w.next.next):Je(v),bt(v,D,oi,f)))}u.c=null}else ie(u,oi,f)}function U(u,f){u.b||u.a!=Dt&&u.a!=oi||Oe(u),u.f?u.f.next=f:u.b=f,u.f=f}function Y(u,f,v,w){var D=Uo(null,null,null);return D.a=new kt(function(k,N){D.g=f?function(V){try{var me=f.call(w,V);k(me)}catch(c){N(c)}}:k,D.b=v?function(V){try{var me=v.call(w,V);void 0===me&&V instanceof dn?N(V):k(me)}catch(c){N(c)}}:N}),D.a.c=u,U(u,D),D.a}function ie(u,f,v){u.a==Ns&&(u===v&&(f=oi,v=new TypeError("Promise cannot resolve to itself")),u.a=1,Ee(v,u.$c,u.ad,u)||(u.i=v,u.a=f,u.c=null,Oe(u),f!=oi||v instanceof dn||function ir(u,f){u.g=!0,Yu(function(){u.g&&or.call(null,f)})}(u,v)))}function Ee(u,f,v,w){if(u instanceof kt)return U(u,Uo(f||Ne,v||null,w)),!0;if(ce(u))return u.then(f,v,w),!0;if(ft(u))try{var D=u.then;if(Bt(D))return function Ve(u,f,v,w,D){function k(me){V||(V=!0,w.call(D,me))}var V=!1;try{f.call(u,function N(me){V||(V=!0,v.call(D,me))},k)}catch(me){k(me)}}(u,D,f,v,w),!0}catch(k){return v.call(w,k),!0}return!1}function Oe(u){u.h||(u.h=!0,Yu(u.gc,u))}function Je(u){var f=null;return u.b&&(u.b=(f=u.b).next,f.next=null),u.b||(u.f=null),f}function bt(u,f,v,w){if(v==oi&&f.b&&!f.c)for(;u&&u.g;u=u.c)u.g=!1;if(f.a)f.a.c=null,wt(f,v,w);else try{f.c?f.g.call(f.f):wt(f,v,w)}catch(D){or.call(null,D)}fe(Ir,f)}function wt(u,f,v){f==Dt?u.g.call(u.f,v):u.b&&u.b.call(u.f,v)}kt.prototype.then=function(u,f,v){return Y(this,Bt(u)?u:null,Bt(f)?f:null,v)},kt.prototype.$goog_Thenable=!0,(T=kt.prototype).oa=function(u,f){return(u=Uo(u,u,f)).c=!0,U(this,u),this},T.o=function(u,f){return Y(this,null,u,f)},T.cancel=function(u){if(this.a==Ns){var f=new dn(u);Yu(function(){L(this,f)},this)}},T.$c=function(u){this.a=Ns,ie(this,Dt,u)},T.ad=function(u){this.a=Ns,ie(this,oi,u)},T.gc=function(){for(var u;u=Je(this);)bt(this,u,this.a,this.i);this.h=!1};var or=Ku;function dn(u){se.call(this,u)}function In(){0!=mr&&(cs[hr(this)]=this),this.ya=this.ya,this.pa=this.pa}ct(dn,se),dn.prototype.name="cancel";var mr=0,cs={};function bi(u){if(!u.ya&&(u.ya=!0,u.Da(),0!=mr)){var f=hr(u);if(0!=mr&&u.pa&&0<u.pa.length)throw Error(u+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete cs[f]}}In.prototype.ya=!1,In.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Wi=Object.freeze||function(u){return u},wi=!Vo||9<=Number(Eo),sc=Vo&&!nf("9"),Ki=function(){if(!$.addEventListener||!Object.defineProperty)return!1;var u=!1,f=Object.defineProperty({},"passive",{get:function(){u=!0}});try{$.addEventListener("test",Ne,f),$.removeEventListener("test",Ne,f)}catch{}return u}();function gr(u,f){this.type=u,this.b=this.target=f,this.defaultPrevented=!1}function ne(u,f){if(gr.call(this,u?u.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,u){var v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.b=f,f=u.relatedTarget){if(_i){e:{try{gt(f.nodeName);var D=!0;break e}catch{}D=!1}D||(f=null)}}else"mouseover"==v?f=u.fromElement:"mouseout"==v&&(f=u.toElement);this.relatedTarget=f,w?(this.clientX=void 0!==w.clientX?w.clientX:w.pageX,this.clientY=void 0!==w.clientY?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:Yi[u.pointerType]||"",this.a=u,u.defaultPrevented&&this.preventDefault()}}gr.prototype.preventDefault=function(){this.defaultPrevented=!0},ct(ne,gr);var Yi=Wi({2:"touch",3:"pen",4:"mouse"});ne.prototype.preventDefault=function(){ne.bb.preventDefault.call(this);var u=this.a;if(u.preventDefault)u.preventDefault();else if(u.returnValue=!1,sc)try{(u.ctrlKey||112<=u.keyCode&&123>=u.keyCode)&&(u.keyCode=-1)}catch{}},ne.prototype.g=function(){return this.a};var Le="closure_listenable_"+(1e6*Math.random()|0),Dd=0;function ac(u,f,v,w,D){this.listener=u,this.proxy=null,this.src=f,this.type=v,this.capture=!!w,this.Wa=D,this.key=++Dd,this.wa=this.Qa=!1}function cc(u){u.wa=!0,u.listener=null,u.proxy=null,u.src=null,u.Wa=null}function af(u){this.src=u,this.a={},this.b=0}function cf(u,f){var v=f.type;v in u.a&&An(u.a[v],f)&&(cc(f),0==u.a[v].length&&(delete u.a[v],u.b--))}function Hp(u,f,v,w){for(var D=0;D<u.length;++D){var k=u[D];if(!k.wa&&k.listener==f&&k.capture==!!v&&k.Wa==w)return D}return-1}af.prototype.add=function(u,f,v,w,D){var k=u.toString();(u=this.a[k])||(u=this.a[k]=[],this.b++);var N=Hp(u,f,w,D);return-1<N?(f=u[N],v||(f.Qa=!1)):((f=new ac(f,this.src,k,!!w,D)).Qa=v,u.push(f)),f};var Ho="closure_lm_"+(1e6*Math.random()|0),Jc={};function sr(u,f,v,w,D){if(w&&w.once)eu(u,f,v,w,D);else if(Array.isArray(f))for(var k=0;k<f.length;k++)sr(u,f[k],v,w,D);else v=lc(v),u&&u[Le]?$p(u,f,v,ft(w)?!!w.capture:!!w,D):hn(u,f,v,!1,w,D)}function hn(u,f,v,w,D,k){if(!f)throw Error("Invalid event type");var N=ft(D)?!!D.capture:!!D,V=uc(u);if(V||(u[Ho]=V=new af(u)),!(v=V.add(f,v,w,N,k)).proxy)if(w=function Id(){var u=Sd,f=wi?function(v){return u.call(f.src,f.listener,v)}:function(v){if(!(v=u.call(f.src,f.listener,v)))return v};return f}(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)Ki||(D=N),void 0===D&&(D=!1),u.addEventListener(f.toString(),w,D);else if(u.attachEvent)u.attachEvent(Ps(f.toString()),w);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(w)}}function eu(u,f,v,w,D){if(Array.isArray(f))for(var k=0;k<f.length;k++)eu(u,f[k],v,w,D);else v=lc(v),u&&u[Le]?cr(u,f,v,ft(w)?!!w.capture:!!w,D):hn(u,f,v,!0,w,D)}function Xi(u,f,v,w,D){if(Array.isArray(f))for(var k=0;k<f.length;k++)Xi(u,f[k],v,w,D);else w=ft(w)?!!w.capture:!!w,v=lc(v),u&&u[Le]?(u=u.v,(f=String(f).toString())in u.a&&-1<(v=Hp(k=u.a[f],v,w,D))&&(cc(k[v]),Array.prototype.splice.call(k,v,1),0==k.length&&(delete u.a[f],u.b--))):u&&(u=uc(u))&&(f=u.a[f.toString()],u=-1,f&&(u=Hp(f,v,w,D)),(v=-1<u?f[u]:null)&&zp(v))}function zp(u){if("number"!=typeof u&&u&&!u.wa){var f=u.src;if(f&&f[Le])cf(f.v,u);else{var v=u.type,w=u.proxy;f.removeEventListener?f.removeEventListener(v,w,u.capture):f.detachEvent?f.detachEvent(Ps(v),w):f.addListener&&f.removeListener&&f.removeListener(w),(v=uc(f))?(cf(v,u),0==v.b&&(v.src=null,f[Ho]=null)):cc(u)}}}function Ps(u){return u in Jc?Jc[u]:Jc[u]="on"+u}function ha(u,f,v,w){var D=!0;if((u=uc(u))&&(f=u.a[f.toString()]))for(f=f.concat(),u=0;u<f.length;u++){var k=f[u];k&&k.capture==v&&!k.wa&&(k=tu(k,w),D=D&&!1!==k)}return D}function tu(u,f){var v=u.listener,w=u.Wa||u.src;return u.Qa&&zp(u),v.call(w,f)}function Sd(u,f){if(u.wa)return!0;if(!wi){if(!f)e:{f=["window","event"];for(var v=$,w=0;w<f.length;w++)if(null==(v=v[f[w]])){f=null;break e}f=v}if(f=new ne(w=f,this),v=!0,!(0>w.keyCode||null!=w.returnValue)){e:{var D=!1;if(0==w.keyCode)try{w.keyCode=-1;break e}catch{D=!0}(D||null==w.returnValue)&&(w.returnValue=!0)}for(w=[],D=f.b;D;D=D.parentNode)w.push(D);for(u=u.type,D=w.length-1;0<=D;D--){f.b=w[D];var k=ha(w[D],u,!0,f);v=v&&k}for(D=0;D<w.length;D++)f.b=w[D],k=ha(w[D],u,!1,f),v=v&&k}return v}return tu(u,new ne(f,this))}function uc(u){return(u=u[Ho])instanceof af?u:null}var Td="__closure_events_fn_"+(1e9*Math.random()>>>0);function lc(u){return Bt(u)?u:(u[Td]||(u[Td]=function(f){return u.handleEvent(f)}),u[Td])}function ar(){In.call(this),this.v=new af(this),this.bc=this,this.hb=null}function $p(u,f,v,w,D){u.v.add(String(f),v,!1,w,D)}function cr(u,f,v,w,D){u.v.add(String(f),v,!0,w,D)}function xd(u,f,v,w){if(!(f=u.v.a[String(f)]))return!0;f=f.concat();for(var D=!0,k=0;k<f.length;++k){var N=f[k];if(N&&!N.wa&&N.capture==v){var V=N.listener,me=N.Wa||N.src;N.Qa&&cf(u.v,N),D=!1!==V.call(me,w)&&D}}return D&&!w.defaultPrevented}function uf(u,f,v){if(Bt(u))v&&(u=Ke(u,v));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=Ke(u.handleEvent,u)}return 2147483647<Number(f)?-1:$.setTimeout(u,f||0)}function Xu(u){var f=null;return new kt(function(v,w){-1==(f=uf(function(){v(void 0)},u))&&w(Error("Failed to schedule timer."))}).o(function(v){throw $.clearTimeout(f),v})}function mg(u){if(u.X&&"function"==typeof u.X)return u.X();if("string"==typeof u)return u.split("");if(Nt(u)){for(var f=[],v=u.length,w=0;w<v;w++)f.push(u[w]);return f}for(w in f=[],v=0,u)f[v++]=u[w];return f}function zo(u){if(u.Y&&"function"==typeof u.Y)return u.Y();if(!u.X||"function"!=typeof u.X){if(Nt(u)||"string"==typeof u){var f=[];u=u.length;for(var v=0;v<u;v++)f.push(v);return f}for(var w in f=[],v=0,u)f[v++]=w;return f}}function dc(u,f){this.b={},this.a=[],this.c=0;var v=arguments.length;if(1<v){if(v%2)throw Error("Uneven number of arguments");for(var w=0;w<v;w+=2)this.set(arguments[w],arguments[w+1])}else if(u)if(u instanceof dc)for(v=u.Y(),w=0;w<v.length;w++)this.set(v[w],u.get(v[w]));else for(w in u)this.set(w,u[w])}function lf(u){if(u.c!=u.a.length){for(var f=0,v=0;f<u.a.length;){var w=u.a[f];Fs(u.b,w)&&(u.a[v++]=w),f++}u.a.length=v}if(u.c!=u.a.length){var D={};for(v=f=0;f<u.a.length;)Fs(D,w=u.a[f])||(u.a[v++]=w,D[w]=1),f++;u.a.length=v}}function Fs(u,f){return Object.prototype.hasOwnProperty.call(u,f)}ct(ar,In),ar.prototype[Le]=!0,ar.prototype.addEventListener=function(u,f,v,w){sr(this,u,f,v,w)},ar.prototype.removeEventListener=function(u,f,v,w){Xi(this,u,f,v,w)},ar.prototype.dispatchEvent=function(u){var f,v=this.hb;if(v)for(f=[];v;v=v.hb)f.push(v);v=this.bc;var w=u.type||u;if("string"==typeof u)u=new gr(u,v);else if(u instanceof gr)u.target=u.target||v;else{var D=u;oe(u=new gr(w,v),D)}if(D=!0,f)for(var k=f.length-1;0<=k;k--){var N=u.b=f[k];D=xd(N,w,!0,u)&&D}if(D=xd(N=u.b=v,w,!0,u)&&D,D=xd(N,w,!1,u)&&D,f)for(k=0;k<f.length;k++)D=xd(N=u.b=f[k],w,!1,u)&&D;return D},ar.prototype.Da=function(){if(ar.bb.Da.call(this),this.v){var v,u=this.v;for(v in u.a){for(var w=u.a[v],D=0;D<w.length;D++)cc(w[D]);delete u.a[v],u.b--}}this.hb=null},(T=dc.prototype).X=function(){lf(this);for(var u=[],f=0;f<this.a.length;f++)u.push(this.b[this.a[f]]);return u},T.Y=function(){return lf(this),this.a.concat()},T.clear=function(){this.b={},this.c=this.a.length=0},T.get=function(u,f){return Fs(this.b,u)?this.b[u]:f},T.set=function(u,f){Fs(this.b,u)||(this.c++,this.a.push(u)),this.b[u]=f},T.forEach=function(u,f){for(var v=this.Y(),w=0;w<v.length;w++){var D=v[w],k=this.get(D);u.call(f,k,D,this)}};var qp=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ls(u,f){var v;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,u instanceof Ls?(this.i=void 0!==f?f:u.i,Ad(this,u.c),this.l=u.l,this.a=u.a,nu(this,u.g),this.f=u.f,ru(this,Gp(u.b)),this.h=u.h):u&&(v=String(u).match(qp))?(this.i=!!f,Ad(this,v[1]||"",!0),this.l=Sn(v[2]||""),this.a=Sn(v[3]||"",!0),nu(this,v[4]),this.f=Sn(v[5]||"",!0),ru(this,v[6]||"",!0),this.h=Sn(v[7]||"")):(this.i=!!f,this.b=new lo(null,this.i))}function Ad(u,f,v){u.c=v?Sn(f,!0):f,u.c&&(u.c=u.c.replace(/:$/,""))}function nu(u,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);u.g=f}else u.g=null}function ru(u,f,v){f instanceof lo?(u.b=f,function Ue(u,f){f&&!u.f&&(Sr(u),u.c=null,u.a.forEach(function(v,w){var D=w.toLowerCase();w!=D&&($o(this,w),fc(this,D,v))},u)),u.f=f}(u.b,u.i)):(v||(f=hc(f,ai)),u.b=new lo(f,u.i))}function xt(u,f,v){u.b.set(f,v)}function Qi(u,f){return u.b.get(f)}function Ei(u){return u instanceof Ls?new Ls(u):new Ls(u,void 0)}function Md(u,f,v,w){var D=new Ls(null,void 0);return u&&Ad(D,u),f&&(D.a=f),v&&nu(D,v),w&&(D.f=w),D}function Sn(u,f){return u?f?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hc(u,f,v){return"string"==typeof u?(u=encodeURI(u).replace(f,vg),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function vg(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}Ls.prototype.toString=function(){var u=[],f=this.c;f&&u.push(hc(f,fn,!0),":");var v=this.a;return(v||"file"==f)&&(u.push("//"),(f=this.l)&&u.push(hc(f,fn,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(v=this.g)&&u.push(":",String(v))),(v=this.f)&&(this.a&&"/"!=v.charAt(0)&&u.push("/"),u.push(hc(v,"/"==v.charAt(0)?sn:si,!0))),(v=this.b.toString())&&u.push("?",v),(v=this.h)&&u.push("#",hc(v,Ci)),u.join("")},Ls.prototype.resolve=function(u){var f=new Ls(this),v=!!u.c;v?Ad(f,u.c):v=!!u.l,v?f.l=u.l:v=!!u.a,v?f.a=u.a:v=null!=u.g;var w=u.f;if(v)nu(f,u.g);else if(v=!!u.f){if("/"!=w.charAt(0))if(this.a&&!this.f)w="/"+w;else{var D=f.f.lastIndexOf("/");-1!=D&&(w=f.f.substr(0,D+1)+w)}if(".."==(D=w)||"."==D)w="";else if(It(D,"./")||It(D,"/.")){w=0==D.lastIndexOf("/",0),D=D.split("/");for(var k=[],N=0;N<D.length;){var V=D[N++];"."==V?w&&N==D.length&&k.push(""):".."==V?((1<k.length||1==k.length&&""!=k[0])&&k.pop(),w&&N==D.length&&k.push("")):(k.push(V),w=!0)}w=k.join("/")}else w=D}return v?f.f=w:v=""!==u.b.toString(),v?ru(f,Gp(u.b)):v=!!u.h,v&&(f.h=u.h),f};var fn=/[#\/\?@]/g,si=/[#\?:]/g,sn=/[#\?]/g,ai=/[#\?@]/g,Ci=/#/g;function lo(u,f){this.b=this.a=null,this.c=u||null,this.f=!!f}function Sr(u){u.a||(u.a=new dc,u.b=0,u.c&&function fa(u,f){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var w=u[v].indexOf("="),D=null;if(0<=w){var k=u[v].substring(0,w);D=u[v].substring(w+1)}else k=u[v];f(k,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}(u.c,function(f,v){u.add(decodeURIComponent(f.replace(/\+/g," ")),v)}))}function Qu(u){var f=zo(u);if(typeof f>"u")throw Error("Keys are undefined");var v=new lo(null,void 0);u=mg(u);for(var w=0;w<f.length;w++){var D=f[w],k=u[w];Array.isArray(k)?fc(v,D,k):v.add(D,k)}return v}function $o(u,f){Sr(u),f=Rn(u,f),Fs(u.a.b,f)&&(u.c=null,u.b-=u.a.get(f).length,Fs((u=u.a).b,f)&&(delete u.b[f],u.c--,u.a.length>2*u.c&&lf(u)))}function iu(u,f){return Sr(u),f=Rn(u,f),Fs(u.a.b,f)}function fc(u,f,v){$o(u,f),0<v.length&&(u.c=null,u.a.set(Rn(u,f),Pn(v)),u.b+=v.length)}function Gp(u){var f=new lo;return f.c=u.c,u.a&&(f.a=new dc(u.a),f.b=u.b),f}function Rn(u,f){return f=String(f),u.f&&(f=f.toLowerCase()),f}function Mt(u){var f=[];return Yn(new Ln,u,f),f.join("")}function Ln(){}function Yn(u,f,v){if(null==f)v.push("null");else{if("object"==typeof f){if(Array.isArray(f)){var w=f;f=w.length,v.push("[");for(var D="",k=0;k<f;k++)v.push(D),Yn(u,w[k],v),D=",";return void v.push("]")}if(!(f instanceof String||f instanceof Number||f instanceof Boolean)){for(w in v.push("{"),D="",f)Object.prototype.hasOwnProperty.call(f,w)&&"function"!=typeof(k=f[w])&&(v.push(D),qo(w,v),v.push(":"),Yn(u,k,v),D=",");return void v.push("}")}f=f.valueOf()}switch(typeof f){case"string":qo(f,v);break;case"number":v.push(isFinite(f)&&!isNaN(f)?String(f):"null");break;case"boolean":v.push(String(f));break;case"function":v.push("null");break;default:throw Error("Unknown type: "+typeof f)}}}(T=lo.prototype).add=function(u,f){Sr(this),this.c=null,u=Rn(this,u);var v=this.a.get(u);return v||this.a.set(u,v=[]),v.push(f),this.b+=1,this},T.clear=function(){this.a=this.c=null,this.b=0},T.forEach=function(u,f){Sr(this),this.a.forEach(function(v,w){yt(v,function(D){u.call(f,D,w,this)},this)},this)},T.Y=function(){Sr(this);for(var u=this.a.X(),f=this.a.Y(),v=[],w=0;w<f.length;w++)for(var D=u[w],k=0;k<D.length;k++)v.push(f[w]);return v},T.X=function(u){Sr(this);var f=[];if("string"==typeof u)iu(this,u)&&(f=cn(f,this.a.get(Rn(this,u))));else{u=this.a.X();for(var v=0;v<u.length;v++)f=cn(f,u[v])}return f},T.set=function(u,f){return Sr(this),this.c=null,iu(this,u=Rn(this,u))&&(this.b-=this.a.get(u).length),this.a.set(u,[f]),this.b+=1,this},T.get=function(u,f){return u&&0<(u=this.X(u)).length?String(u[0]):f},T.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var u=[],f=this.a.Y(),v=0;v<f.length;v++){var w=f[v],D=encodeURIComponent(String(w));w=this.X(w);for(var k=0;k<w.length;k++){var N=D;""!==w[k]&&(N+="="+encodeURIComponent(String(w[k]))),u.push(N)}}return this.c=u.join("&")};var ou={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Di=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function qo(u,f){f.push('"',u.replace(Di,function(v){var w=ou[v];return w||(w="\\u"+(65536|v.charCodeAt(0)).toString(16).substr(1),ou[v]=w),w}),'"')}function Jn(){var u=vr();return Vo&&!!Eo&&11==Eo||/Edge\/\d+/.test(u)}function Co(){return $.window&&$.window.location.href||self&&self.location&&self.location.href||""}function js(u,f){f=f||$.window;var v="about:blank";u&&(v=ks(Fn(u)||sa)),f.location.href=v}function St(u,f){var w,v=[];for(w in u)w in f?typeof u[w]!=typeof f[w]?v.push(w):"object"==typeof u[w]&&null!=u[w]&&null!=f[w]?0<St(u[w],f[w]).length&&v.push(w):u[w]!==f[w]&&v.push(w):v.push(w);for(w in f)w in u||v.push(w);return v}function Rd(u){return!!((u=(u||vr()).toLowerCase()).match(/android/)||u.match(/webos/)||u.match(/iphone|ipad|ipod/)||u.match(/blackberry/)||u.match(/windows phone/)||u.match(/iemobile/))}function Do(u){u=u||$.window;try{u.close()}catch{}}function qn(u,f,v){var w=Math.floor(1e9*Math.random()).toString();f=f||500,v=v||600;var D=(window.screen.availHeight-v)/2,k=(window.screen.availWidth-f)/2;for(N in f={width:f,height:v,top:0<D?D:0,left:0<k?k:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},v=vr().toLowerCase(),w&&(f.target=w,It(v,"crios/")&&(f.target="_blank")),Ze(vr())==su&&(u=u||"http://localhost",f.scrollbars=!0),v=u||"",(u=f)||(u={}),w=window,f=v instanceof ln?v:Fn(typeof v.href<"u"?v.href:String(v))||sa,v=u.target||v.target,D=[],u)switch(N){case"width":case"height":case"top":case"left":D.push(N+"="+u[N]);break;case"target":case"noopener":case"noreferrer":break;default:D.push(N+"="+(u[N]?1:0))}var N=D.join(",");if((Mn("iPhone")&&!Mn("iPod")&&!Mn("iPad")||Mn("iPad")||Mn("iPod"))&&w.navigator&&w.navigator.standalone&&v&&"_self"!=v?(X(N=ke(document,"A"),"HTMLAnchorElement"),f=f instanceof ln?f:tc(f),N.href=ks(f),N.setAttribute("target",v),u.noreferrer&&N.setAttribute("rel","noreferrer"),(u=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,w,1),N.dispatchEvent(u),N={}):u.noreferrer?(N=aa("",w,v,N),u=ks(f),N&&(Os&&It(u,";")&&(u="'"+u.replace(/'/g,"%27")+"'"),N.opener=null,u='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+os(u)+'">',u=new ot(u=(w=Br())?w.createHTML(u):u,null,Kc),w=N.document)&&(w.write(function Wc(u){return u instanceof ot&&u.constructor===ot?u.a:(J("expected object of type SafeHtml, got '"+u+"' of type "+jt(u)),"type_error:SafeHtml")}(u)),w.close())):(N=aa(f,w,v,N))&&u.noopener&&(N.opener=null),N)try{N.focus()}catch{}return N}var kd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pa=/^[^@]+@[^@]+$/;function Hr(){var u=null;return new kt(function(f){"complete"==$.document.readyState?f():(u=function(){f()},eu(window,"load",u))}).o(function(f){throw Xi(window,"load",u),f})}function _e(u){return u=u||vr(),!("file:"!==At()&&"ionic:"!==At()||!u.toLowerCase().match(/iphone|ipad|ipod|android/))}function Tr(){var u=$.window;try{return!(!u||u==u.top)}catch{return!1}}function Ii(){return typeof $.WorkerGlobalScope<"u"&&"function"==typeof $.importScripts}function Se(){return ye.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ye.Z.INTERNAL.hasOwnProperty("node")?"Node":Ii()?"Worker":"Browser"}function it(){var u=Se();return"ReactNative"===u||"Node"===u}var su="Firefox",et="Chrome";function Ze(u){var f=u.toLowerCase();return It(f,"opera/")||It(f,"opr/")||It(f,"opios/")?"Opera":It(f,"iemobile")?"IEMobile":It(f,"msie")||It(f,"trident/")?"IE":It(f,"edge/")?"Edge":It(f,"firefox/")?su:It(f,"silk/")?"Silk":It(f,"blackberry")?"Blackberry":It(f,"webos")?"Webos":!It(f,"safari/")||It(f,"chrome/")||It(f,"crios/")||It(f,"android")?!It(f,"chrome/")&&!It(f,"crios/")||It(f,"edge/")?It(f,"android")?"Android":(u=u.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==u.length?u[1]:"Other":et:"Safari"}var Pe={md:"FirebaseCore-web",od:"FirebaseUI-web"};function us(u,f){f=f||[];var D,v=[],w={};for(D in Pe)w[Pe[D]]=!0;for(D=0;D<f.length;D++)typeof w[f[D]]<"u"&&(delete w[f[D]],v.push(f[D]));return v.sort(),(f=v).length||(f=["FirebaseCore-web"]),"Browser"===(v=Se())?v=Ze(w=vr()):"Worker"===v&&(v=Ze(w=vr())+"-"+v),v+"/JsCore/"+u+"/"+f.join(",")}function vr(){return $.navigator&&$.navigator.userAgent||""}function Be(u,f){u=u.split("."),f=f||$;for(var v=0;v<u.length&&"object"==typeof f&&null!=f;v++)f=f[u[v]];return v!=u.length&&(f=void 0),f}function au(){try{var u=$.localStorage,f=Wt();if(u)return u.setItem(f,"1"),u.removeItem(f),!Jn()||!!$.indexedDB}catch{return Ii()&&!!$.indexedDB}return!1}function xr(){return(Cn()||"chrome-extension:"===At()||_e())&&!it()&&au()&&!Ii()}function Cn(){return"http:"===At()||"https:"===At()}function At(){return $.location&&$.location.protocol||null}function Go(u){return!(Rd(u=u||vr())||Ze(u)==su)}function ho(u){return typeof u>"u"?null:Mt(u)}function Io(u){var v,f={};for(v in u)u.hasOwnProperty(v)&&null!=u[v]&&(f[v]=u[v]);return f}function ma(u){if(null!==u)return JSON.parse(u)}function Wt(u){return u||Math.floor(1e9*Math.random()).toString()}function yg(u){return!("Safari"==Ze(u=u||vr())||u.toLowerCase().match(/iphone|ipad|ipod/))}function ls(){var u=$.___jsl;if(u&&u.H)for(var f in u.H)if(u.H[f].r=u.H[f].r||[],u.H[f].L=u.H[f].L||[],u.H[f].r=u.H[f].L.concat(),u.CP)for(var v=0;v<u.CP.length;v++)u.CP[v]=null}function So(u,f){if(u>f)throw Error("Short delay should be less than long delay!");this.a=u,this.c=f,u=vr(),f=Se(),this.b=Rd(u)||"ReactNative"===f}function Si(){var u=$.document;return!(u&&typeof u.visibilityState<"u")||"visible"==u.visibilityState}function ds(u){try{var f=new Date(parseInt(u,10));if(!isNaN(f.getTime())&&!/[^0-9]/.test(u))return f.toUTCString()}catch{}return null}function zr(){return!(!Be("fireauth.oauthhelper",$)&&!Be("fireauth.iframe",$))}So.prototype.get=function(){var u=$.navigator;return u&&"boolean"==typeof u.onLine&&(Cn()||"chrome-extension:"===At()||typeof u.connection<"u")&&!u.onLine?Math.min(5e3,this.a):this.b?this.c:this.a};var pc,bg={};function tl(u){bg[u]||(bg[u]=!0,typeof console<"u"&&"function"==typeof console.warn&&console.warn(u))}try{var Nd={};Object.defineProperty(Nd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Nd,"abcd",{configurable:!0,enumerable:!0,value:2}),pc=2==Nd.abcd}catch{pc=!1}function Ye(u,f,v){pc?Object.defineProperty(u,f,{configurable:!0,enumerable:!0,value:v}):u[f]=v}function He(u,f){if(f)for(var v in f)f.hasOwnProperty(v)&&Ye(u,v,f[v])}function Ji(u){var f={};return He(f,u),f}function cu(u){var f=u;if("object"==typeof u&&null!=u)for(var v in f="length"in u?[]:{},u)Ye(f,v,cu(u[v]));return f}function Wp(u){var f=u&&(u[pf]?"phone":null);if(!(f&&u&&u[ff]))throw new Q("internal-error","Internal assert: invalid MultiFactorInfo object");Ye(this,"uid",u[ff]),Ye(this,"displayName",u[Bs]||null);var v=null;u[To]&&(v=new Date(u[To]).toUTCString()),Ye(this,"enrollmentTime",v),Ye(this,"factorId",f)}function hf(u){try{var f=new yr(u)}catch{f=null}return f}Wp.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Bs="displayName",To="enrolledAt",ff="mfaEnrollmentId",pf="phoneInfo";function yr(u){Wp.call(this,u),Ye(this,"phoneNumber",u[pf])}function Pd(u){var f={},v=u[Kp],w=u[Yp],D=u[Zp];if(u=hf(u[ui]),!D||D!=ga&&D!=ci&&!v||D==ci&&!w||D==Ti&&!u)throw Error("Invalid checkActionCode response!");D==ci?(f[uu]=v||null,f[eo]=v||null,f[mc]=w):(f[uu]=w||null,f[eo]=w||null,f[mc]=v||null),f[Fd]=u||null,Ye(this,mf,D),Ye(this,wg,cu(f))}ct(yr,Wp),yr.prototype.w=function(){var u=yr.bb.w.call(this);return u.phoneNumber=this.phoneNumber,u};var Ti="REVERT_SECOND_FACTOR_ADDITION",ga="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",Kp="email",ui="mfaInfo",Yp="newEmail",Zp="requestType",mc="email",uu="fromEmail",Fd="multiFactorInfo",eo="previousEmail",wg="data",mf="operation";function lu(u){var f=Qi(u=Ei(u),gc)||null,v=Qi(u,Xp)||null,w=Qi(u,Gv)||null;if(w=w&&gf[w]||null,!f||!v||!w)throw new Q("argument-error",gc+", "+Xp+"and "+Gv+" are required in a valid action code URL.");He(this,{apiKey:f,operation:w,code:v,continueUrl:Qi(u,x_)||null,languageCode:Qi(u,A_)||null,tenantId:Qi(u,Ld)||null})}var gc="apiKey",Xp="oobCode",x_="continueUrl",A_="languageCode",Gv="mode",Ld="tenantId",gf={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Ti,signIn:ga,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function rl(u){try{return new lu(u)}catch{return null}}function jd(u){var f=u[Vd];if(typeof f>"u")throw new Q("missing-continue-uri");if("string"!=typeof f||"string"==typeof f&&!f.length)throw new Q("invalid-continue-uri");this.h=f,this.b=this.a=null,this.g=!1;var v=u[Bd];if(v&&"object"==typeof v){f=v[Hd];var w=v[Ud];if(v=v[il],"string"==typeof f&&f.length){if(this.a=f,typeof w<"u"&&"boolean"!=typeof w)throw new Q("argument-error",Ud+" property must be a boolean when specified.");if(this.g=!!w,typeof v<"u"&&("string"!=typeof v||"string"==typeof v&&!v.length))throw new Q("argument-error",il+" property must be a non empty string when specified.");this.b=v||null}else{if(typeof f<"u")throw new Q("argument-error",Hd+" property must be a non empty string when specified.");if(typeof w<"u"||typeof v<"u")throw new Q("missing-android-pkg-name")}}else if(typeof v<"u")throw new Q("argument-error",Bd+" property must be a non null object when specified.");if(this.f=null,(f=u[Eg])&&"object"==typeof f){if("string"==typeof(f=f[vf])&&f.length)this.f=f;else if(typeof f<"u")throw new Q("argument-error",vf+" property must be a non empty string when specified.")}else if(typeof f<"u")throw new Q("argument-error",Eg+" property must be a non null object when specified.");if(typeof(f=u[xo])<"u"&&"boolean"!=typeof f)throw new Q("argument-error",xo+" property must be a boolean when specified.");if(this.c=!!f,typeof(u=u[Qp])<"u"&&("string"!=typeof u||"string"==typeof u&&!u.length))throw new Q("argument-error",Qp+" property must be a non empty string when specified.");this.i=u||null}var Bd="android",Qp="dynamicLinkDomain",xo="handleCodeInApp",Eg="iOS",Vd="url",Ud="installApp",il="minimumVersion",Hd="packageName",vf="bundleId";function ol(u){var f={};for(var v in f.continueUrl=u.h,f.canHandleCodeInApp=u.c,(f.androidPackageName=u.a)&&(f.androidMinimumVersion=u.b,f.androidInstallApp=u.g),f.iOSBundleId=u.f,f.dynamicLinkDomain=u.i,f)null===f[v]&&delete f[v];return f}var xi=null;function zd(u){var f=va(u);if(!(f&&f.sub&&f.iss&&f.aud&&f.exp))throw Error("Invalid JWT");this.h=u,this.a=f.exp,this.i=f.sub,u=Date.now()/1e3,this.g=f.iat||(u>this.a?this.a:u),this.b=f.provider_id||f.firebase&&f.firebase.sign_in_provider||null,this.f=f.firebase&&f.firebase.tenant||null,this.c=!!f.is_anonymous||"anonymous"==this.b}function vc(u){try{return new zd(u)}catch{return null}}function va(u){if(!u||3!=(u=u.split(".")).length)return null;for(var f=(4-(u=u[1]).length%4)%4,v=0;v<f;v++)u+=".";try{var w=function Cg(u){var f=[];return function al(u,f){function v(me){for(;w<u.length;){var c=u.charAt(w++),s=xi[c];if(null!=s)return s;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c)}return me}!function Dg(){if(!xi){xi={};for(var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),f=["+/=","+/","-_=","-_.","-_"],v=0;5>v;v++)for(var w=u.concat(f[v].split("")),D=0;D<w.length;D++){var k=w[D];void 0===xi[k]&&(xi[k]=D)}}}();for(var w=0;;){var D=v(-1),k=v(0),N=v(64),V=v(64);if(64===V&&-1===D)break;f(D<<2|k>>4),64!=N&&(f(k<<4&240|N>>2),64!=V&&f(N<<6&192|V))}}(u,function(v){f.push(v)}),f}(u);for(u=[],v=f=0;f<w.length;){var D=w[f++];if(128>D)u[v++]=String.fromCharCode(D);else if(191<D&&224>D){var k=w[f++];u[v++]=String.fromCharCode((31&D)<<6|63&k)}else if(239<D&&365>D){k=w[f++];var N=w[f++],me=((7&D)<<18|(63&k)<<12|(63&N)<<6|63&w[f++])-65536;u[v++]=String.fromCharCode(55296+(me>>10)),u[v++]=String.fromCharCode(56320+(1023&me))}else k=w[f++],N=w[f++],u[v++]=String.fromCharCode((15&D)<<12|(63&k)<<6|63&N)}return JSON.parse(u.join(""))}catch{}return null}zd.prototype.T=function(){return this.f},zd.prototype.l=function(){return this.c},zd.prototype.toString=function(){return this.h};var Jp="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),$d=["client_id","response_type","scope","redirect_uri","state"],yf={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:$d},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:$d},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:$d},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Jp},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function qd(u){for(var f in yf)if(yf[f].fa==u)return yf[f];return null}function cl(u){var f={};f["facebook.com"]=ya,f["google.com"]=vn,f["github.com"]=wf,f["twitter.com"]=Gd;var v=u&&u[_f];try{if(v)return f[v]?new f[v](u):new er(u);if(typeof u[em]<"u")return new bf(u)}catch{}return null}var em="idToken",_f="providerId";function bf(u){var f=u[_f];if(!f&&u[em]){var v=vc(u[em]);v&&v.b&&(f=v.b)}if(!f)throw Error("Invalid additional user info!");("anonymous"==f||"custom"==f)&&(f=null),v=!1,typeof u.isNewUser<"u"?v=!!u.isNewUser:"identitytoolkit#SignupNewUserResponse"===u.kind&&(v=!0),Ye(this,"providerId",f),Ye(this,"isNewUser",v)}function er(u){bf.call(this,u),Ye(this,"profile",cu((u=ma(u.rawUserInfo||"{}"))||{}))}function ya(u){if(er.call(this,u),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function wf(u){if(er.call(this,u),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ye(this,"username",this.profile&&this.profile.login||null)}function vn(u){if(er.call(this,u),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Gd(u){if(er.call(this,u),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ye(this,"username",u.screenName||null)}function Vs(u){var f=Ei(u),v=Qi(f,"link"),w=Qi(Ei(v),"link");return f=Qi(f,"deep_link_id"),Qi(Ei(f),"link")||f||w||v||u}function li(u,f){if(!u&&!f)throw new Q("internal-error","Internal assert: no raw session string available");if(u&&f)throw new Q("internal-error","Internal assert: unable to determine the session type");this.a=u||null,this.b=f||null,this.type=this.a?ul:_a}ct(er,bf),ct(ya,er),ct(wf,er),ct(vn,er),ct(Gd,er);var ul="enroll",_a="signin";function fs(){}function yn(u,f){return u.then(function(v){if(v[go]){var w=vc(v[go]);if(!w||f!=w.i)throw new Q("user-mismatch");return v}throw new Q("user-mismatch")}).o(function(v){throw v&&v.code&&v.code==On+"user-not-found"?new Q("user-mismatch"):v})}function Us(u,f){if(!f)throw new Q("internal-error","failed to construct a credential");this.a=f,Ye(this,"providerId",u),Ye(this,"signInMethod",u)}function ll(u){return{pendingToken:u.a,requestUri:"http://localhost"}}function Wv(u){if(u&&u.providerId&&u.signInMethod&&0==u.providerId.indexOf("saml.")&&u.pendingToken)try{return new Us(u.providerId,u.pendingToken)}catch{}return null}function di(u,f,v){if(this.a=null,f.idToken||f.accessToken)f.idToken&&Ye(this,"idToken",f.idToken),f.accessToken&&Ye(this,"accessToken",f.accessToken),f.nonce&&!f.pendingToken&&Ye(this,"nonce",f.nonce),f.pendingToken&&(this.a=f.pendingToken);else{if(!f.oauthToken||!f.oauthTokenSecret)throw new Q("internal-error","failed to construct a credential");Ye(this,"accessToken",f.oauthToken),Ye(this,"secret",f.oauthTokenSecret)}Ye(this,"providerId",u),Ye(this,"signInMethod",v)}function Ef(u){var f={};return u.idToken&&(f.id_token=u.idToken),u.accessToken&&(f.access_token=u.accessToken),u.secret&&(f.oauth_token_secret=u.secret),f.providerId=u.providerId,u.nonce&&!u.a&&(f.nonce=u.nonce),f={postBody:Qu(f).toString(),requestUri:"http://localhost"},u.a&&(delete f.postBody,f.pendingToken=u.a),f}function Ig(u){if(u&&u.providerId&&u.signInMethod){var f={idToken:u.oauthIdToken,accessToken:u.oauthTokenSecret?null:u.oauthAccessToken,oauthTokenSecret:u.oauthTokenSecret,oauthToken:u.oauthTokenSecret&&u.oauthAccessToken,nonce:u.nonce,pendingToken:u.pendingToken};try{return new di(u.providerId,f,u.signInMethod)}catch{}}return null}function ba(u,f){this.Qc=f||[],He(this,{providerId:u,isOAuthProvider:!0}),this.Jb={},this.qb=(qd(u)||{}).Ja||null,this.pb=null}function du(u){if("string"!=typeof u||0!=u.indexOf("saml."))throw new Q("argument-error",'SAML provider IDs must be prefixed with "saml."');ba.call(this,u,[])}function Ar(u){ba.call(this,u,$d),this.a=[]}function yc(){Ar.call(this,"facebook.com")}function vt(u){if(!u)throw new Q("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=u;return ft(u)&&(f=u.accessToken),(new yc).credential({accessToken:f})}function wa(){Ar.call(this,"github.com")}function $r(u){if(!u)throw new Q("argument-error","credential failed: expected 1 argument (the OAuth access token).");var f=u;return ft(u)&&(f=u.accessToken),(new wa).credential({accessToken:f})}function Ht(){Ar.call(this,"google.com"),this.Ca("profile")}function dl(u,f){var v=u;return ft(u)&&(v=u.idToken,f=u.accessToken),(new Ht).credential({idToken:v,accessToken:f})}function _c(){ba.call(this,"twitter.com",Jp)}function tm(u,f){var v=u;if(ft(v)||(v={oauthToken:u,oauthTokenSecret:f}),!v.oauthToken||!v.oauthTokenSecret)throw new Q("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new di("twitter.com",v,"twitter.com")}function fo(u,f,v){this.a=u,this.f=f,Ye(this,"providerId","password"),Ye(this,"signInMethod",v===jn.EMAIL_LINK_SIGN_IN_METHOD?jn.EMAIL_LINK_SIGN_IN_METHOD:jn.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Sg(u){return u&&u.email&&u.password?new fo(u.email,u.password,u.signInMethod):null}function jn(){He(this,{providerId:"password",isOAuthProvider:!1})}function Wd(u,f){if(!(f=Hs(f)))throw new Q("argument-error","Invalid email link!");return new fo(u,f.code,jn.EMAIL_LINK_SIGN_IN_METHOD)}function Hs(u){return(u=rl(u=Vs(u)))&&u.operation===ga?u:null}function Gn(u){if(!(u.fb&&u.eb||u.La&&u.ea))throw new Q("internal-error");this.a=u,Ye(this,"providerId","phone"),this.fa="phone",Ye(this,"signInMethod","phone")}function be(u){if(u&&"phone"===u.providerId&&(u.verificationId&&u.verificationCode||u.temporaryProof&&u.phoneNumber)){var f={};return yt(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(v){u[v]&&(f[v]=u[v])}),new Gn(f)}return null}function Kt(u){return u.a.La&&u.a.ea?{temporaryProof:u.a.La,phoneNumber:u.a.ea}:{sessionInfo:u.a.fb,code:u.a.eb}}function Tn(u){try{this.a=u||ye.Z.auth()}catch{throw new Q("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}He(this,{providerId:"phone",isOAuthProvider:!1})}function ps(u,f){if(!u)throw new Q("missing-verification-id");if(!f)throw new Q("missing-verification-code");return new Gn({fb:u,eb:f})}function Mr(u){if(u.temporaryProof&&u.phoneNumber)return new Gn({La:u.temporaryProof,ea:u.phoneNumber});var f=u&&u.providerId;if(!f||"password"===f)return null;var v=u&&u.oauthAccessToken,w=u&&u.oauthTokenSecret,D=u&&u.nonce,k=u&&u.oauthIdToken,N=u&&u.pendingToken;try{switch(f){case"google.com":return dl(k,v);case"facebook.com":return vt(v);case"github.com":return $r(v);case"twitter.com":return tm(v,w);default:return v||w||k||N?N?0==f.indexOf("saml.")?new Us(f,N):new di(f,{pendingToken:N,idToken:u.oauthIdToken,accessToken:u.oauthAccessToken},f):new Ar(f).credential({idToken:k,accessToken:v,rawNonce:D}):null}}catch{return null}}function Cf(u){if(!u.isOAuthProvider)throw new Q("invalid-oauth-provider")}function Pi(u,f,v,w,D,k,N){if(this.c=u,this.b=f||null,this.g=v||null,this.f=w||null,this.i=k||null,this.h=N||null,this.a=D||null,!this.g&&!this.a)throw new Q("invalid-auth-event");if(this.g&&this.a)throw new Q("invalid-auth-event");if(this.g&&!this.f)throw new Q("invalid-auth-event")}function ms(u){return(u=u||{}).type?new Pi(u.type,u.eventId,u.urlResponse,u.sessionId,u.error&&Lr(u.error),u.postBody,u.tenantId):null}function Dn(){this.b=null,this.a=[]}li.prototype.Ha=function(){return rt(this.a?this.a:this.b)},li.prototype.w=function(){return this.type==ul?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},fs.prototype.ka=function(){},fs.prototype.b=function(){},fs.prototype.c=function(){},fs.prototype.w=function(){},Us.prototype.ka=function(u){return Rg(u,ll(this))},Us.prototype.b=function(u,f){var v=ll(this);return v.idToken=f,Nf(u,v)},Us.prototype.c=function(u,f){return yn(lm(u,ll(this)),f)},Us.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},di.prototype.ka=function(u){return Rg(u,Ef(this))},di.prototype.b=function(u,f){var v=Ef(this);return v.idToken=f,Nf(u,v)},di.prototype.c=function(u,f){return yn(lm(u,Ef(this)),f)},di.prototype.w=function(){var u={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(u.oauthIdToken=this.idToken),this.accessToken&&(u.oauthAccessToken=this.accessToken),this.secret&&(u.oauthTokenSecret=this.secret),this.nonce&&(u.nonce=this.nonce),this.a&&(u.pendingToken=this.a),u},ba.prototype.Ka=function(u){return this.Jb=q(u),this},ct(du,ba),ct(Ar,ba),Ar.prototype.Ca=function(u){return rn(this.a,u)||this.a.push(u),this},Ar.prototype.Rb=function(){return Pn(this.a)},Ar.prototype.credential=function(u,f){var v;if(!(v=ft(u)?{idToken:u.idToken||null,accessToken:u.accessToken||null,nonce:u.rawNonce||null}:{idToken:u||null,accessToken:f||null}).idToken&&!v.accessToken)throw new Q("argument-error","credential failed: must provide the ID token and/or the access token.");return new di(this.providerId,v,this.providerId)},ct(yc,Ar),Ye(yc,"PROVIDER_ID","facebook.com"),Ye(yc,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),ct(wa,Ar),Ye(wa,"PROVIDER_ID","github.com"),Ye(wa,"GITHUB_SIGN_IN_METHOD","github.com"),ct(Ht,Ar),Ye(Ht,"PROVIDER_ID","google.com"),Ye(Ht,"GOOGLE_SIGN_IN_METHOD","google.com"),ct(_c,ba),Ye(_c,"PROVIDER_ID","twitter.com"),Ye(_c,"TWITTER_SIGN_IN_METHOD","twitter.com"),fo.prototype.ka=function(u){return this.signInMethod==jn.EMAIL_LINK_SIGN_IN_METHOD?tn(u,kg,{email:this.a,oobCode:this.f}):tn(u,jf,{email:this.a,password:this.f})},fo.prototype.b=function(u,f){return this.signInMethod==jn.EMAIL_LINK_SIGN_IN_METHOD?tn(u,_r,{idToken:f,email:this.a,oobCode:this.f}):tn(u,to,{idToken:f,email:this.a,password:this.f})},fo.prototype.c=function(u,f){return yn(this.ka(u),f)},fo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},He(jn,{PROVIDER_ID:"password"}),He(jn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),He(jn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Gn.prototype.ka=function(u){return u.gb(Kt(this))},Gn.prototype.b=function(u,f){var v=Kt(this);return v.idToken=f,tn(u,sh,v)},Gn.prototype.c=function(u,f){var v=Kt(this);return v.operation="REAUTH",yn(u=tn(u,Al,v),f)},Gn.prototype.w=function(){var u={providerId:"phone"};return this.a.fb&&(u.verificationId=this.a.fb),this.a.eb&&(u.verificationCode=this.a.eb),this.a.La&&(u.temporaryProof=this.a.La),this.a.ea&&(u.phoneNumber=this.a.ea),u},Tn.prototype.gb=function(u,f){var v=this.a.a;return rt(f.verify()).then(function(w){if("string"!=typeof w)throw new Q("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===f.type){var N,D=ft(u)?u.session:null,k=ft(u)?u.phoneNumber:u;return N=D&&D.type==ul?D.Ha().then(function(V){return function Dl(u,f){return tn(u,xl,f).then(function(v){return v.phoneSessionInfo.sessionInfo})}(v,{idToken:V,phoneEnrollmentInfo:{phoneNumber:k,recaptchaToken:w}})}):D&&D.type==_a?D.Ha().then(function(V){return function Il(u,f){return tn(u,ey,f).then(function(v){return v.phoneResponseInfo.sessionInfo})}(v,{mfaPendingCredential:V,mfaEnrollmentId:u.multiFactorHint&&u.multiFactorHint.uid||u.multiFactorUid,phoneSignInInfo:{recaptchaToken:w}})}):function Cl(u,f){return tn(u,Ff,f)}(v,{phoneNumber:k,recaptchaToken:w}),N.then(function(V){return"function"==typeof f.reset&&f.reset(),V},function(V){throw"function"==typeof f.reset&&f.reset(),V})}throw new Q("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},He(Tn,{PROVIDER_ID:"phone"}),He(Tn,{PHONE_SIGN_IN_METHOD:"phone"}),Pi.prototype.getUid=function(){var u=[];return u.push(this.c),this.b&&u.push(this.b),this.f&&u.push(this.f),this.h&&u.push(this.h),u.join("-")},Pi.prototype.T=function(){return this.h},Pi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ea,Kd=null;function If(u){var f="unauthorized-domain",v=void 0,w=Ei(u);u=w.a,"chrome-extension"==(w=w.c)?v=pe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",u):"http"==w||"https"==w?v=pe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",u):f="operation-not-supported-in-this-environment",Q.call(this,f,v)}function bc(u,f,v){Q.call(this,u,v),(u=f||{}).Kb&&Ye(this,"email",u.Kb),u.ea&&Ye(this,"phoneNumber",u.ea),u.credential&&Ye(this,"credential",u.credential),u.$b&&Ye(this,"tenantId",u.$b)}function Rr(u){if(u.code){var f=u.code||"";0==f.indexOf(On)&&(f=f.substring(On.length));var v={credential:Mr(u),$b:u.tenantId};if(u.email)v.Kb=u.email;else if(u.phoneNumber)v.ea=u.phoneNumber;else if(!v.credential)return new Q(f,u.message||void 0);return new bc(f,v,u.message)}return null}function po(){}function Wo(){}function nm(u){if(!u.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var f=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],v=0;v<f.length;v++){var w=f[v];try{return new ActiveXObject(w),u.f=w}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return u.f}function hl(){}function Tg(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=Ke(this.qc,this),this.a.onerror=Ke(this.Tb,this),this.a.onprogress=Ke(this.rc,this),this.a.ontimeout=Ke(this.vc,this)}function rm(u,f){u.readyState=f,u.onreadystatechange&&u.onreadystatechange()}function Yd(u,f,v){this.reset(u,f,v,void 0,void 0)}function Zd(u){this.f=u,this.b=this.c=this.a=null}function fu(u,f){this.name=u,this.value=f}ct(If,Q),ct(bc,Q),bc.prototype.w=function(){var u={code:this.code,message:this.message};this.email&&(u.email=this.email),this.phoneNumber&&(u.phoneNumber=this.phoneNumber),this.tenantId&&(u.tenantId=this.tenantId);var f=this.credential&&this.credential.w();return f&&oe(u,f),u},bc.prototype.toJSON=function(){return this.w()},po.prototype.c=null,ct(Wo,po),Wo.prototype.a=function(){var u=nm(this);return u?new ActiveXObject(u):new XMLHttpRequest},Wo.prototype.b=function(){var u={};return nm(this)&&(u[0]=!0,u[1]=!0),u},Ea=new Wo,ct(hl,po),hl.prototype.a=function(){var u=new XMLHttpRequest;if("withCredentials"in u)return u;if(typeof XDomainRequest<"u")return new Tg;throw Error("Unsupported browser")},hl.prototype.b=function(){return{}},(T=Tg.prototype).open=function(u,f,v){if(null!=v&&!v)throw Error("Only async requests are supported.");this.a.open(u,f)},T.send=function(u){if(u){if("string"!=typeof u)throw Error("Only string data is supported");this.a.send(u)}else this.a.send()},T.abort=function(){this.a.abort()},T.setRequestHeader=function(){},T.getResponseHeader=function(u){return"content-type"==u.toLowerCase()?this.a.contentType:""},T.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,rm(this,4)},T.Tb=function(){this.status=500,this.response=this.responseText="",rm(this,4)},T.vc=function(){this.Tb()},T.rc=function(){this.status=200,rm(this,1)},T.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Yd.prototype.a=null,Yd.prototype.reset=function(u,f,v,w,D){w||qi(),delete this.a},fu.prototype.toString=function(){return this.name};var Kr=new fu("SEVERE",1e3),fl=new fu("WARNING",900),Tf=new fu("CONFIG",700),pl=new fu("FINE",500);function Ko(u){return u.c?u.c:u.a?Ko(u.a):(J("Root logger has no level set."),null)}Zd.prototype.log=function(u,f,v){if(u.value>=Ko(this).value)for(Bt(f)&&(f=f()),u=new Yd(u,String(f),this.f),v&&(u.a=v),v=this;v;)v=v.a};var ml={},gl=null;function Ca(u){var f;if(gl||(gl=new Zd(""),ml[""]=gl,gl.c=Tf),!(f=ml[u])){f=new Zd(u);var v=u.lastIndexOf("."),w=u.substr(v+1);(v=Ca(u.substr(0,v))).b||(v.b={}),v.b[w]=f,f.a=v,ml[u]=f}return f}function Ao(u,f){u&&u.log(pl,f,void 0)}function Xd(u){this.f=u}function Yr(u){ar.call(this),this.u=u,this.h=void 0,this.readyState=Yo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Ca("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}ct(Xd,po),Xd.prototype.a=function(){return new Yr(this.f)},Xd.prototype.b=function(u){return function(){return u}}({}),ct(Yr,ar);var Yo=0;function Zn(u){u.c.read().then(u.pc.bind(u)).catch(u.Va.bind(u))}function vl(u){u.readyState=4,u.g=null,u.c=null,u.m=null,yl(u)}function yl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}function _l(u){ar.call(this),this.headers=new dc,this.D=u||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=im,this.u=this.S=!1}(T=Yr.prototype).open=function(u,f){if(this.readyState!=Yo)throw this.abort(),Error("Error reopening a connection");this.s=u,this.f=f,this.readyState=1,yl(this)},T.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var f={headers:this.l,method:this.s,credentials:this.h,cache:void 0};u&&(f.body=u),this.u.fetch(new Request(this.f,f)).then(this.uc.bind(this),this.Va.bind(this))},T.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,vl(this)),this.readyState=Yo},T.uc=function(u){this.a&&(this.g=u,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=u.headers,this.readyState=2,yl(this)),this.a&&(this.readyState=3,yl(this),this.a&&("arraybuffer"===this.responseType?u.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof $.ReadableStream<"u"&&"body"in u?(this.response=this.responseText="",this.c=u.body.getReader(),this.m=new TextDecoder,Zn(this)):u.text().then(this.tc.bind(this),this.Va.bind(this)))))},T.pc=function(u){if(this.a){var f=this.m.decode(u.value?u.value:new Uint8Array(0),{stream:!u.done});f&&(this.response=this.responseText+=f),u.done?vl(this):yl(this),3==this.readyState&&Zn(this)}},T.tc=function(u){this.a&&(this.response=this.responseText=u,vl(this))},T.sc=function(u){this.a&&(this.response=u,vl(this))},T.Va=function(u){var f=this.i;f&&f.log(fl,"Failed to fetch url "+this.f,u instanceof Error?u:Error(u)),this.a&&vl(this)},T.setRequestHeader=function(u,f){this.l.append(u,f)},T.getResponseHeader=function(u){return this.b?this.b.get(u.toLowerCase())||"":((u=this.i)&&u.log(fl,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},T.getAllResponseHeaders=function(){if(!this.b){var u=this.i;return u&&u.log(fl,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}u=[];for(var f=this.b.entries(),v=f.next();!v.done;)u.push((v=v.value)[0]+": "+v[1]),v=f.next();return u.join("\r\n")},Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(u){this.h=u?"include":"same-origin"}}),ct(_l,ar);var im="";_l.prototype.b=Ca("goog.net.XhrIo");var om=/^https?$/i,sm=["POST","PUT"];function bl(u){return"content-type"==u.toLowerCase()}function zs(u,f){u.c=!1,u.a&&(u.f=!0,u.a.abort(),u.f=!1),u.h=f,Qd(u),wl(u)}function Qd(u){u.J||(u.J=!0,u.dispatchEvent("complete"),u.dispatchEvent("error"))}function Jd(u){if(u.c&&typeof le<"u")if(u.C[1]&&4==Fi(u)&&2==Mf(u))Ao(u.b,kr(u,"Local request error detected and ignored"));else if(u.i&&4==Fi(u))uf(u.Wb,0,u);else if(u.dispatchEvent("readystatechange"),4==Fi(u)){Ao(u.b,kr(u,"Request complete")),u.c=!1;try{var w,f=Mf(u);e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}if(!(w=v)){var D;if(D=0===f){var k=String(u.l).match(qp)[1]||null;if(!k&&$.self&&$.self.location){var N=$.self.location.protocol;k=N.substr(0,N.length-1)}D=!om.test(k?k.toLowerCase():"")}w=D}if(w)u.dispatchEvent("complete"),u.dispatchEvent("success");else{try{var V=2<Fi(u)?u.a.statusText:""}catch(me){Ao(u.b,"Can not get status: "+me.message),V=""}u.h=V+" ["+Mf(u)+"]",Qd(u)}}finally{wl(u)}}}function wl(u,f){if(u.a){Af(u);var v=u.a,w=u.C[0]?Ne:null;u.a=null,u.C=null,f||u.dispatchEvent("ready");try{v.onreadystatechange=w}catch(D){(u=u.b)&&u.log(Kr,"Problem encountered resetting onreadystatechange: "+D.message,void 0)}}}function Af(u){u.a&&u.u&&(u.a.ontimeout=null),u.s&&($.clearTimeout(u.s),u.s=null)}function Fi(u){return u.a?u.a.readyState:0}function Mf(u){try{return 2<Fi(u)?u.a.status:-1}catch{return-1}}function kr(u,f){return f+" ["+u.P+" "+u.l+" "+Mf(u)+"]"}function mu(u){var f=Zo;this.g=[],this.u=f,this.s=u||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Li(u,f,v){u.a=!0,u.c=v,u.f=!f,Kv(u)}function Mo(u){if(u.a){if(!u.v)throw new nr(u);u.v=!1}}function hi(u,f,v,w){u.g.push([f,v,w]),u.a&&Kv(u)}function xg(u){return Tt(u.g,function(f){return Bt(f[1])})}function Kv(u){if(u.h&&u.a&&xg(u)){var f=u.h,v=qr[f];v&&($.clearTimeout(v.a),delete qr[f]),u.h=0}u.b&&(u.b.l--,delete u.b),f=u.c;for(var w=v=!1;u.g.length&&!u.i;){var D=u.g.shift(),k=D[0],N=D[1];if(D=D[2],k=u.f?N:k)try{var V=k.call(D||u.s,f);void 0!==V&&(u.f=u.f&&(V==f||V instanceof Error),u.c=f=V),(ce(f)||"function"==typeof $.Promise&&f instanceof $.Promise)&&(w=!0,u.i=!0)}catch(me){f=me,u.f=!0,xg(u)||(v=!0)}}u.c=f,w&&(V=Ke(u.m,u,!0),w=Ke(u.m,u,!1),f instanceof mu?(hi(f,V,w),f.C=!0):f.then(V,w)),v&&(f=new Zr(f),qr[f.a]=f,u.h=f.a)}function nr(){se.call(this)}function ji(){se.call(this)}function Zr(u){this.a=$.setTimeout(Ke(this.c,this),0),this.b=u}(T=_l.prototype).Ma=function(){typeof le<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Ao(this.b,kr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},T.abort=function(){this.a&&this.c&&(Ao(this.b,kr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wl(this))},T.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),wl(this,!0)),_l.bb.Da.call(this)},T.Wb=function(){this.ya||(this.N||this.i||this.f?Jd(this):this.Jc())},T.Jc=function(){Jd(this)},T.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case im:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var u=this.b;return u&&u.log(Kr,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(f){return Ao(this.b,"Can not get response: "+f.message),null}},mu.prototype.cancel=function(u){if(this.a)this.c instanceof mu&&this.c.cancel();else{if(this.b){var f=this.b;delete this.b,u?f.cancel(u):(f.l--,0>=f.l&&f.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(u=new ji(this),Mo(this),Li(this,!1,u))}},mu.prototype.m=function(u,f){this.i=!1,Li(this,u,f)},mu.prototype.then=function(u,f,v){var w,D,k=new kt(function(N,V){w=N,D=V});return hi(this,w,function(N){N instanceof ji?k.cancel():D(N)}),k.then(u,f,v)},mu.prototype.$goog_Thenable=!0,ct(nr,se),nr.prototype.message="Deferred has already fired",nr.prototype.name="AlreadyCalledError",ct(ji,se),ji.prototype.message="Deferred was canceled",ji.prototype.name="CanceledError",Zr.prototype.c=function(){throw delete qr[this.a],this.b};var qr={};function Xr(u){var f={},v=f.document||document,w=_t(u).toString(),D=ke(document,"SCRIPT"),k={Xb:D,Ma:void 0},N=new mu(k),V=null,me=null!=f.timeout?f.timeout:5e3;return 0<me&&(V=window.setTimeout(function(){Ec(D,!0);var c=new Rf(Ag,"Timeout reached for loading script "+w);Mo(N),Li(N,!1,c)},me),k.Ma=V),D.onload=D.onreadystatechange=function(){D.readyState&&"loaded"!=D.readyState&&"complete"!=D.readyState||(Ec(D,f.xd||!1,V),Mo(N),Li(N,!0,null))},D.onerror=function(){Ec(D,!0,V);var c=new Rf(gu,"Error while loading script "+w);Mo(N),Li(N,!1,c)},oe(k=f.attributes||{},{type:"text/javascript",charset:"UTF-8"}),lt(D,k),function Up(u,f){X(u,"HTMLScriptElement"),u.src=_t(f),(f=u.ownerDocument&&u.ownerDocument.defaultView)&&f!=$?f=xe(f.document):(null===Re&&(Re=xe($.document)),f=Re),f&&u.setAttribute("nonce",f)}(D,u),function Da(u){var f;return(f=(u||document).getElementsByTagName("HEAD"))&&0!=f.length?f[0]:u.documentElement}(v).appendChild(D),N}function Zo(){if(this&&this.Xb){var u=this.Xb;u&&"SCRIPT"==u.tagName&&Ec(u,!0,this.Ma)}}function Ec(u,f,v){null!=v&&$.clearTimeout(v),u.onload=Ne,u.onerror=Ne,u.onreadystatechange=Ne,f&&window.setTimeout(function(){u&&u.parentNode&&u.parentNode.removeChild(u)},0)}var gu=0,Ag=1;function Rf(u,f){var v="Jsloader error (code #"+u+")";f&&(v+=": "+f),se.call(this,v),this.code=u}function mo(u){this.f=u}function Wn(u,f,v){if(this.c=u,this.l=(u=f||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=u.secureTokenTimeout||vu,this.g=q(u.secureTokenHeaders||kf),this.h=u.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=u.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=u.firebaseTimeout||yu,this.a=q(u.firebaseHeaders||_u),v&&(this.a["X-Client-Version"]=v,this.g["X-Client-Version"]=v),v="Node"==Se(),!(v=$.XMLHttpRequest||v&&ye.Z.INTERNAL.node&&ye.Z.INTERNAL.node.XMLHttpRequest)&&!Ii())throw new Q("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=Ii()?new Xd(self):it()?new mo(v):new hl,this.b=null}ct(Rf,se),ct(mo,po),mo.prototype.a=function(){return new this.f},mo.prototype.b=function(){return{}};var Te,go="idToken",vu=new So(3e4,6e4),kf={"Content-Type":"application/x-www-form-urlencoded"},yu=new So(3e4,6e4),_u={"Content-Type":"application/json"};function am(u,f){f?u.a["X-Firebase-Locale"]=f:delete u.a["X-Firebase-Locale"]}function gs(u,f){f&&(u.l=eh("https://securetoken.googleapis.com/v1/token",f),u.h=eh("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",f),u.i=eh("https://identitytoolkit.googleapis.com/v2/",f))}function eh(u,f){return u=Ei(u),f=Ei(f.url),u.f=u.a+u.f,Ad(u,f.c),u.a=f.a,nu(u,f.g),u.toString()}function th(u,f){f?(u.a["X-Client-Version"]=f,u.g["X-Client-Version"]=f):(delete u.a["X-Client-Version"],delete u.g["X-Client-Version"])}function cm(u,f,v,w,D,k,N){(function Ju(){var u=vr();return!((u=Ze(u)!=et?null:(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&30>u||Vo&&Eo&&!(9<Eo))})()||Ii()?u=Ke(u.u,u):(Te||(Te=new kt(function(V,me){!function Yv(u,f){((window.gapi||{}).client||{}).request?u():($[$s]=function(){((window.gapi||{}).client||{}).request?u():f(Error("CORS_UNSUPPORTED"))},function tr(u,f){hi(u,null,f,void 0)}(Xr(yi(Ai,{onload:$s})),function(){f(Error("CORS_UNSUPPORTED"))}))}(V,me)})),u=Ke(u.s,u)),u(f,v,w,D,k,N)}Wn.prototype.T=function(){return this.b},Wn.prototype.u=function(u,f,v,w,D,k){if(Ii()&&(typeof $.fetch>"u"||typeof $.Headers>"u"||typeof $.Request>"u"))throw new Q("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var N=new _l(this.f);if(k){N.g=Math.max(0,k);var V=setTimeout(function(){N.dispatchEvent("timeout")},k)}$p(N,"complete",function(){V&&clearTimeout(V);var me=null;try{me=JSON.parse(function pu(u){try{return u.a?u.a.responseText:""}catch(f){return Ao(u.b,"Can not get responseText: "+f.message),""}}(this))||null}catch{me=null}f&&f(me)}),cr(N,"ready",function(){V&&clearTimeout(V),bi(this)}),cr(N,"timeout",function(){V&&clearTimeout(V),bi(this),f&&f(null)}),function xf(u,f,v,w,D){if(u.a)throw Error("[goog.net.XhrIo] Object is active with another request="+u.l+"; newUri="+f);v=v?v.toUpperCase():"GET",u.l=f,u.h="",u.P=v,u.J=!1,u.c=!0,u.a=u.D?u.D.a():Ea.a(),u.C=function Sf(u){return u.c||(u.c=u.b())}(u.D?u.D:Ea),u.a.onreadystatechange=Ke(u.Wb,u);try{Ao(u.b,kr(u,"Opening Xhr")),u.N=!0,u.a.open(v,String(f),!0),u.N=!1}catch(N){return Ao(u.b,kr(u,"Error opening Xhr: "+N.message)),void zs(u,N)}f=w||"";var k=new dc(u.headers);D&&function gg(u,f){if(u.forEach&&"function"==typeof u.forEach)u.forEach(f,void 0);else if(Nt(u)||"string"==typeof u)yt(u,f,void 0);else for(var v=zo(u),w=mg(u),D=w.length,k=0;k<D;k++)f.call(void 0,w[k],v&&v[k],u)}(D,function(N,V){k.set(V,N)}),D=function Kn(u){e:{for(var f=bl,v=u.length,w="string"==typeof u?u.split(""):u,D=0;D<v;D++)if(D in w&&f.call(void 0,w[D],D,u)){f=D;break e}f=-1}return 0>f?null:"string"==typeof u?u.charAt(f):u[f]}(k.Y()),w=$.FormData&&f instanceof $.FormData,!rn(sm,v)||D||w||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),k.forEach(function(N,V){this.a.setRequestHeader(V,N)},u),u.m&&(u.a.responseType=u.m),"withCredentials"in u.a&&u.a.withCredentials!==u.S&&(u.a.withCredentials=u.S);try{Af(u),0<u.g&&(u.u=function wc(u){return Vo&&nf(9)&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(u.a),Ao(u.b,kr(u,"Will abort after "+u.g+"ms if incomplete, xhr2 "+u.u)),u.u?(u.a.timeout=u.g,u.a.ontimeout=Ke(u.Ma,u)):u.s=uf(u.Ma,u.g,u)),Ao(u.b,kr(u,"Sending request")),u.i=!0,u.a.send(f),u.i=!1}catch(N){Ao(u.b,kr(u,"Send error: "+N.message)),zs(u,N)}}(N,u,v,w,D)};var Ai=new Ae(un,"https://apis.google.com/js/client.js?onload=%{onload}"),$s="__fcb"+Math.floor(1e6*Math.random()).toString();function Ro(u){if("string"!=typeof(u=u.email)||!pa.test(u))throw new Q("invalid-email")}function um(u){"email"in u&&Ro(u)}function Gr(u){if(!u[go])throw u.mfaPendingCredential?new Q("multi-factor-auth-required",null,q(u)):new Q("internal-error")}function qs(u){if(u.phoneNumber||u.temporaryProof){if(!u.phoneNumber||!u.temporaryProof)throw new Q("internal-error")}else{if(!u.sessionInfo)throw new Q("missing-verification-id");if(!u.code)throw new Q("missing-verification-code")}}Wn.prototype.s=function(u,f,v,w,D){var k=this;Te.then(function(){window.gapi.client.setApiKey(k.c);var N=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:u,method:v,body:w,headers:D,authType:"none",callback:function(V){window.gapi.auth.setToken(N),f&&f(V)}})}).o(function(N){f&&f({error:{message:N&&N.message||"CORS_UNSUPPORTED"}})})},Wn.prototype.Ab=function(){return tn(this,fm,{})},Wn.prototype.Cb=function(u,f){return tn(this,Tl,{idToken:u,email:f})},Wn.prototype.Db=function(u,f){return tn(this,to,{idToken:u,password:f})};var El={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ia(u){if(!u.phoneVerificationInfo)throw new Q("internal-error");if(!u.phoneVerificationInfo.sessionInfo)throw new Q("missing-verification-id");if(!u.phoneVerificationInfo.code)throw new Q("missing-verification-code")}function rh(u){if(!u.requestUri||!u.sessionId&&!u.postBody&&!u.pendingToken)throw new Q("internal-error")}function ih(u,f){return f.oauthIdToken&&f.providerId&&0==f.providerId.indexOf("oidc.")&&!f.pendingToken&&(u.sessionId?f.nonce=u.sessionId:u.postBody&&iu(u=new lo(u.postBody),"nonce")&&(f.nonce=u.get("nonce"))),f}function Sa(u){var f=null;if(u.needConfirmation?(u.code="account-exists-with-different-credential",f=Rr(u)):"FEDERATED_USER_ID_ALREADY_LINKED"==u.errorMessage?(u.code="credential-already-in-use",f=Rr(u)):"EMAIL_EXISTS"==u.errorMessage?(u.code="email-already-in-use",f=Rr(u)):u.errorMessage&&(f=xa(u.errorMessage)),f)throw f;Gr(u)}function Rg(u,f){return f.returnIdpCredential=!0,tn(u,Ta,f)}function Nf(u,f){return f.returnIdpCredential=!0,tn(u,ty,f)}function lm(u,f){return f.returnIdpCredential=!0,f.autoCreate=!1,tn(u,Lf,f)}function vs(u){if(!u.oobCode)throw new Q("invalid-action-code")}(T=Wn.prototype).Eb=function(u,f){var v={idToken:u},w=[];return jo(El,function(D,k){var N=f[k];null===N?w.push(D):k in f&&(v[k]=N)}),w.length&&(v.deleteAttribute=w),tn(this,Tl,v)},T.wb=function(u,f){return oe(u={requestType:"PASSWORD_RESET",email:u},f),tn(this,Pf,u)},T.xb=function(u,f){return oe(u={requestType:"EMAIL_SIGNIN",email:u},f),tn(this,Qr,u)},T.vb=function(u,f){return oe(u={requestType:"VERIFY_EMAIL",idToken:u},f),tn(this,Xo,u)},T.Fb=function(u,f,v){return oe(u={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:u,newEmail:f},v),tn(this,hm,u)},T.gb=function(u){return tn(this,ny,u)},T.ob=function(u,f){return tn(this,R_,{oobCode:u,newPassword:f})},T.Sa=function(u){return tn(this,dm,{oobCode:u})},T.kb=function(u){return tn(this,Zv,{oobCode:u})};var Zv={endpoint:"setAccountInfo",A:vs,Z:"email",B:!0},dm={endpoint:"resetPassword",A:vs,G:function(u){var f=u.requestType;if(!f||!u.email&&"EMAIL_SIGNIN"!=f&&"VERIFY_AND_CHANGE_EMAIL"!=f)throw new Q("internal-error")},B:!0},M_={endpoint:"signupNewUser",A:function(u){if(Ro(u),!u.password)throw new Q("weak-password")},G:Gr,V:!0,B:!0},Xv={endpoint:"createAuthUri",B:!0},ko={endpoint:"deleteAccount",O:["idToken"]},Sl={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(u){if(!Array.isArray(u.deleteProvider))throw new Q("internal-error")}},kg={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Ro,G:Gr,V:!0,B:!0},_r={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Ro,G:Gr,V:!0},Qv={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Ia,G:Gr,B:!0,Na:!0},Gs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Ia,G:Gr,B:!0,Na:!0},Og={endpoint:"getAccountInfo"},Qr={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(u){if("EMAIL_SIGNIN"!=u.requestType)throw new Q("internal-error");Ro(u)},Z:"email",B:!0},Xo={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(u){if("VERIFY_EMAIL"!=u.requestType)throw new Q("internal-error")},Z:"email",B:!0},hm={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(u){if("VERIFY_AND_CHANGE_EMAIL"!=u.requestType)throw new Q("internal-error")},Z:"email",B:!0},Pf={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(u){if("PASSWORD_RESET"!=u.requestType)throw new Q("internal-error");Ro(u)},Z:"email",B:!0},oh={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Jv={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(u){if(!u.recaptchaSiteKey)throw new Q("internal-error")}},R_={endpoint:"resetPassword",A:vs,Z:"email",B:!0},Ff={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Tl={endpoint:"setAccountInfo",O:["idToken"],A:um,V:!0},to={endpoint:"setAccountInfo",O:["idToken"],A:function(u){if(um(u),!u.password)throw new Q("weak-password")},G:Gr,V:!0},fm={endpoint:"signupNewUser",G:Gr,V:!0,B:!0},xl={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(u){if(!u.phoneEnrollmentInfo)throw new Q("internal-error");if(!u.phoneEnrollmentInfo.phoneNumber)throw new Q("missing-phone-number");if(!u.phoneEnrollmentInfo.recaptchaToken)throw new Q("missing-app-credential")},G:function(u){if(!u.phoneSessionInfo||!u.phoneSessionInfo.sessionInfo)throw new Q("internal-error")},B:!0,Na:!0},ey={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(u){if(!u.phoneSignInInfo||!u.phoneSignInInfo.recaptchaToken)throw new Q("missing-app-credential")},G:function(u){if(!u.phoneResponseInfo||!u.phoneResponseInfo.sessionInfo)throw new Q("internal-error")},B:!0,Na:!0},Ta={endpoint:"verifyAssertion",A:rh,Za:ih,G:Sa,V:!0,B:!0},Lf={endpoint:"verifyAssertion",A:rh,Za:ih,G:function(u){if(u.errorMessage&&"USER_NOT_FOUND"==u.errorMessage)throw new Q("user-not-found");if(u.errorMessage)throw xa(u.errorMessage);Gr(u)},V:!0,B:!0},ty={endpoint:"verifyAssertion",A:function(u){if(rh(u),!u.idToken)throw new Q("internal-error")},Za:ih,G:Sa,V:!0},Ng={endpoint:"verifyCustomToken",A:function(u){if(!u.token)throw new Q("invalid-custom-token")},G:Gr,V:!0,B:!0},jf={endpoint:"verifyPassword",A:function(u){if(Ro(u),!u.password)throw new Q("wrong-password")},G:Gr,V:!0,B:!0},ny={endpoint:"verifyPhoneNumber",A:qs,G:Gr,B:!0},sh={endpoint:"verifyPhoneNumber",A:function(u){if(!u.idToken)throw new Q("internal-error");qs(u)},G:function(u){if(u.temporaryProof)throw u.code="credential-already-in-use",Rr(u);Gr(u)}},Al={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:qs,G:Gr,B:!0},Ml={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(u){if(!!u[go]^!!u.refreshToken)throw new Q("internal-error")},B:!0,Na:!0};function tn(u,f,v){if(!function nl(u,f){if(!f||!f.length)return!0;if(!u)return!1;for(var v=0;v<f.length;v++){var w=u[f[v]];if(null==w||""===w)return!1}return!0}(v,f.O))return dt(new Q("internal-error"));var k,w=!!f.Na,D=f.Vb||"POST";return rt(v).then(f.A).then(function(){return f.V&&(v.returnSecureToken=!0),f.B&&u.b&&typeof v.tenantId>"u"&&(v.tenantId=u.b),function Of(u,f,v,w,D,k,N){var V=Ei(f+v);xt(V,"key",u.c),N&&xt(V,"cb",Date.now().toString());var me="GET"==w;if(me)for(var c in D)D.hasOwnProperty(c)&&xt(V,c,D[c]);return new kt(function(s,l){cm(u,V.toString(),function(h){h?h.error?l(pm(h,k||{})):s(h):l(new Q("network-request-failed"))},w,me?void 0:Mt(Io(D)),u.a,u.v.get())})}(u,w?u.i:u.h,f.endpoint,D,v,f.Ib,f.mb||!1)}).then(function(N){return k=N,f.Za?f.Za(v,k):k}).then(f.G).then(function(){if(!f.Z)return k;if(!(f.Z in k))throw new Q("internal-error");return k[f.Z]})}function xa(u){return pm({error:{errors:[{message:u}],code:400,message:u}})}function pm(u,f){var v=(u.error&&u.error.errors&&u.error.errors[0]||{}).reason||"",w={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(v=w[v]?new Q(w[v]):null)return v;for(var D in v=u.error&&u.error.message||"",oe(w={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},f||{}),f=(f=v.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<f.length?f[1]:void 0,w)if(0===v.indexOf(D))return new Q(w[D],f);return!f&&u&&(f=ho(u)),new Q("internal-error",f)}function Rl(u){this.b=u,this.a=null,this.sb=function ry(u){return function kl(){return ah||(ah=new kt(function(u,f){function v(){ls(),Be("gapi.load")("gapi.iframes",{callback:u,ontimeout:function(){ls(),f(Error("Network Error"))},timeout:gm.get()})}if(Be("gapi.iframes.Iframe"))u();else if(Be("gapi.load"))v();else{var w="__iframefcb"+Math.floor(1e6*Math.random()).toString();$[w]=function(){Be("gapi.load")?v():f(Error("Network Error"))},rt(Xr(w=yi(Vf,{onload:w}))).o(function(){f(Error("Network Error"))})}}).o(function(u){throw ah=null,u}))}().then(function(){return new kt(function(f,v){Be("gapi.iframes.getContext")().open({where:document.body,url:u.b,messageHandlersFilter:Be("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(w){function D(){clearTimeout(k),f()}u.a=w,u.a.restyle({setHideOnLeave:!1});var k=setTimeout(function(){v(Error("Network Error"))},iy.get());w.ping(D).then(D,function(){v(Error("Network Error"))})})})})}(this)}var Vf=new Ae(un,"https://apis.google.com/js/api.js?onload=%{onload}"),gm=new So(3e4,6e4),iy=new So(5e3,15e3),ah=null;function ys(u,f,v,w){this.l=u,this.h=f,this.i=v,this.g=w,this.f=null,u=this.g?Md((u=Ei(this.g.url)).c,u.a,u.g,"/emulator/auth/iframe"):Md("https",this.l,null,"/__/auth/iframe"),this.a=u,xt(this.a,"apiKey",this.h),xt(this.a,"appName",this.i),this.b=null,this.c=[]}function Cc(u,f,v,w,D,k){this.u=u,this.s=f,this.c=v,this.m=w,this.v=k,this.i=this.g=this.l=null,this.a=D,this.h=this.f=null}function ch(u){try{return ye.Z.app(u).auth().Ga()}catch{return[]}}function Uf(u,f,v,w,D,k){this.s=u,this.g=f,this.b=v,this.f=k,this.c=w||null,this.i=D||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vm(u){var f=Co();return function Mg(u){return tn(u,oh,{}).then(function(f){return f.authorizedDomains||[]})}(u).then(function(v){e:{var w=Ei(f),D=w.c;w=w.a;for(var k=0;k<v.length;k++){var N=v[k],V=w,me=D;if(0==N.indexOf("chrome-extension://")?V=Ei(N).a==V&&"chrome-extension"==me:"http"!=me&&"https"!=me?V=!1:kd.test(N)?V=V==N:(N=N.split(".").join("\\."),V=new RegExp("^(.+\\."+N+"|"+N+")$","i").test(V)),V){v=!0;break e}}v=!1}if(!v)throw new If(Co())})}function oy(u){return u.m||(u.m=Hr().then(function(){if(!u.u){var f=u.c,v=u.i,w=ch(u.b),D=new ys(u.s,u.g,u.b,u.f);D.f=f,D.b=v,D.c=Pn(w||[]),u.u=D.toString()}u.v=new Rl(u.u),function sy(u){if(!u.v)throw Error("IfcHandler must be initialized!");!function Bf(u,f){u.sb.then(function(){u.a.register("authEvent",f,Be("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(u.v,function(f){var v={};if(f&&f.authEvent){var w=!1;for(f=ms(f.authEvent),v=0;v<u.h.length;v++)w=u.h[v](f)||w;return(v={}).status=w?"ACK":"ERROR",rt(v)}return v.status="ERROR",rt(v)})}(u)})),u.m}function Pg(u){return u.l||(u.C=u.c?us(u.c,ch(u.b)):null,u.l=new Wn(u.g,ri(u.i),u.C),u.f&&gs(u.l,u.f)),u.l}function uh(u,f,v,w,D,k,N,V,me,c,s,l){return(u=new Cc(u,f,v,w,D,l)).l=k,u.g=N,u.i=V,u.b=q(me||null),u.f=c,u.zb(s).toString()}function Wr(u){if(this.a=u||ye.Z.INTERNAL.reactNative&&ye.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Q("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Fg(u){this.b=u,this.a={},this.f=Ke(this.c,this)}ys.prototype.toString=function(){return this.f?xt(this.a,"v",this.f):$o(this.a.b,"v"),this.b?xt(this.a,"eid",this.b):$o(this.a.b,"eid"),this.c.length?xt(this.a,"fw",this.c.join(",")):$o(this.a.b,"fw"),this.a.toString()},Cc.prototype.zb=function(u){return this.h=u,this},Cc.prototype.toString=function(){if(this.v){var u=Ei(this.v.url);u=Md(u.c,u.a,u.g,"/emulator/auth/handler")}else u=Md("https",this.u,null,"/__/auth/handler");if(xt(u,"apiKey",this.s),xt(u,"appName",this.c),xt(u,"authType",this.m),this.a.isOAuthProvider){var f=this.a;try{var v=ye.Z.app(this.c).auth().la()}catch{v=null}for(var w in f.pb=v,xt(u,"providerId",this.a.providerId),f=Io((v=this.a).Jb))f[w]=f[w].toString();w=v.Qc,f=q(f);for(var D=0;D<w.length;D++){var k=w[D];k in f&&delete f[k]}v.qb&&v.pb&&!f[v.qb]&&(f[v.qb]=v.pb),G(f)||xt(u,"customParameters",ho(f))}if("function"==typeof this.a.Rb&&(v=this.a.Rb()).length&&xt(u,"scopes",v.join(",")),this.l?xt(u,"redirectUrl",this.l):$o(u.b,"redirectUrl"),this.g?xt(u,"eventId",this.g):$o(u.b,"eventId"),this.i?xt(u,"v",this.i):$o(u.b,"v"),this.b)for(var N in this.b)this.b.hasOwnProperty(N)&&!Qi(u,N)&&xt(u,N,this.b[N]);return this.h?xt(u,"tid",this.h):$o(u.b,"tid"),this.f?xt(u,"eid",this.f):$o(u.b,"eid"),(N=ch(this.c)).length&&xt(u,"fw",N.join(",")),u.toString()},(T=Uf.prototype).Pb=function(u,f,v){var w=new Q("popup-closed-by-user"),D=new Q("web-storage-unsupported"),k=this,N=!1;return this.ma().then(function(){(function Ol(u){var f={type:"webStorageSupport"};return oy(u).then(function(){return function mm(u,f){return u.sb.then(function(){return new kt(function(v){u.a.send(f.type,f,v,Be("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(u.v,f)}).then(function(v){if(v&&v.length&&typeof v[0].webStorageSupport<"u")return v[0].webStorageSupport;throw Error()})})(k).then(function(V){V||(u&&Do(u),f(D),N=!0)})}).o(function(){}).then(function(){if(!N)return function el(u){return new kt(function(f){return function v(){Xu(2e3).then(function(){if(u&&!u.closed)return v();f()})}()})}(u)}).then(function(){if(!N)return Xu(v).then(function(){f(w)})})},T.Yb=function(){var u=vr();return!Go(u)&&!yg(u)},T.Ub=function(){return!1},T.Nb=function(u,f,v,w,D,k,N,V){if(!u)return dt(new Q("popup-blocked"));if(N&&!Go())return this.ma().o(function(c){Do(u),D(c)}),w(),rt();this.a||(this.a=vm(Pg(this)));var me=this;return this.a.then(function(){var c=me.ma().o(function(s){throw Do(u),D(s),s});return w(),c}).then(function(){Cf(v),N||js(uh(me.s,me.g,me.b,f,v,null,k,me.c,void 0,me.i,V,me.f),u)}).o(function(c){throw"auth/network-request-failed"==c.code&&(me.a=null),c})},T.Ob=function(u,f,v,w){this.a||(this.a=vm(Pg(this)));var D=this;return this.a.then(function(){Cf(f),js(uh(D.s,D.g,D.b,u,f,Co(),v,D.c,void 0,D.i,w,D.f))}).o(function(k){throw"auth/network-request-failed"==k.code&&(D.a=null),k})},T.ma=function(){var u=this;return oy(this).then(function(){return u.v.sb}).o(function(){throw u.a=null,new Q("network-request-failed")})},T.ac=function(){return!0},T.Ea=function(u){this.h.push(u)},T.Ta=function(u){Nn(this.h,function(f){return f==u})},(T=Wr.prototype).get=function(u){return rt(this.a.getItem(u)).then(function(f){return f&&ma(f)})},T.set=function(u,f){return rt(this.a.setItem(u,ho(f)))},T.U=function(u){return rt(this.a.removeItem(u))},T.ca=function(){},T.ia=function(){};var bm,ym=[];function _m(u,f,v){G(u.a)&&u.b.addEventListener("message",u.f),typeof u.a[f]>"u"&&(u.a[f]=[]),u.a[f].push(v)}function ay(u){this.a=u}function Lg(u){this.c=u,this.b=!1,this.a=[]}function jg(u,f,v,w){var D,N,V,me,k=v||{},c=null;if(u.b)return dt(Error("connection_unavailable"));var s=w?800:50,l=typeof MessageChannel<"u"?new MessageChannel:null;return new kt(function(h,m){l?(D=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),V=setTimeout(function(){m(Error("unsupported_event"))},s),u.a.push(c={messageChannel:l,onMessage:N=function(y){y.data.eventId===D&&("ack"===y.data.status?(clearTimeout(V),me=setTimeout(function(){m(Error("timeout"))},3e3)):"done"===y.data.status?(clearTimeout(me),typeof y.data.response<"u"?h(y.data.response):m(Error("unknown_error"))):(clearTimeout(V),clearTimeout(me),m(Error("invalid_response"))))}}),l.port1.addEventListener("message",N),u.c.postMessage({eventType:f,eventId:D,data:k},[l.port2])):m(Error("connection_unavailable"))}).then(function(h){return Or(u,c),h}).o(function(h){throw Or(u,c),h})}function Or(u,f){if(f){var v=f.messageChannel;v&&(v.port1.removeEventListener("message",f.onMessage),v.port1.close()),Nn(u.a,function(D){return D==f})}}function Bg(){if(!Ug())throw new Q("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=$.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var u=this;Ii()&&self?(this.v=function k_(){var u=Ii()?self:null;if(yt(ym,function(v){v.b==u&&(f=v)}),!f){var f=new Fg(u);ym.push(f)}return f}(),_m(this.v,"keyChanged",function(f,v){return $f(u).then(function(w){return 0<w.length&&yt(u.a,function(D){D(w)}),{keyProcessed:rn(w,v.key)}})}),_m(this.v,"ping",function(){return rt(["keyChanged"])})):function _g(){var u=$.navigator;return u&&u.serviceWorker?rt().then(function(){return u.serviceWorker.ready}).then(function(f){return f.active||null}).o(function(){return null}):rt(null)}().then(function(f){(u.h=f)&&(u.g=new Lg(new ay(f)),jg(u.g,"ping",null,!0).then(function(v){v[0].fulfilled&&rn(v[0].value,"keyChanged")&&(u.s=!0)}).o(function(){}))})}function Vg(u){return new kt(function(f,v){var w=u.m.open("firebaseLocalStorageDb",1);w.onerror=function(D){try{D.preventDefault()}catch{}v(Error(D.target.error))},w.onupgradeneeded=function(D){D=D.target.result;try{D.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(k){v(k)}},w.onsuccess=function(D){(D=D.target.result).objectStoreNames.contains("firebaseLocalStorage")?f(D):function lh(u){return new kt(function(f,v){var w=u.m.deleteDatabase("firebaseLocalStorageDb");w.onsuccess=function(){f()},w.onerror=function(D){v(Error(D.target.error))}})}(u).then(function(){return Vg(u)}).then(function(k){f(k)}).o(function(k){v(k)})}})}function Hf(u){return u.i||(u.i=Vg(u)),u.i}function zf(u,f){var w=0;return new kt(function v(D,k){Hf(u).then(f).then(D).o(function(N){if(!(3<++w))return Hf(u).then(function(V){return V.close(),u.i=void 0,v(D,k)}).o(function(V){k(V)});k(N)})})}function Ug(){try{return!!$.indexedDB}catch{return!1}}function Nl(u){return u.objectStore("firebaseLocalStorage")}function wu(u,f){return u.transaction(["firebaseLocalStorage"],f?"readwrite":"readonly")}function Ws(u){return new kt(function(f,v){u.onsuccess=function(w){w&&w.target?f(w.target.result):f()},u.onerror=function(w){v(w.target.error)}})}function dh(u,f){return u.g&&u.h&&function Od(){var u=$.navigator;return u&&u.serviceWorker&&u.serviceWorker.controller||null}()===u.h?jg(u.g,"keyChanged",{key:f},u.s).then(function(){}).o(function(){}):rt()}function $f(u){return Hf(u).then(function(f){var v=Nl(wu(f,!1));return v.getAll?Ws(v.getAll()):new kt(function(w,D){var k=[],N=v.openCursor();N.onsuccess=function(V){(V=V.target.result)?(k.push(V.value),V.continue()):w(k)},N.onerror=function(V){D(V.target.error)}})}).then(function(f){var v={},w=[];if(0==u.b){for(w=0;w<f.length;w++)v[f[w].fbase_key]=f[w].value;w=St(u.c,v),u.c=v}return w})}function wm(u){u.l&&u.l.cancel("STOP_EVENT"),u.f&&(clearTimeout(u.f),u.f=null)}function Eu(u){var f=this,v=null;this.a=[],this.type="indexedDB",this.c=u,this.b=rt().then(function(){if(Ug()){var w=Wt(),D="__sak"+w;return bm||(bm=new Bg),(v=bm).set(D,w).then(function(){return v.get(D)}).then(function(k){if(k!==w)throw Error("indexedDB not supported!");return v.U(D)}).then(function(){return v}).o(function(){return f.c})}return f.c}).then(function(w){return f.type=w.type,w.ca(function(D){yt(f.a,function(k){k(D)})}),w})}function Cu(){this.a={},this.type="inMemory"}function Dc(){if(!function Pl(){var u="Node"==Se();if(!(u=Aa()||u&&ye.Z.INTERNAL.node&&ye.Z.INTERNAL.node.localStorage))return!1;try{return u.setItem("__sak","1"),u.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==Se()?new Q("internal-error","The LocalStorage compatibility library was not found."):new Q("web-storage-unsupported");this.a=Aa()||ye.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Aa(){try{var u=$.localStorage,f=Wt();return u&&(u.setItem(f,"1"),u.removeItem(f)),u}catch{return null}}function _s(){this.type="nullStorage"}function Em(){if(!function cy(){var u="Node"==Se();if(!(u=zg()||u&&ye.Z.INTERNAL.node&&ye.Z.INTERNAL.node.sessionStorage))return!1;try{return u.setItem("__sak","1"),u.removeItem("__sak"),!0}catch{return!1}}())throw"Node"==Se()?new Q("internal-error","The SessionStorage compatibility library was not found."):new Q("web-storage-unsupported");this.a=zg()||ye.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function zg(){try{var u=$.sessionStorage,f=Wt();return u&&(u.setItem(f,"1"),u.removeItem(f)),u}catch{return null}}function $g(){var u={};u.Browser=fh,u.Node=Fl,u.ReactNative=qf,u.Worker=Ll,this.a=u[Se()]}Fg.prototype.c=function(u){var f=u.data.eventType,v=u.data.eventId,w=this.a[f];if(w&&0<w.length){u.ports[0].postMessage({status:"ack",eventId:v,eventType:f,response:null});var D=[];yt(w,function(k){D.push(rt().then(function(){return k(u.origin,u.data.data)}))}),S(D).then(function(k){var N=[];yt(k,function(V){N.push({fulfilled:V.Qb,value:V.value,reason:V.reason?V.reason.message:void 0})}),yt(N,function(V){for(var me in V)typeof V[me]>"u"&&delete V[me]}),u.ports[0].postMessage({status:"done",eventId:v,eventType:f,response:N})})}},ay.prototype.postMessage=function(u,f){this.a.postMessage(u,f)},Lg.prototype.close=function(){for(;0<this.a.length;)Or(this,this.a[0]);this.b=!0},(T=Bg.prototype).set=function(u,f){var v=this,w=!1;return zf(this,function(D){return Ws((D=Nl(wu(D,!0))).get(u))}).then(function(D){return zf(v,function(k){if(k=Nl(wu(k,!0)),D)return D.value=f,Ws(k.put(D));v.b++,w=!0;var N={};return N.fbase_key=u,N.value=f,Ws(k.add(N))})}).then(function(){return v.c[u]=f,dh(v,u)}).oa(function(){w&&v.b--})},T.get=function(u){return zf(this,function(f){return Ws(Nl(wu(f,!1)).get(u))}).then(function(f){return f&&f.value})},T.U=function(u){var f=this,v=!1;return zf(this,function(w){return v=!0,f.b++,Ws(Nl(wu(w,!0)).delete(u))}).then(function(){return delete f.c[u],dh(f,u)}).oa(function(){v&&f.b--})},T.ca=function(u){0==this.a.length&&function Hg(u){wm(u),function f(){u.f=setTimeout(function(){u.l=$f(u).then(function(v){0<v.length&&yt(u.a,function(w){w(v)})}).then(function(){f()}).o(function(v){"STOP_EVENT"!=v.message&&f()})},800)}()}(this),this.a.push(u)},T.ia=function(u){Nn(this.a,function(f){return f==u}),0==this.a.length&&wm(this)},(T=Eu.prototype).get=function(u){return this.b.then(function(f){return f.get(u)})},T.set=function(u,f){return this.b.then(function(v){return v.set(u,f)})},T.U=function(u){return this.b.then(function(f){return f.U(u)})},T.ca=function(u){this.a.push(u)},T.ia=function(u){Nn(this.a,function(f){return f==u})},(T=Cu.prototype).get=function(u){return rt(this.a[u])},T.set=function(u,f){return this.a[u]=f,rt()},T.U=function(u){return delete this.a[u],rt()},T.ca=function(){},T.ia=function(){},(T=Dc.prototype).get=function(u){var f=this;return rt().then(function(){return ma(f.a.getItem(u))})},T.set=function(u,f){var v=this;return rt().then(function(){var w=ho(f);null===w?v.U(u):v.a.setItem(u,w)})},T.U=function(u){var f=this;return rt().then(function(){f.a.removeItem(u)})},T.ca=function(u){$.window&&sr($.window,"storage",u)},T.ia=function(u){$.window&&Xi($.window,"storage",u)},(T=_s.prototype).get=function(){return rt(null)},T.set=function(){return rt()},T.U=function(){return rt()},T.ca=function(){},T.ia=function(){},(T=Em.prototype).get=function(u){var f=this;return rt().then(function(){return ma(f.a.getItem(u))})},T.set=function(u,f){var v=this;return rt().then(function(){var w=ho(f);null===w?v.U(u):v.a.setItem(u,w)})},T.U=function(u){var f=this;return rt().then(function(){f.a.removeItem(u)})},T.ca=function(){},T.ia=function(){};var hh,Du,fh={F:Dc,cb:Em},Fl={F:Dc,cb:Em},qf={F:Wr,cb:_s},Ll={F:Dc,cb:_s},Ic={rd:"local",NONE:"none",td:"session"};function Ri(){var u=!(yg(vr())||!Tr()),f=Go(),v=au();this.m=u,this.h=f,this.l=v,this.a={},hh||(hh=new $g),u=hh;try{this.g=!Jn()&&zr()||!$.indexedDB?new u.a.F:new Eu(Ii()?new Cu:new u.a.F)}catch{this.g=new Cu,this.h=!0}try{this.i=new u.a.cb}catch{this.i=new Cu}this.v=new Cu,this.f=Ke(this.Zb,this),this.b={}}function Oo(){return Du||(Du=new Ri),Du}function Ks(u,f){switch(f){case"session":return u.i;case"none":return u.v;default:return u.g}}function Nr(u,f){return"firebase:"+u.name+(f?":"+f:"")}function Iu(u,f,v){return v=Nr(f,v),"local"==f.F&&(u.b[v]=null),Ks(u,f.F).U(v)}function Gf(u){u.c&&(clearInterval(u.c),u.c=null)}function Su(u){this.a=u,this.b=Oo()}(T=Ri.prototype).get=function(u,f){return Ks(this,u.F).get(Nr(u,f))},T.set=function(u,f,v){var w=Nr(u,v),D=this,k=Ks(this,u.F);return k.set(w,f).then(function(){return k.get(w)}).then(function(N){"local"==u.F&&(D.b[w]=N)})},T.addListener=function(u,f,v){u=Nr(u,f),this.l&&(this.b[u]=$.localStorage.getItem(u)),G(this.a)&&(Ks(this,"local").ca(this.f),this.h||(Jn()||!zr())&&$.indexedDB||!this.l||function mh(u){Gf(u),u.c=setInterval(function(){for(var f in u.a){var v=$.localStorage.getItem(f),w=u.b[f];v!=w&&(u.b[f]=v,v=new ne({type:"storage",key:f,target:window,oldValue:w,newValue:v,a:!0}),u.Zb(v))}},1e3)}(this)),this.a[u]||(this.a[u]=[]),this.a[u].push(v)},T.removeListener=function(u,f,v){u=Nr(u,f),this.a[u]&&(Nn(this.a[u],function(w){return w==v}),0==this.a[u].length&&delete this.a[u]),G(this.a)&&(Ks(this,"local").ia(this.f),Gf(this))},T.Zb=function(u){if(u&&u.g){var f=u.a.key;if(null==f)for(var v in this.a){var w=this.b[v];typeof w>"u"&&(w=null);var D=$.localStorage.getItem(v);D!==w&&(this.b[v]=D,this.nb(v))}else if(0==f.indexOf("firebase:")&&this.a[f]){if(typeof u.a.a<"u"?Ks(this,"local").ia(this.f):Gf(this),this.m)if(v=$.localStorage.getItem(f),(w=u.a.newValue)!==v)null!==w?$.localStorage.setItem(f,w):$.localStorage.removeItem(f);else if(this.b[f]===w&&typeof u.a.a>"u")return;var k=this;v=function(){(typeof u.a.a<"u"||k.b[f]!==$.localStorage.getItem(f))&&(k.b[f]=$.localStorage.getItem(f),k.nb(f))},Vo&&Eo&&10==Eo&&$.localStorage.getItem(f)!==u.a.newValue&&u.a.newValue!==u.a.oldValue?setTimeout(v,10):v()}}else yt(u,Ke(this.nb,this))},T.nb=function(u){this.a[u]&&yt(this.a[u],function(f){f()})};var Yf,Wf={name:"authEvent",F:"local"};function uy(){this.a=Oo()}function Kf(u,f){this.b=jl,this.f=$.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=u,this.h=f,this.l=$.Int32Array?new Int32Array(64):Array(64),void 0===Yf&&(Yf=$.Int32Array?new Int32Array(Bl):Bl),this.reset()}ct(Kf,function Gg(){this.b=-1});for(var jl=64,Sc=jl-1,Ma=[],Tu=0;Tu<Sc;Tu++)Ma[Tu]=0;var xu=cn(128,Ma);function Zf(u){for(var f=u.f,v=u.l,w=0,D=0;D<f.length;)v[w++]=f[D]<<24|f[D+1]<<16|f[D+2]<<8|f[D+3],D=4*w;for(f=16;64>f;f++){var k=(0|v[f-16])+(((D=0|v[f-15])>>>7|D<<25)^(D>>>18|D<<14)^D>>>3)|0,N=(0|v[f-7])+(((w=0|v[f-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)|0;v[f]=k+N|0}w=0|u.a[0],D=0|u.a[1];var V=0|u.a[2],me=0|u.a[3],c=0|u.a[4],s=0|u.a[5],l=0|u.a[6];for(k=0|u.a[7],f=0;64>f;f++){var h=((w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10))+(w&D^w&V^D&V)|0;N=(k=k+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((N=(N=c&s^~c&l)+(0|Yf[f])|0)+(0|v[f])|0)|0,k=l,l=s,s=c,c=me+N|0,me=V,V=D,D=w,w=N+h|0}u.a[0]=u.a[0]+w|0,u.a[1]=u.a[1]+D|0,u.a[2]=u.a[2]+V|0,u.a[3]=u.a[3]+me|0,u.a[4]=u.a[4]+c|0,u.a[5]=u.a[5]+s|0,u.a[6]=u.a[6]+l|0,u.a[7]=u.a[7]+k|0}function gh(u,f,v){void 0===v&&(v=f.length);var w=0,D=u.c;if("string"==typeof f)for(;w<v;)u.f[D++]=f.charCodeAt(w++),D==u.b&&(Zf(u),D=0);else{if(!Nt(f))throw Error("message must be string or array");for(;w<v;){var k=f[w++];if(!("number"==typeof k&&0<=k&&255>=k&&k==(0|k)))throw Error("message must be a byte array");u.f[D++]=k,D==u.b&&(Zf(u),D=0)}}u.c=D,u.g+=v}Kf.prototype.reset=function(){this.g=this.c=0,this.a=$.Int32Array?new Int32Array(this.h):Pn(this.h)};var Bl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Dm(){Kf.call(this,8,Vl)}ct(Dm,Kf);var Vl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Au(u,f,v,w,D,k){this.v=u,this.i=f,this.l=v,this.m=w||null,this.u=D||null,this.s=k,this.h=f+":"+v,this.C=new uy,this.g=new Su(this.h),this.f=null,this.b=[],this.a=this.c=null}function Mu(u){return new Q("invalid-cordova-configuration",u)}function Qf(u,f){for(var v=0;v<u.b.length;v++)try{u.b[v](f)}catch{}}function Wg(u){return u.f||(u.f=u.ma().then(function(){return new kt(function(f){u.Ea(function v(w){return f(w),u.Ta(v),!1}),function ly(u){function f(N){w=!0,D&&D.cancel(),Jf(u).then(function(V){var me=v;if(V&&N&&N.url){var c=null;-1!=(me=Vs(N.url)).indexOf("/__/auth/callback")&&(c=(c="object"==typeof(c=ma(Qi(c=Ei(me),"firebaseError")||null))?Lr(c):null)?new Pi(V.c,V.b,null,null,c,null,V.T()):new Pi(V.c,V.b,me,V.f,null,null,V.T())),me=c||v}Qf(u,me)})}var v=new Pi("unknown",null,null,null,new Q("no-auth-event")),w=!1,D=Xu(500).then(function(){return Jf(u).then(function(){w||Qf(u,v)})}),k=$.handleOpenURL;$.handleOpenURL=function(N){if(0==N.toLowerCase().indexOf(Be("BuildInfo.packageName",$).toLowerCase()+"://")&&f({url:N}),"function"==typeof k)try{k(N)}catch(V){console.error(V)}},Kd||(Kd=new Dn),function Df(u){var f=Kd;f.a.push(u),f.b||(f.b=function(v){for(var w=0;w<f.a.length;w++)f.a[w](v)},"function"==typeof(u=Be("universalLinks.subscribe",$))&&u(null,f.b))}(f)}(u)})})),u.f}function Jf(u){var f=null;return function Cm(u){return u.b.get(Wf,u.a).then(function(f){return ms(f)})}(u.g).then(function(v){return f=v,Iu((v=u.g).b,Wf,v.a)}).then(function(){return f})}function Kg(u){this.a=u,this.b=Oo()}(T=Au.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=function ue(){return _e(void 0)?Hr().then(function(){return new kt(function(u,f){var v=$.document,w=setTimeout(function(){f(Error("Cordova framework is not ready."))},1e3);v.addEventListener("deviceready",function(){clearTimeout(w),u()},!1)})}):dt(Error("Cordova must run in an Android or iOS file scheme."))}().then(function(){if("function"!=typeof Be("universalLinks.subscribe",$))throw Mu("cordova-universal-links-plugin-fix is not installed");if(typeof Be("BuildInfo.packageName",$)>"u")throw Mu("cordova-plugin-buildinfo is not installed");if("function"!=typeof Be("cordova.plugins.browsertab.openUrl",$))throw Mu("cordova-plugin-browsertab is not installed");if("function"!=typeof Be("cordova.InAppBrowser.open",$))throw Mu("cordova-plugin-inappbrowser is not installed")},function(){throw new Q("cordova-not-ready")})},T.Pb=function(u,f){return f(new Q("operation-not-supported-in-this-environment")),rt()},T.Nb=function(){return dt(new Q("operation-not-supported-in-this-environment"))},T.ac=function(){return!1},T.Yb=function(){return!0},T.Ub=function(){return!0},T.Ob=function(u,f,v,w){if(this.c)return dt(new Q("redirect-operation-pending"));var D=this,k=$.document,N=null,V=null,me=null,c=null;return this.c=rt().then(function(){return Cf(f),Wg(D)}).then(function(){return function Sm(u,f,v,w,D){var k=function Im(){for(var u=20,f=[];0<u;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),u--;return f.join("")}(),N=new Pi(f,w,null,k,new Q("no-auth-event"),null,D),V=Be("BuildInfo.packageName",$);if("string"!=typeof V)throw new Q("invalid-cordova-configuration");var me=Be("BuildInfo.displayName",$),c={};if(vr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=V;else{if(!vr().toLowerCase().match(/android/))return dt(new Q("operation-not-supported-in-this-environment"));c.apn=V}me&&(c.appDisplayName=me),k=function Xf(u){var f=new Dm;gh(f,u),u=[];var v=8*f.g;gh(f,xu,56>f.c?56-f.c:f.b-(f.c-56));for(var w=63;56<=w;w--)f.f[w]=255&v,v/=256;for(Zf(f),w=v=0;w<f.i;w++)for(var D=24;0<=D;D-=8)u[v++]=f.a[w]>>D&255;return function sl(u){return Ct(u,function(f){return 1<(f=f.toString(16)).length?f:"0"+f}).join("")}(u)}(k),c.sessionId=k;var s=uh(u.v,u.i,u.l,f,v,null,w,u.m,c,u.u,D,u.s);return u.ma().then(function(){var l=u.h;return u.C.a.set(Wf,N.w(),l)}).then(function(){var l=Be("cordova.plugins.browsertab.isAvailable",$);if("function"!=typeof l)throw new Q("invalid-cordova-configuration");var h=null;l(function(m){if(m){if("function"!=typeof(h=Be("cordova.plugins.browsertab.openUrl",$)))throw new Q("invalid-cordova-configuration");h(s)}else{if("function"!=typeof(h=Be("cordova.InAppBrowser.open",$)))throw new Q("invalid-cordova-configuration");m=vr(),u.a=h(s,m.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||m.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(D,u,f,v,w)}).then(function(){return new kt(function(s,l){V=function(){var h=Be("cordova.plugins.browsertab.close",$);return s(),"function"==typeof h&&h(),D.a&&"function"==typeof D.a.close&&(D.a.close(),D.a=null),!1},D.Ea(V),c=function(){Si()&&me()},k.addEventListener("resume",me=function(){N||(N=Xu(2e3).then(function(){l(new Q("redirect-cancelled-by-user"))}))},!1),vr().toLowerCase().match(/android/)||k.addEventListener("visibilitychange",c,!1)}).o(function(s){return Jf(D).then(function(){throw s})})}).oa(function(){me&&k.removeEventListener("resume",me,!1),c&&k.removeEventListener("visibilitychange",c,!1),N&&N.cancel(),V&&D.Ta(V),D.c=null})},T.Ea=function(u){this.b.push(u),Wg(this).o(function(f){"auth/invalid-cordova-configuration"===f.code&&(f=new Pi("unknown",null,null,null,new Q("no-auth-event")),u(f))})},T.Ta=function(u){Nn(this.b,function(f){return f==u})};var vh={name:"pendingRedirect",F:"session"};function Ul(u){return Iu(u.b,vh,u.a)}function ep(u,f,v,w){this.i={},this.u=0,this.D=u,this.v=f,this.m=v,this.J=w,this.h=[],this.f=!1,this.l=Ke(this.s,this),this.b=new $l,this.C=new ql,this.g=new Kg(bh(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Yg(this.D,this.v,this.m,$n,this.J)}function Yg(u,f,v,w,D){var k=ye.Z.SDK_VERSION||null;return _e()?new Au(u,f,v,k,w,D):new Uf(u,f,v,k,w,D)}function tp(u){u.f||(u.f=!0,u.a.Ea(u.l));var f=u.a;return u.a.ma().o(function(v){throw u.a==f&&u.reset(),v})}function _h(u){u.a.Yb()&&tp(u).o(function(f){var v=new Pi("unknown",null,null,null,new Q("operation-not-supported-in-this-environment"));Hl(f)&&u.s(v)}),u.a.Ub()||Ru(u.b)}function Ys(u,f){rn(u.h,f)||u.h.push(f),u.f||function Tm(u){return u.b.get(vh,u.a).then(function(f){return"pending"==f})}(u.g).then(function(v){v?Ul(u.g).then(function(){tp(u).o(function(w){var D=new Pi("unknown",null,null,null,new Q("operation-not-supported-in-this-environment"));Hl(w)&&u.s(D)})}):_h(u)}).o(function(){_h(u)})}function np(u,f){Nn(u.h,function(v){return v==f})}ep.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Yg(this.D,this.v,this.m,null,this.J),this.i={}},ep.prototype.s=function(u){if(!u)throw new Q("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),u&&u.getUid()&&this.i.hasOwnProperty(u.getUid()))return!1;for(var f=!1,v=0;v<this.h.length;v++){var w=this.h[v];if(w.Gb(u.c,u.b)){(f=this.c[u.c])&&(f.h(u,w),u&&(u.f||u.b)&&(this.i[u.getUid()]=!0,this.u=Date.now())),f=!0;break}}return Ru(this.b),f};var xm=new So(2e3,1e4),Zg=new So(3e4,6e4);function dy(u,f,v,w,D,k,N){return u.a.Nb(f,v,w,function(){u.f||(u.f=!0,u.a.Ea(u.l))},function(){u.reset()},D,k,N)}function Hl(u){return!(!u||"auth/cordova-not-ready"!=u.code)}function Xg(u,f,v,w,D){var k;return function yh(u){return u.b.set(vh,"pending",u.a)}(u.g).then(function(){return u.a.Ob(f,v,w,D).o(function(N){if(Hl(N))throw new Q("operation-not-supported-in-this-environment");return k=N,Ul(u.g).then(function(){throw k})}).then(function(){return u.a.ac()?new kt(function(){}):Ul(u.g).then(function(){return u.ra()}).then(function(){}).o(function(){})})})}function Am(u,f,v,w,D){return u.a.Pb(w,function(k){f.na(v,null,k,D)},xm.get())}ep.prototype.ra=function(){return this.b.ra()};var zl={};function bh(u,f,v){return u=u+":"+f,v&&(u=u+":"+v.url),u}function Zs(u,f,v,w){var D=bh(f,v,w);return zl[D]||(zl[D]=new ep(u,f,v,w)),zl[D]}function $l(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Ru(u){u.g||(u.g=!0,xc(u,!1,null,null))}function Tc(u){u.g&&!u.i&&xc(u,!1,null,null)}function wh(u,f){if(u.b=function(){return rt(f)},u.f.length)for(var v=0;v<u.f.length;v++)u.f[v](f)}function xc(u,f,v,w){f?w?function bs(u,f){if(u.b=function(){return dt(f)},u.c.length)for(var v=0;v<u.c.length;v++)u.c[v](f)}(u,w):wh(u,v):wh(u,{user:null}),u.f=[],u.c=[]}function ql(){}function Rm(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(u){this.jb=u},enumerable:!1})}function ip(u,f){this.a=f,Ye(this,"verificationId",u)}function op(u,f,v,w){return new Tn(u).gb(f,v).then(function(D){return new ip(D,w)})}function fy(u){var f=va(u);if(!(f&&f.exp&&f.auth_time&&f.iat))throw new Q("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");He(this,{token:u,expirationTime:ds(1e3*f.exp),authTime:ds(1e3*f.auth_time),issuedAtTime:ds(1e3*f.iat),signInProvider:f.firebase&&f.firebase.sign_in_provider?f.firebase.sign_in_provider:null,signInSecondFactor:f.firebase&&f.firebase.sign_in_second_factor?f.firebase.sign_in_second_factor:null,claims:f})}function sp(u,f,v){var w=f&&f[ku];if(!w)throw new Q("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=u,this.f=q(f),this.g=v,this.c=new li(null,w),this.b=[];var D=this;yt(f[km]||[],function(k){(k=hf(k))&&D.b.push(k)}),Ye(this,"auth",this.a),Ye(this,"session",this.c),Ye(this,"hints",this.b)}$l.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$l.prototype.h=function(u,f){if(u){this.reset(),this.g=!0;var v=u.c,w=u.b,D=u.a&&"auth/web-storage-unsupported"==u.a.code,k=u.a&&"auth/operation-not-supported-in-this-environment"==u.a.code;this.i=!(!D&&!k),"unknown"!=v||D||k?u.a?(xc(this,!0,null,u.a),rt()):f.Fa(v,w)?function rp(u,f,v){v=v.Fa(f.c,f.b);var w=f.g,D=f.f,k=f.i,N=f.T(),V=!!f.c.match(/Redirect$/);v(w,D,N,k).then(function(me){xc(u,V,me,null)}).o(function(me){xc(u,V,null,me)})}(this,u,f):dt(new Q("invalid-auth-event")):(xc(this,!1,null,null),rt())}else dt(new Q("invalid-auth-event"))},$l.prototype.ra=function(){var u=this;return new kt(function(f,v){u.b?u.b().then(f,v):(u.f.push(f),u.c.push(v),function Mm(u){var f=new Q("timeout");u.a&&u.a.cancel(),u.a=Xu(Zg.get()).then(function(){u.b||(u.g=!0,xc(u,!0,null,f))})}(u))})},ql.prototype.h=function(u,f){if(u){var v=u.c,w=u.b;u.a?(f.na(u.c,null,u.a,u.b),rt()):f.Fa(v,w)?function hy(u,f){var v=u.b,w=u.c;f.Fa(w,v)(u.g,u.f,u.T(),u.i).then(function(D){f.na(w,D,null,v)}).o(function(D){f.na(w,null,D,v)})}(u,f):dt(new Q("invalid-auth-event"))}else dt(new Q("invalid-auth-event"))},ip.prototype.confirm=function(u){return u=ps(this.verificationId,u),this.a(u)};var km="mfaInfo",ku="mfaPendingCredential";function Ou(u,f,v,w){Q.call(this,"multi-factor-auth-required",w,f),this.b=new sp(u,f,v),Ye(this,"resolver",this.b)}function Nu(u,f,v){if(u&&ft(u.serverResponse)&&"auth/multi-factor-auth-required"===u.code)try{return new Ou(f,u.serverResponse,v,u.message)}catch{}return null}function Om(){}function Eh(u){Ye(this,"factorId",u.fa),this.a=u}function Ch(u){if(Eh.call(this,u),this.a.fa!=Tn.PROVIDER_ID)throw new Q("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Ra(u,f){for(var v in gr.call(this,u),f)this[v]=f[v]}function Ac(u,f){this.a=u,this.b=[],this.c=Ke(this.yc,this),sr(this.a,"userReloaded",this.c);var v=[];f&&f.multiFactor&&f.multiFactor.enrolledFactors&&yt(f.multiFactor.enrolledFactors,function(w){var D=null,k={};if(w){w.uid&&(k[ff]=w.uid),w.displayName&&(k[Bs]=w.displayName),w.enrollmentTime&&(k[To]=new Date(w.enrollmentTime).toISOString()),w.phoneNumber&&(k[pf]=w.phoneNumber);try{D=new yr(k)}catch{}w=D}else w=null;w&&v.push(w)}),Gl(this,v)}function Gl(u,f){u.b=f,Ye(u,"enrolledFactors",f)}function cp(u,f,v){if(this.h=u,this.i=f,this.g=v,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Dh(u,f){u.stop(),u.b=Xu(function Nm(u,f){return f?(u.a=u.c,u.g()):(f=u.a,u.a*=2,u.a>u.f&&(u.a=u.f),f)}(u,f)).then(function(){return function T_(){var u=$.document,f=null;return Si()||!u?rt():new kt(function(v){f=function(){Si()&&(u.removeEventListener("visibilitychange",f,!1),v())},u.addEventListener("visibilitychange",f,!1)}).o(function(v){throw u.removeEventListener("visibilitychange",f,!1),v})}()}).then(function(){return u.h()}).then(function(){Dh(u,!0)}).o(function(v){u.i(v)&&Dh(u,!1)})}function ws(u){this.f=u,this.b=this.a=null,this.c=Date.now()}function Ih(u,f){typeof f>"u"&&(f=u.b?(f=u.b).a-f.g:0),u.c=Date.now()+1e3*f}function Pm(u,f){u.b=vc(f[go]||""),u.a=f.refreshToken,Ih(u,typeof(f=f.expiresIn)<"u"?Number(f):void 0)}function Wl(u,f){this.a=u||null,this.b=f||null,He(this,{lastSignInTime:ds(f||null),creationTime:ds(u||null)})}function Es(u,f,v,w,D,k){He(this,{uid:u,displayName:w||null,photoURL:D||null,email:v||null,phoneNumber:k||null,providerId:f})}function vo(u,f,v){this.N=[],this.l=u.apiKey,this.m=u.appName,this.s=u.authDomain||null;var w=ye.Z.SDK_VERSION?us(ye.Z.SDK_VERSION):null;this.a=new Wn(this.l,ri($n),w),(this.u=u.emulatorConfig||null)&&gs(this.a,this.u),this.h=new ws(this.a),Sh(this,f[go]),Pm(this.h,f),Ye(this,"refreshToken",this.h.a),hp(this,v||{}),ar.call(this),this.P=!1,this.s&&xr()&&(this.b=Zs(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function py(u){return new cp(function(){return u.I(!0)},function(f){return!(!f||"auth/network-request-failed"!=f.code)},function(){var f=u.h.c-Date.now()-3e5;return 0<f?f:0})}(this),this.ba=Ke(this.ib,this);var D=this;this.za=null,this.Pa=function(k){D.xa(k.h)},this.qa=null,this.Ba=function(k){Lm(D,k.c)},this.$=null,this.aa=[],this.Oa=function(k){Yl(D,k.f)},this.ja=null,this.S=new Ac(this,v),Ye(this,"multiFactor",this.S)}function Lm(u,f){u.u=f,gs(u.a,f),u.b&&(f=u.b,u.b=Zs(u.s,u.l,u.m,u.u),u.P&&(np(f,u),Ys(u.b,u)))}function Kl(u,f){u.qa&&Xi(u.qa,"languageCodeChanged",u.Pa),(u.qa=f)&&sr(f,"languageCodeChanged",u.Pa)}function up(u,f){u.$&&Xi(u.$,"emulatorConfigChanged",u.Ba),(u.$=f)&&sr(f,"emulatorConfigChanged",u.Ba)}function Yl(u,f){u.aa=f,th(u.a,ye.Z.SDK_VERSION?us(ye.Z.SDK_VERSION,u.aa):null)}function lp(u,f){u.ja&&Xi(u.ja,"frameworkChanged",u.Oa),(u.ja=f)&&sr(f,"frameworkChanged",u.Oa)}function dp(u){try{return ye.Z.app(u.m).auth()}catch{throw new Q("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+u.m+"'!")}}function ev(u){u.J||u.D.b||(u.D.start(),Xi(u,"tokenChanged",u.ba),sr(u,"tokenChanged",u.ba))}function jm(u){Xi(u,"tokenChanged",u.ba),u.D.stop()}function Sh(u,f){u.Aa=f,Ye(u,"_lat",f)}function Bi(u){for(var f=[],v=0;v<u.W.length;v++)f.push(u.W[v](u));return S(f).then(function(){return u})}function Xs(u){u.b&&!u.P&&(u.P=!0,Ys(u.b,u))}function hp(u,f){He(u,{uid:f.uid,displayName:f.displayName||null,photoURL:f.photoURL||null,email:f.email||null,emailVerified:f.emailVerified||!1,phoneNumber:f.phoneNumber||null,isAnonymous:f.isAnonymous||!1,tenantId:f.tenantId||null,metadata:new Wl(f.createdAt,f.lastLoginAt),providerData:[]}),u.a.b=u.tenantId}function Xl(){}function an(u){return rt().then(function(){if(u.J)throw new Q("app-deleted")})}function Bm(u){return Ct(u.providerData,function(f){return f.providerId})}function Vm(u,f){f&&(Th(u,f.providerId),u.providerData.push(f))}function Th(u,f){Nn(u.providerData,function(v){return v.providerId==f})}function bn(u,f,v){("uid"!=f||v)&&u.hasOwnProperty(f)&&Ye(u,f,v)}function Jr(u,f){u!=f&&(He(u,{uid:f.uid,displayName:f.displayName,photoURL:f.photoURL,email:f.email,emailVerified:f.emailVerified,phoneNumber:f.phoneNumber,isAnonymous:f.isAnonymous,tenantId:f.tenantId,providerData:[]}),Ye(u,"metadata",f.metadata?function fi(u){return new Wl(u.a,u.b)}(f.metadata):new Wl),yt(f.providerData,function(v){Vm(u,v)}),function Fm(u,f){u.b=f.b,u.a=f.a,u.c=f.c}(u.h,f.h),Ye(u,"refreshToken",u.h.a),Gl(u.S,f.S.b))}function ka(u){return u.I().then(function(f){var v=u.isAnonymous;return function xh(u,f){return tn(u.a,Og,{idToken:f}).then(Ke(u.Kc,u))}(u,f).then(function(){return v||bn(u,"isAnonymous",!1),f})})}function Qs(u,f){f[go]&&u.Aa!=f[go]&&(Pm(u.h,f),u.dispatchEvent(new Ra("tokenChanged")),Sh(u,f[go]),bn(u,"refreshToken",u.h.a))}function Ah(u,f){return ka(u).then(function(){if(rn(Bm(u),f))return Bi(u).then(function(){throw new Q("provider-already-linked")})})}function Mh(u,f,v){return Ji({user:u,credential:Mr(f),additionalUserInfo:f=cl(f),operationType:v})}function Pu(u,f){return Qs(u,f),u.reload().then(function(){return u})}function Um(u,f,v,w,D){if(!xr())return dt(new Q("operation-not-supported-in-this-environment"));if(u.i&&!D)return dt(u.i);var k=qd(v.providerId),N=Wt(u.uid+":::"),V=null;(!Go()||Tr())&&u.s&&v.isOAuthProvider&&(V=uh(u.s,u.l,u.m,f,v,null,N,ye.Z.SDK_VERSION||null,null,null,u.tenantId,u.u));var me=qn(V,k&&k.va,k&&k.ua);return w=w().then(function(){if(ur(u),!D)return u.I().then(function(){})}).then(function(){return dy(u.b,me,f,v,N,!!V,u.tenantId)}).then(function(){return new kt(function(c,s){u.na(f,null,new Q("cancelled-popup-request"),u.g||null),u.f=c,u.C=s,u.g=N,u.c=Am(u.b,u,f,me,N)})}).then(function(c){return me&&Do(me),c?Ji(c):null}).o(function(c){throw me&&Do(me),c}),Yt(u,w,D)}function Rh(u,f,v,w,D){if(!xr())return dt(new Q("operation-not-supported-in-this-environment"));if(u.i&&!D)return dt(u.i);var k=null,N=Wt(u.uid+":::");return w=w().then(function(){if(ur(u),!D)return u.I().then(function(){})}).then(function(){return u.ga=N,Bi(u)}).then(function(V){return u.ha&&(V=(V=u.ha).b.set(ea,u.w(),V.a)),V}).then(function(){return Xg(u.b,f,v,N,u.tenantId)}).o(function(V){if(k=V,u.ha)return kh(u.ha);throw k}).then(function(){if(k)throw k}),Yt(u,w,D)}function ur(u){if(!u.b||!u.P)throw new Q(u.b&&!u.P?"internal-error":"auth-domain-config-required")}function Yt(u,f,v){var w=function nv(u,f,v){return u.i&&!v?(f.cancel(),dt(u.i)):f.o(function(w){throw!w||"auth/user-disabled"!=w.code&&"auth/user-token-expired"!=w.code||(u.i||u.dispatchEvent(new Ra("userInvalidated")),u.i=w),w})}(u,f,v);return u.N.push(w),w.oa(function(){An(u.N,w)}),w.o(function(D){var k=null;throw D&&"auth/multi-factor-auth-required"===D.code&&(k=Nu(D.w(),dp(u),Ke(u.jc,u))),k||D})}function ei(u){if(!u.apiKey)return null;var f={apiKey:u.apiKey,authDomain:u.authDomain,appName:u.appName,emulatorConfig:u.emulatorConfig},v={};if(!u.stsTokenManager||!u.stsTokenManager.accessToken)return null;v[go]=u.stsTokenManager.accessToken,v.refreshToken=u.stsTokenManager.refreshToken||null;var w=u.stsTokenManager.expirationTime;w&&(v.expiresIn=(w-Date.now())/1e3);var D=new vo(f,v,u);return u.providerData&&yt(u.providerData,function(k){k&&Vm(D,Ji(k))}),u.redirectEventId&&(D.ga=u.redirectEventId),D}function Oa(u){this.a=u,this.b=Oo()}sp.prototype.Rc=function(u){var f=this;return u.tb(this.a.a,this.c).then(function(v){var w=q(f.f);return delete w[km],delete w[ku],oe(w,v),f.g(w)})},ct(Ou,Q),Om.prototype.tb=function(u,f,v){return f.type==ul?function Qg(u,f,v,w){return v.Ha().then(function(D){return D={idToken:D},typeof w<"u"&&(D.displayName=w),oe(D,{phoneVerificationInfo:Kt(u.a)}),tn(f,Qv,D)})}(this,u,f,v):function O_(u,f,v){return v.Ha().then(function(w){return oe(w={mfaPendingCredential:w},{phoneVerificationInfo:Kt(u.a)}),tn(f,Gs,w)})}(this,u,f)},ct(Eh,Om),ct(Ch,Eh),ct(Ra,gr),(T=Ac.prototype).yc=function(u){Gl(this,function ap(u){var f=[];return yt(u.mfaInfo||[],function(v){(v=hf(v))&&f.push(v)}),f}(u.hd))},T.Sb=function(){return this.a.I().then(function(u){return new li(u,null)})},T.fc=function(u,f){var v=this,w=this.a.a;return this.Sb().then(function(D){return u.tb(w,D,f)}).then(function(D){return Qs(v.a,D),v.a.reload()})},T.bd=function(u){var f=this,v="string"==typeof u?u:u.uid,w=this.a.a;return this.a.I().then(function(D){return tn(w,Ml,{idToken:D,mfaEnrollmentId:v})}).then(function(D){var k=ii(f.b,function(N){return N.uid!=v});return Gl(f,k),Qs(f.a,D),f.a.reload().o(function(N){if("auth/user-token-expired"!=N.code)throw N})})},T.w=function(){return{multiFactor:{enrolledFactors:Ct(this.b,function(u){return u.w()})}}},cp.prototype.start=function(){this.a=this.c,Dh(this,!0)},cp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ws.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ws.prototype.getToken=function(u){return u=!!u,this.b&&!this.a?dt(new Q("user-token-expired")):u||!this.b||Date.now()>this.c-3e4?this.a?function Jg(u,f){return function nh(u,f){return new kt(function(v,w){"refresh_token"==f.grant_type&&f.refresh_token||"authorization_code"==f.grant_type&&f.code?cm(u,u.l+"?key="+encodeURIComponent(u.c),function(D){D?D.error?w(pm(D)):D.access_token&&D.refresh_token?v(D):w(new Q("internal-error")):w(new Q("network-request-failed"))},"POST",Qu(f).toString(),u.g,u.m.get()):w(new Q("internal-error"))})}(u.f,f).then(function(v){return u.b=vc(v.access_token),u.a=v.refresh_token,Ih(u,v.expires_in),{accessToken:u.b.toString(),refreshToken:u.a}}).o(function(v){throw"auth/user-token-expired"==v.code&&(u.a=null),v})}(this,{grant_type:"refresh_token",refresh_token:this.a}):rt(null):rt({accessToken:this.b.toString(),refreshToken:this.a})},Wl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},ct(vo,ar),vo.prototype.xa=function(u){this.za=u,am(this.a,u)},vo.prototype.la=function(){return this.za},vo.prototype.Ga=function(){return Pn(this.aa)},vo.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Ye(vo.prototype,"providerId","firebase"),(T=vo.prototype).reload=function(){var u=this;return Yt(this,an(this).then(function(){return ka(u).then(function(){return Bi(u)}).then(Xl)}))},T.oc=function(u){return this.I(u).then(function(f){return new fy(f)})},T.I=function(u){var f=this;return Yt(this,an(this).then(function(){return f.h.getToken(u)}).then(function(v){if(!v)throw new Q("internal-error");return v.accessToken!=f.Aa&&(Sh(f,v.accessToken),f.dispatchEvent(new Ra("tokenChanged"))),bn(f,"refreshToken",v.refreshToken),v.accessToken}))},T.Kc=function(u){if(!(u=u.users)||!u.length)throw new Q("internal-error");hp(this,{uid:(u=u[0]).localId,displayName:u.displayName,photoURL:u.photoUrl,email:u.email,emailVerified:!!u.emailVerified,phoneNumber:u.phoneNumber,lastLoginAt:u.lastLoginAt,createdAt:u.createdAt,tenantId:u.tenantId});for(var f=function tv(u){return(u=u.providerUserInfo)&&u.length?Ct(u,function(f){return new Es(f.rawId,f.providerId,f.email,f.displayName,f.photoUrl,f.phoneNumber)}):[]}(u),v=0;v<f.length;v++)Vm(this,f[v]);bn(this,"isAnonymous",!(this.email&&u.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Ra("userReloaded",{hd:u}))},T.Lc=function(u){return tl("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(u)},T.ub=function(u){var f=this,v=null;return Yt(this,u.c(this.a,this.uid).then(function(w){return Qs(f,w),v=Mh(f,w,"reauthenticate"),f.i=null,f.reload()}).then(function(){return v}),!0)},T.Cc=function(u){return tl("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(u)},T.rb=function(u){var f=this,v=null;return Yt(this,Ah(this,u.providerId).then(function(){return f.I()}).then(function(w){return u.b(f.a,w)}).then(function(w){return v=Mh(f,w,"link"),Pu(f,w)}).then(function(){return v}))},T.Dc=function(u,f){var v=this;return Yt(this,Ah(this,"phone").then(function(){return op(dp(v),u,f,Ke(v.rb,v))}))},T.Mc=function(u,f){var v=this;return Yt(this,rt().then(function(){return op(dp(v),u,f,Ke(v.ub,v))}),!0)},T.Cb=function(u){var f=this;return Yt(this,this.I().then(function(v){return f.a.Cb(v,u)}).then(function(v){return Qs(f,v),f.reload()}))},T.ed=function(u){var f=this;return Yt(this,this.I().then(function(v){return u.b(f.a,v)}).then(function(v){return Qs(f,v),f.reload()}))},T.Db=function(u){var f=this;return Yt(this,this.I().then(function(v){return f.a.Db(v,u)}).then(function(v){return Qs(f,v),f.reload()}))},T.Eb=function(u){if(void 0===u.displayName&&void 0===u.photoURL)return an(this);var f=this;return Yt(this,this.I().then(function(v){return f.a.Eb(v,{displayName:u.displayName,photoUrl:u.photoURL})}).then(function(v){return Qs(f,v),bn(f,"displayName",v.displayName||null),bn(f,"photoURL",v.photoUrl||null),yt(f.providerData,function(w){"password"===w.providerId&&(Ye(w,"displayName",f.displayName),Ye(w,"photoURL",f.photoURL))}),Bi(f)}).then(Xl))},T.cd=function(u){var f=this;return Yt(this,ka(this).then(function(v){return rn(Bm(f),u)?function bu(u,f,v){return tn(u,Sl,{idToken:f,deleteProvider:v})}(f.a,v,[u]).then(function(w){var D={};return yt(w.providerUserInfo||[],function(k){D[k.providerId]=!0}),yt(Bm(f),function(k){D[k]||Th(f,k)}),D[Tn.PROVIDER_ID]||Ye(f,"phoneNumber",null),Bi(f)}):Bi(f).then(function(){throw new Q("no-such-provider")})}))},T.delete=function(){var u=this;return Yt(this,this.I().then(function(f){return tn(u.a,ko,{idToken:f})}).then(function(){u.dispatchEvent(new Ra("userDeleted"))})).then(function(){for(var f=0;f<u.N.length;f++)u.N[f].cancel("app-deleted");Kl(u,null),up(u,null),lp(u,null),u.N=[],u.J=!0,jm(u),Ye(u,"refreshToken",null),u.b&&np(u.b,u)})},T.Gb=function(u,f){return!!("linkViaPopup"==u&&(this.g||null)==f&&this.f||"reauthViaPopup"==u&&(this.g||null)==f&&this.f||"linkViaRedirect"==u&&(this.ga||null)==f||"reauthViaRedirect"==u&&(this.ga||null)==f)},T.na=function(u,f,v,w){"linkViaPopup"!=u&&"reauthViaPopup"!=u||w!=(this.g||null)||(v&&this.C?this.C(v):f&&!v&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},T.Fa=function(u,f){return"linkViaPopup"==u&&f==(this.g||null)?Ke(this.Lb,this):"reauthViaPopup"==u&&f==(this.g||null)?Ke(this.Mb,this):"linkViaRedirect"==u&&(this.ga||null)==f?Ke(this.Lb,this):"reauthViaRedirect"==u&&(this.ga||null)==f?Ke(this.Mb,this):null},T.Ec=function(u){var f=this;return Um(this,"linkViaPopup",u,function(){return Ah(f,u.providerId).then(function(){return Bi(f)})},!1)},T.Nc=function(u){return Um(this,"reauthViaPopup",u,function(){return rt()},!0)},T.Fc=function(u){var f=this;return Rh(this,"linkViaRedirect",u,function(){return Ah(f,u.providerId)},!1)},T.Oc=function(u){return Rh(this,"reauthViaRedirect",u,function(){return rt()},!0)},T.Lb=function(u,f,v,w){var D=this;this.c&&(this.c.cancel(),this.c=null);var k=null;return Yt(this,this.I().then(function(N){return Nf(D.a,{requestUri:u,postBody:w,sessionId:f,idToken:N})}).then(function(N){return k=Mh(D,N,"link"),Pu(D,N)}).then(function(){return k}))},T.Mb=function(u,f,v,w){var D=this;this.c&&(this.c.cancel(),this.c=null);var k=null;return Yt(this,rt().then(function(){return yn(lm(D.a,{requestUri:u,sessionId:f,postBody:w,tenantId:v}),D.uid)}).then(function(V){return k=Mh(D,V,"reauthenticate"),Qs(D,V),D.i=null,D.reload()}).then(function(){return k}),!0)},T.vb=function(u){var f=this,v=null;return Yt(this,this.I().then(function(w){return v=w,typeof u>"u"||G(u)?{}:ol(new jd(u))}).then(function(w){return f.a.vb(v,w)}).then(function(w){if(f.email!=w)return f.reload()}).then(function(){}))},T.Fb=function(u,f){var v=this,w=null;return Yt(this,this.I().then(function(D){return w=D,typeof f>"u"||G(f)?{}:ol(new jd(f))}).then(function(D){return v.a.Fb(w,u,D)}).then(function(D){if(v.email!=D)return v.reload()}).then(function(){}))},T.jc=function(u){var f=null,v=this;return Yt(this,u=yn(rt(u),v.uid).then(function(w){return f=Mh(v,w,"reauthenticate"),Qs(v,w),v.i=null,v.reload()}).then(function(){return f}),!0)},T.toJSON=function(){return this.w()},T.w=function(){var u={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&oe(u,this.metadata.w()),yt(this.providerData,function(f){u.providerData.push(function hs(u){var v,f={};for(v in u)u.hasOwnProperty(v)&&(f[v]=u[v]);return f}(f))}),oe(u,this.S.w()),u};var ea={name:"redirectUser",F:"session"};function kh(u){return Iu(u.b,ea,u.a)}function Hm(u){this.a=u,this.b=Oo(),this.c=null,this.f=function zm(u){var f=Na("local"),v=Na("session"),w=Na("none");return function ph(u,f,v){var w=Nr(f,v),D=Ks(u,f.F);return u.get(f,v).then(function(k){var N=null;try{N=ma($.localStorage.getItem(w))}catch{}if(N&&!k)return $.localStorage.removeItem(w),u.set(f,N,v);N&&k&&"localStorage"!=D.type&&$.localStorage.removeItem(w)})}(u.b,f,u.a).then(function(){return u.b.get(v,u.a)}).then(function(D){return D?v:u.b.get(w,u.a).then(function(k){return k?w:u.b.get(f,u.a).then(function(N){return N?f:u.b.get($m,u.a).then(function(V){return V?Na(V):f})})})}).then(function(D){return u.c=D,fp(u,D.F)}).o(function(){u.c||(u.c=f)})}(this),this.b.addListener(Na("local"),this.a,Ke(this.g,this))}function fp(u,f){var w,v=[];for(w in Ic)Ic[w]!==f&&v.push(Iu(u.b,Na(Ic[w]),u.a));return v.push(Iu(u.b,$m,u.a)),function M(u){return new kt(function(f,v){var w=u.length,D=[];if(w)for(var k=function(c,s){w--,D[c]=s,0==w&&f(D)},N=function(c){v(c)},V=0;V<u.length;V++)Cd(u[V],Gt(k,V),N);else f(D)})}(v)}Hm.prototype.g=function(){var u=this,f=Na("local");Mc(this,function(){return rt().then(function(){return u.c&&"local"!=u.c.F?u.b.get(f,u.a):null}).then(function(v){if(v)return fp(u,"local").then(function(){u.c=f})})})};var $m={name:"persistence",F:"session"};function Na(u){return{name:"authUser",F:u}}function Pa(u,f){return Mc(u,function(){return u.b.set(u.c,f.w(),u.a)})}function Oh(u){return Mc(u,function(){return Iu(u.b,u.c,u.a)})}function pp(u,f,v){return Mc(u,function(){return u.b.get(u.c,u.a).then(function(w){return w&&f&&(w.authDomain=f),w&&v&&(w.emulatorConfig=v),ei(w||{})})})}function Mc(u,f){return u.f=u.f.then(f,f),u.f}function Qo(u){if(this.l=!1,Ye(this,"settings",new Rm),Ye(this,"app",u),!wn(this).options||!wn(this).options.apiKey)throw new Q("invalid-api-key");u=ye.Z.SDK_VERSION?us(ye.Z.SDK_VERSION):null,this.a=new Wn(wn(this).options&&wn(this).options.apiKey,ri($n),u),this.P=[],this.s=[],this.N=[],this.Pa=ye.Z.INTERNAL.createSubscribe(Ke(this.zc,this)),this.W=void 0,this.ib=ye.Z.INTERNAL.createSubscribe(Ke(this.Ac,this)),Fa(this,null),this.i=new Hm(wn(this).options.apiKey+":"+wn(this).name),this.D=new Oa(wn(this).options.apiKey+":"+wn(this).name),this.$=kn(this,function Gm(u){var f=wn(u).options.authDomain,v=function Fu(u){var f=function my(u,f){return u.b.get(ea,u.a).then(function(v){return v&&f&&(v.authDomain=f),ei(v||{})})}(u.D,wn(u).options.authDomain).then(function(v){return(u.m=v)&&(v.ha=u.D),kh(u.D)});return kn(u,f)}(u).then(function(){return pp(u.i,f,u.R)}).then(function(w){return w?(w.ha=u.D,u.m&&(u.m.ga||null)==(w.ga||null)?w:w.reload().then(function(){return Pa(u.i,w).then(function(){return w})}).o(function(D){return"auth/network-request-failed"==D.code?w:Oh(u.i)})):null}).then(function(w){Fa(u,w||null)});return kn(u,v)}(this)),this.h=kn(this,function Jl(u){return u.$.then(function(){return Ph(u)}).o(function(){}).then(function(){if(!u.l)return u.ja()}).o(function(){}).then(function(){if(!u.l){u.ba=!0;var f=u.i;f.b.addListener(Na("local"),f.a,u.ja)}})}(this)),this.ba=!1,this.ja=Ke(this.Zc,this),this.Ba=Ke(this.da,this),this.qa=Ke(this.mc,this),this.za=Ke(this.wc,this),this.Aa=Ke(this.xc,this),this.b=null,function ov(u){var f=wn(u).options.authDomain,v=wn(u).options.apiKey;f&&xr()&&(u.Oa=u.$.then(function(){if(!u.l){if(u.b=Zs(f,v,wn(u).name,u.R),Ys(u.b,u),Ft(u)&&Xs(Ft(u)),u.m){Xs(u.m);var w=u.m;w.xa(u.la()),Kl(w,u),Yl(w=u.m,u.J),lp(w,u),Lm(w=u.m,u.R),up(w,u),u.m=null}return u.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=Ke(this.delete,this),this.INTERNAL.logFramework=Ke(this.Gc,this),this.u=0,ar.call(this),function gy(u){Object.defineProperty(u,"lc",{get:function(){return this.la()},set:function(f){this.xa(f)},enumerable:!1}),u.aa=null,Object.defineProperty(u,"ti",{get:function(){return this.T()},set:function(f){this.zb(f)},enumerable:!1}),u.S=null,Object.defineProperty(u,"emulatorConfig",{get:function(){if(this.R){var f=Ei(this.R.url);f=Ji({protocol:f.c,host:f.a,port:f.g,options:Ji({disableWarnings:this.R.ec})})}else f=null;return f},enumerable:!1})}(this),this.J=[],this.R=null}function iv(u){gr.call(this,"languageCodeChanged"),this.h=u}function qm(u){gr.call(this,"emulatorConfigChanged"),this.c=u}function Nh(u){gr.call(this,"frameworkChanged"),this.f=u}function Ds(u){return u.Oa||dt(new Q("auth-domain-config-required"))}function Ph(u){if(!xr())return dt(new Q("operation-not-supported-in-this-environment"));var f=Ds(u).then(function(){return u.b.ra()}).then(function(v){return v?Ji(v):null});return kn(u,f)}function Fa(u,f){Ft(u)&&(function Zl(u,f){Nn(u.W,function(v){return v==f})}(Ft(u),u.Ba),Xi(Ft(u),"tokenChanged",u.qa),Xi(Ft(u),"userDeleted",u.za),Xi(Ft(u),"userInvalidated",u.Aa),jm(Ft(u))),f&&(f.W.push(u.Ba),sr(f,"tokenChanged",u.qa),sr(f,"userDeleted",u.za),sr(f,"userInvalidated",u.Aa),0<u.u&&ev(f)),Ye(u,"currentUser",f),f&&(f.xa(u.la()),Kl(f,u),Yl(f,u.J),lp(f,u),Lm(f,u.R),up(f,u))}function Is(u,f){var v=null,w=null;return kn(u,f.then(function(D){return v=Mr(D),w=cl(D),function mp(u,f){var v={};return v.apiKey=wn(u).options.apiKey,v.authDomain=wn(u).options.authDomain,v.appName=wn(u).name,u.R&&(v.emulatorConfig=u.R),u.$.then(function(){return function rv(u,f,v,w){var D=new vo(u,f);return v&&(D.ha=v),w&&Yl(D,w),D.reload().then(function(){return D})}(v,f,u.D,u.Ga())}).then(function(w){return Ft(u)&&w.uid==Ft(u).uid?(Jr(Ft(u),w),u.da(w)):(Fa(u,w),Xs(w),u.da(w))}).then(function(){br(u)})}(u,D)},function(D){var k=null;throw D&&"auth/multi-factor-auth-required"===D.code&&(k=Nu(D.w(),u,Ke(u.kc,u))),k||D}).then(function(){return Ji({user:Ft(u),credential:v,additionalUserInfo:w,operationType:"signIn"})}))}function wn(u){return u.app}function Ft(u){return u.currentUser}function ta(u){return Ft(u)&&Ft(u)._lat||null}function br(u){if(u.ba){for(var f=0;f<u.s.length;f++)u.s[f]&&u.s[f](ta(u));if(u.W!==u.getUid()&&u.N.length)for(u.W=u.getUid(),f=0;f<u.N.length;f++)u.N[f]&&u.N[f](ta(u))}}function kn(u,f){return u.P.push(f),f.oa(function(){An(u.P,f)}),f}function Jo(){}function ed(){this.a={},this.b=1e12}Hm.prototype.yb=function(u){var f=null,v=this;return function qg(u){var f=new Q("invalid-persistence-type"),v=new Q("unsupported-persistence-type");e:{for(w in Ic)if(Ic[w]==u){var w=!0;break e}w=!1}if(!w||"string"!=typeof u)throw f;switch(Se()){case"ReactNative":if("session"===u)throw v;break;case"Node":if("none"!==u)throw v;break;case"Worker":if("session"===u||!Ug()&&"none"!==u)throw v;break;default:if(!au()&&"none"!==u)throw v}}(u),Mc(this,function(){return u!=v.c.F?v.b.get(v.c,v.a).then(function(w){return f=w,fp(v,u)}).then(function(){if(v.c=Na(u),f)return v.b.set(v.c,f,v.a)}):rt()})},ct(Qo,ar),ct(iv,gr),ct(qm,gr),ct(Nh,gr),(T=Qo.prototype).yb=function(u){return kn(this,u=this.i.yb(u))},T.xa=function(u){this.aa===u||this.l||(this.aa=u,am(this.a,this.aa),this.dispatchEvent(new iv(this.la())))},T.la=function(){return this.aa},T.fd=function(){var u=$.navigator;this.xa(u&&(u.languages&&u.languages[0]||u.language||u.userLanguage)||null)},T.gd=function(u,f){if(!this.R){if(!/^https?:\/\//.test(u))throw new Q("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function Ql(u){typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),$.document&&!u&&Hr().then(function(){var f=$.document.createElement("div");f.innerText="Running in emulator mode. Do not use with production credentials.",f.style.position="fixed",f.style.width="100%",f.style.backgroundColor="#ffffff",f.style.border=".1em solid #000000",f.style.color="#b50000",f.style.bottom="0px",f.style.left="0px",f.style.margin="0px",f.style.zIndex=1e4,f.style.textAlign="center",f.classList.add("firebase-emulator-warning"),$.document.body.appendChild(f)})})(f=!!f&&!!f.disableWarnings),this.R={url:u,ec:f},this.settings.jb=!0,gs(this.a,this.R),this.dispatchEvent(new qm(this.R))}},T.Gc=function(u){this.J.push(u),th(this.a,ye.Z.SDK_VERSION?us(ye.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new Nh(this.J))},T.Ga=function(){return Pn(this.J)},T.zb=function(u){this.S===u||this.l||(this.S=u,this.a.b=this.S)},T.T=function(){return this.S},T.toJSON=function(){return{apiKey:wn(this).options.apiKey,authDomain:wn(this).options.authDomain,appName:wn(this).name,currentUser:Ft(this)&&Ft(this).w()}},T.Gb=function(u,f){switch(u){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==f&&!!this.f;default:return!1}},T.na=function(u,f,v,w){"signInViaPopup"==u&&this.g==w&&(v&&this.C?this.C(v):f&&!v&&this.f&&this.f(f),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},T.Fa=function(u,f){return"signInViaRedirect"==u||"signInViaPopup"==u&&this.g==f&&this.f?Ke(this.ic,this):null},T.ic=function(u,f,v,w){var D=this,k={requestUri:u,postBody:w,sessionId:f,tenantId:v};return this.c&&(this.c.cancel(),this.c=null),D.$.then(function(){return Is(D,Rg(D.a,k))})},T.Xc=function(u){if(!xr())return dt(new Q("operation-not-supported-in-this-environment"));var f=this,v=qd(u.providerId),w=Wt(),D=null;(!Go()||Tr())&&wn(this).options.authDomain&&u.isOAuthProvider&&(D=uh(wn(this).options.authDomain,wn(this).options.apiKey,wn(this).name,"signInViaPopup",u,null,w,ye.Z.SDK_VERSION||null,null,null,this.T(),this.R));var k=qn(D,v&&v.va,v&&v.ua);return kn(this,v=Ds(this).then(function(N){return dy(N,k,"signInViaPopup",u,w,!!D,f.T())}).then(function(){return new kt(function(N,V){f.na("signInViaPopup",null,new Q("cancelled-popup-request"),f.g),f.f=N,f.C=V,f.g=w,f.c=Am(f.b,f,"signInViaPopup",k,w)})}).then(function(N){return k&&Do(k),N?Ji(N):null}).o(function(N){throw k&&Do(k),N}))},T.Yc=function(u){if(!xr())return dt(new Q("operation-not-supported-in-this-environment"));var f=this,v=Ds(this).then(function(){return function Cs(u){return Mc(u,function(){return u.b.set($m,u.c.F,u.a)})}(f.i)}).then(function(){return Xg(f.b,"signInViaRedirect",u,void 0,f.T())});return kn(this,v)},T.ra=function(){var u=this;return Ph(this).then(function(f){return u.b&&Tc(u.b.b),f}).o(function(f){throw u.b&&Tc(u.b.b),f})},T.dd=function(u){if(!u)return dt(new Q("null-user"));if(this.S!=u.tenantId)return dt(new Q("tenant-id-mismatch"));var f=this,v={};v.apiKey=wn(this).options.apiKey,v.authDomain=wn(this).options.authDomain,v.appName=wn(this).name;var w=function Js(u,f,v,w){var D=u.h,k={};return k[go]=D.b&&D.b.toString(),k.refreshToken=D.a,f=new vo(f||{apiKey:u.l,authDomain:u.s,appName:u.m},k),v&&(f.ha=v),w&&Yl(f,w),Jr(f,u),f}(u,v,f.D,f.Ga());return kn(this,this.h.then(function(){if(wn(f).options.apiKey!=u.l)return w.reload()}).then(function(){return Ft(f)&&u.uid==Ft(f).uid?(Jr(Ft(f),u),f.da(u)):(Fa(f,w),Xs(w),f.da(w))}).then(function(){br(f)}))},T.Bb=function(){var u=this;return kn(this,this.h.then(function(){return u.b&&Tc(u.b.b),Ft(u)?(Fa(u,null),Oh(u.i).then(function(){br(u)})):rt()}))},T.Zc=function(){var u=this;return pp(this.i,wn(this).options.authDomain).then(function(f){if(!u.l){var v;if(v=Ft(u)&&f){v=Ft(u).uid;var w=f.uid;v=null!=v&&""!==v&&null!=w&&""!==w&&v==w}if(v)return Jr(Ft(u),f),Ft(u).I();(Ft(u)||f)&&(Fa(u,f),f&&(Xs(f),f.ha=u.D),u.b&&Ys(u.b,u),br(u))}})},T.da=function(u){return Pa(this.i,u)},T.mc=function(){br(this),this.da(Ft(this))},T.wc=function(){this.Bb()},T.xc=function(){this.Bb()},T.kc=function(u){var f=this;return this.h.then(function(){return Is(f,rt(u))})},T.zc=function(u){var f=this;this.addAuthTokenListener(function(){u.next(Ft(f))})},T.Ac=function(u){var f=this;!function yo(u,f){u.N.push(f),kn(u,u.h.then(function(){!u.l&&rn(u.N,f)&&u.W!==u.getUid()&&(u.W=u.getUid(),f(ta(u)))}))}(this,function(){u.next(Ft(f))})},T.Ic=function(u,f,v){var w=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof u?u(Ft(w)):"function"==typeof u.next&&u.next(Ft(w))}),this.Pa(u,f,v)},T.Hc=function(u,f,v){var w=this;return this.ba&&Promise.resolve().then(function(){w.W=w.getUid(),"function"==typeof u?u(Ft(w)):"function"==typeof u.next&&u.next(Ft(w))}),this.ib(u,f,v)},T.nc=function(u){var f=this;return kn(this,this.h.then(function(){return Ft(f)?Ft(f).I(u).then(function(w){return{accessToken:w}}):null}))},T.Tc=function(u){var f=this;return this.h.then(function(){return Is(f,tn(f.a,Ng,{token:u}))}).then(function(v){var w=v.user;return bn(w,"isAnonymous",!1),f.da(w),v})},T.Uc=function(u,f){var v=this;return this.h.then(function(){return Is(v,tn(v.a,jf,{email:u,password:f}))})},T.dc=function(u,f){var v=this;return this.h.then(function(){return Is(v,tn(v.a,M_,{email:u,password:f}))})},T.ab=function(u){var f=this;return this.h.then(function(){return Is(f,u.ka(f.a))})},T.Sc=function(u){return tl("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(u)},T.Ab=function(){var u=this;return this.h.then(function(){var f=Ft(u);if(f&&f.isAnonymous){var v=Ji({providerId:null,isNewUser:!1});return Ji({user:f,credential:null,additionalUserInfo:v,operationType:"signIn"})}return Is(u,u.a.Ab()).then(function(w){var D=w.user;return bn(D,"isAnonymous",!0),u.da(D),w})})},T.getUid=function(){return Ft(this)&&Ft(this).uid||null},T.cc=function(u){this.addAuthTokenListener(u),this.u++,0<this.u&&Ft(this)&&ev(Ft(this))},T.Pc=function(u){var f=this;yt(this.s,function(v){v==u&&f.u--}),0>this.u&&(this.u=0),0==this.u&&Ft(this)&&jm(Ft(this)),this.removeAuthTokenListener(u)},T.addAuthTokenListener=function(u){var f=this;this.s.push(u),kn(this,this.h.then(function(){f.l||rn(f.s,u)&&u(ta(f))}))},T.removeAuthTokenListener=function(u){Nn(this.s,function(f){return f==u})},T.delete=function(){this.l=!0;for(var u=0;u<this.P.length;u++)this.P[u].cancel("app-deleted");return this.P=[],this.i&&(u=this.i).b.removeListener(Na("local"),u.a,this.ja),this.b&&(np(this.b,this),Tc(this.b.b)),Promise.resolve()},T.hc=function(u){return kn(this,function Mi(u,f){return tn(u,Xv,{identifier:f,continueUri:Cn()?Co():"http://localhost"}).then(function(v){return v.signinMethods||[]})}(this.a,u))},T.Bc=function(u){return!!Hs(u)},T.xb=function(u,f){var v=this;return kn(this,rt().then(function(){var w=new jd(f);if(!w.c)throw new Q("argument-error",xo+" must be true when sending sign in link to email");return ol(w)}).then(function(w){return v.a.xb(u,w)}).then(function(){}))},T.jd=function(u){return this.Sa(u).then(function(f){return f.data.email})},T.ob=function(u,f){return kn(this,this.a.ob(u,f).then(function(){}))},T.Sa=function(u){return kn(this,this.a.Sa(u).then(function(f){return new Pd(f)}))},T.kb=function(u){return kn(this,this.a.kb(u).then(function(){}))},T.wb=function(u,f){var v=this;return kn(this,rt().then(function(){return typeof f>"u"||G(f)?{}:ol(new jd(f))}).then(function(w){return v.a.wb(u,w)}).then(function(){}))},T.Wc=function(u,f){return kn(this,op(this,u,f,Ke(this.ab,this)))},T.Vc=function(u,f){var v=this;return kn(this,rt().then(function(){var w=f||Co(),D=Wd(u,w);if(!(w=Hs(w)))throw new Q("argument-error","Invalid email link!");if(w.tenantId!==v.T())throw new Q("tenant-id-mismatch");return v.ab(D)}))},Jo.prototype.render=function(){},Jo.prototype.reset=function(){},Jo.prototype.getResponse=function(){},Jo.prototype.execute=function(){};var Fh=null;function La(u,f){return(f=td(f))&&u.a[f]||null}function td(u){return(u=typeof u>"u"?1e12:u)?u.toString():null}function Ss(u,f){this.g=!1,this.c=f,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Ur(u);var v=this;this.i=function(){v.execute()},this.h?this.execute():sr(this.f,"click",this.i)}function Wm(u){if(u.g)throw Error("reCAPTCHA mock was already deleted!")}function Lh(){}function Lu(){}ed.prototype.render=function(u,f){return this.a[this.b.toString()]=new Ss(u,f),this.b++},ed.prototype.reset=function(u){var f=La(this,u);u=td(u),f&&u&&(f.delete(),delete this.a[u])},ed.prototype.getResponse=function(u){return(u=La(this,u))?u.getResponse():null},ed.prototype.execute=function(u){(u=La(this,u))&&u.execute()},Ss.prototype.getResponse=function(){return Wm(this),this.b},Ss.prototype.execute=function(){Wm(this);var u=this;this.a||(this.a=setTimeout(function(){u.b=function df(){for(var u=50,f=[];0<u;)f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),u--;return f.join("")}();var f=u.c.callback,v=u.c["expired-callback"];if(f)try{f(u.b)}catch{}u.a=setTimeout(function(){if(u.a=null,u.b=null,v)try{v()}catch{}u.h&&u.execute()},6e4)},500))},Ss.prototype.delete=function(){Wm(this),this.g=!0,clearTimeout(this.a),this.a=null,Xi(this.f,"click",this.i)},Ye(Lh,"FACTOR_ID","phone"),Lu.prototype.g=function(){return Fh||(Fh=new ed),rt(Fh)},Lu.prototype.c=function(){};var gp=null;function jh(){this.b=$.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Rc=new Ae(un,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),vy=new So(3e4,6e4);jh.prototype.g=function(u){var f=this;return new kt(function(v,w){var D=setTimeout(function(){w(new Q("network-request-failed"))},vy.get());!$.grecaptcha||u!==f.f&&!f.b?($[f.a]=function(){if($.grecaptcha){f.f=u;var N=$.grecaptcha.render;$.grecaptcha.render=function(V,me){return V=N(V,me),f.b++,V},clearTimeout(D),v($.grecaptcha)}else clearTimeout(D),w(new Q("internal-error"));delete $[f.a]},rt(Xr(yi(Rc,{onload:f.a,hl:u||""}))).o(function(){clearTimeout(D),w(new Q("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(D),v($.grecaptcha))})},jh.prototype.c=function(){this.b--};var No=null;function nd(u,f,v,w,D,k,N){if(Ye(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=f,this.g=null,N?(gp||(gp=new Lu),N=gp):(No||(No=new jh),N=No),this.m=N,this.a=v||{theme:"light",type:"image"},this.h=[],this.a[yy])throw new Q("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[_p],!$.document)throw new Q("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Ur(f)||!this.i&&Ur(f).hasChildNodes())throw new Q("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Wn(u,k||null,D||null),this.u=w||function(){return null};var V=this;this.l=[];var me=this.a[vp];this.a[vp]=function(s){if(ja(V,s),"function"==typeof me)me(s);else if("string"==typeof me){var l=Be(me,$);"function"==typeof l&&l(s)}};var c=this.a[yp];this.a[yp]=function(){if(ja(V,null),"function"==typeof c)c();else if("string"==typeof c){var s=Be(c,$);"function"==typeof s&&s()}}}var vp="callback",yp="expired-callback",yy="sitekey",_p="size";function ja(u,f){for(var v=0;v<u.l.length;v++)try{u.l[v](f)}catch{}}function rd(u,f){return u.h.push(f),f.oa(function(){An(u.h,f)}),f}function na(u){if(u.J)throw new Q("internal-error","RecaptchaVerifier instance has been destroyed.")}function id(u,f,v){var w=!1;try{this.b=v||ye.Z.app()}catch{throw new Q("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Q("invalid-api-key");v=this.b.options.apiKey;var D=this,k=null;try{k=this.b.auth().Ga()}catch{}try{w=this.b.auth().settings.appVerificationDisabledForTesting}catch{}k=ye.Z.SDK_VERSION?us(ye.Z.SDK_VERSION,k):null,nd.call(this,v,u,f,function(){try{var N=D.b.auth().la()}catch{N=null}return N},k,ri($n),w)}function kc(u,f,v,w){e:{v=Array.prototype.slice.call(v);for(var D=0,k=!1,N=0;N<f.length;N++)if(f[N].optional)k=!0;else{if(k)throw new Q("internal-error","Argument validator encountered a required argument after an optional argument.");D++}if(k=f.length,v.length<D||k<v.length)w="Expected "+(D==k?1==D?"1 argument":D+" arguments":D+"-"+k+" arguments")+" but got "+v.length+".";else{for(D=0;D<v.length;D++)if(k=f[D].optional&&void 0===v[D],!f[D].M(v[D])&&!k){if(f=f[D],0>D||D>=Oc.length)throw new Q("internal-error","Argument validator received an unsupported number of arguments.");v=Oc[D],w=(w?"":v+" argument ")+(f.name?'"'+f.name+'" ':"")+"must be "+f.K+".";break e}w=null}}if(w)throw new Q("argument-error",u+" failed: "+w)}(T=nd.prototype).Ia=function(){var u=this;return this.f?this.f:this.f=rd(this,rt().then(function(){if(Cn()&&!Ii())return Hr();throw new Q("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return u.m.g(u.u())}).then(function(f){return u.g=f,tn(u.s,Jv,{})}).then(function(f){u.a[yy]=f.recaptchaSiteKey}).o(function(f){throw u.f=null,f}))},T.render=function(){na(this);var u=this;return rd(this,this.Ia().then(function(){if(null===u.c){var f=u.v;if(!u.i){var v=Ur(f);f=function sf(u,f,v){var w=arguments,D=document,k=String(w[0]),N=w[1];if(!rf&&N&&(N.name||N.type)){if(k=["<",k],N.name&&k.push(' name="',os(N.name),'"'),N.type){k.push(' type="',os(N.type),'"');var V={};oe(V,N),delete V.type,N=V}k.push(">"),k=k.join("")}return k=ke(D,k),N&&("string"==typeof N?k.className=N:Array.isArray(N)?k.className=N.join(" "):lt(k,N)),2<w.length&&function Zc(u,f,v){function w(V){V&&f.appendChild("string"==typeof V?u.createTextNode(V):V)}for(var D=2;D<v.length;D++){var k=v[D];if(!Nt(k)||ft(k)&&0<k.nodeType)w(k);else{e:{if(k&&"number"==typeof k.length){if(ft(k)){var N="function"==typeof k.item||"string"==typeof k.item;break e}if(Bt(k)){N="function"==typeof k.item;break e}}N=!1}yt(N?Pn(k):k,w)}}}(D,k,w),k}("DIV"),v.appendChild(f)}u.c=u.g.render(f,u.a)}return u.c}))},T.verify=function(){na(this);var u=this;return rd(this,this.render().then(function(f){return new kt(function(v){var w=u.g.getResponse(f);if(w)v(w);else{var D=function(k){k&&(function Ba(u,f){Nn(u.l,function(v){return v==f})}(u,D),v(k))};u.l.push(D),u.i&&u.g.execute(u.c)}})}))},T.reset=function(){na(this),null!==this.c&&this.g.reset(this.c)},T.clear=function(){na(this),this.J=!0,this.m.c();for(var u=0;u<this.h.length;u++)this.h[u].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){u=Ur(this.v);for(var f;f=u.firstChild;)u.removeChild(f)}},ct(id,nd);var Oc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function $e(u,f){return{name:u||"",K:"a valid string",optional:!!f,M:function(v){return"string"==typeof v}}}function Va(u,f){return{name:u||"",K:"a boolean",optional:!!f,M:function(v){return"boolean"==typeof v}}}function lr(u,f){return{name:u||"",K:"a valid object",optional:!!f,M:ft}}function Ua(u,f){return{name:u||"",K:"a function",optional:!!f,M:function(v){return"function"==typeof v}}}function Po(u,f){return{name:u||"",K:"null",optional:!!f,M:function(v){return null===v}}}function Ha(u){return{name:u?u+"Credential":"credential",K:u?"a valid "+u+" credential":"a valid credential",optional:!1,M:function(f){return!!f&&!(!f.ka||u&&f.providerId!==u)}}}function $a(u,f){return ft(u)&&"string"==typeof u.type&&u.type===f&&"function"==typeof u.Ha}function pi(u){return ft(u)&&"string"==typeof u.uid}function wr(u,f,v,w){return{name:v||"",K:u.K+" or "+f.K,optional:!!w,M:function(D){return u.M(D)||f.M(D)}}}function Bn(u,f){for(var v in f){var w=f[v].name;u[w]=Uh(w,u[v],f[v].j)}}function Vh(u,f){for(var v in f){var w=f[v].name;w!==v&&Object.defineProperty(u,w,{get:Gt(function(D){return this[D]},v),set:Gt(function(D,k,N,V){kc(D,[N],[V],!0),this[k]=V},w,v,f[v].lb),enumerable:!0})}}function Xn(u,f,v,w){u[f]=Uh(f,v,w)}function Uh(u,f,v){function w(){var N=Array.prototype.slice.call(arguments);return kc(D,v,N),f.apply(this,N)}if(!v)return f;var k,D=function Hh(u){return(u=u.split("."))[u.length-1]}(u);for(k in f)w[k]=f[k];for(k in f.prototype)w.prototype[k]=f.prototype[k];return w}Bn(Qo.prototype,{kb:{name:"applyActionCode",j:[$e("code")]},Sa:{name:"checkActionCode",j:[$e("code")]},ob:{name:"confirmPasswordReset",j:[$e("code"),$e("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[$e("email"),$e("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[$e("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[$e("emailLink")]},Hc:{name:"onAuthStateChanged",j:[wr(lr(),Ua(),"nextOrObserver"),Ua("opt_error",!0),Ua("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[wr(lr(),Ua(),"nextOrObserver"),Ua("opt_error",!0),Ua("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[$e("email"),wr(lr("opt_actionCodeSettings",!0),Po(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[$e("email"),lr("actionCodeSettings")]},yb:{name:"setPersistence",j:[$e("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ha()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ha()]},Tc:{name:"signInWithCustomToken",j:[$e("token")]},Uc:{name:"signInWithEmailAndPassword",j:[$e("email"),$e("password")]},Vc:{name:"signInWithEmailLink",j:[$e("email"),$e("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[$e("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[wr({name:"user",K:"an instance of Firebase User",optional:!1,M:function(f){return!!(f&&f instanceof vo)}},Po(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[$e(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[$e("url"),lr("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[$e("code")]}}),Vh(Qo.prototype,{lc:{name:"languageCode",lb:wr($e(),Po(),"languageCode")},ti:{name:"tenantId",lb:wr($e(),Po(),"tenantId")}}),(Qo.Persistence=Ic).LOCAL="local",Qo.Persistence.SESSION="session",Qo.Persistence.NONE="none",Bn(vo.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Va("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Va("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ha()]},rb:{name:"linkWithCredential",j:[Ha()]},Dc:{name:"linkWithPhoneNumber",j:[$e("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ha()]},ub:{name:"reauthenticateWithCredential",j:[Ha()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[$e("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(u){return!!(u&&u.providerId&&u.hasOwnProperty&&u.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[wr(lr("opt_actionCodeSettings",!0),Po(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[$e(null,!0)]},cd:{name:"unlink",j:[$e("provider")]},Cb:{name:"updateEmail",j:[$e("email")]},Db:{name:"updatePassword",j:[$e("password")]},ed:{name:"updatePhoneNumber",j:[Ha("phone")]},Eb:{name:"updateProfile",j:[lr("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[$e("email"),wr(lr("opt_actionCodeSettings",!0),Po(null,!0),"opt_actionCodeSettings",!0)]}}),Bn(ed.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Bn(Jo.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Bn(kt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Vh(Rm.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Va("appVerificationDisabledForTesting")}}),Bn(ip.prototype,{confirm:{name:"confirm",j:[$e("verificationCode")]}}),Xn(fs,"fromJSON",function(u){u="string"==typeof u?JSON.parse(u):u;for(var f,v=[Ig,Sg,be,Wv],w=0;w<v.length;w++)if(f=v[w](u))return f;return null},[wr($e(),lr(),"json")]),Xn(jn,"credential",function(u,f){return new fo(u,f)},[$e("email"),$e("password")]),Bn(fo.prototype,{w:{name:"toJSON",j:[$e(null,!0)]}}),Bn(yc.prototype,{Ca:{name:"addScope",j:[$e("scope")]},Ka:{name:"setCustomParameters",j:[lr("customOAuthParameters")]}}),Xn(yc,"credential",vt,[wr($e(),lr(),"token")]),Xn(jn,"credentialWithLink",Wd,[$e("email"),$e("emailLink")]),Bn(wa.prototype,{Ca:{name:"addScope",j:[$e("scope")]},Ka:{name:"setCustomParameters",j:[lr("customOAuthParameters")]}}),Xn(wa,"credential",$r,[wr($e(),lr(),"token")]),Bn(Ht.prototype,{Ca:{name:"addScope",j:[$e("scope")]},Ka:{name:"setCustomParameters",j:[lr("customOAuthParameters")]}}),Xn(Ht,"credential",dl,[wr($e(),wr(lr(),Po()),"idToken"),wr($e(),Po(),"accessToken",!0)]),Bn(_c.prototype,{Ka:{name:"setCustomParameters",j:[lr("customOAuthParameters")]}}),Xn(_c,"credential",tm,[wr($e(),lr(),"token"),$e("secret",!0)]),Bn(Ar.prototype,{Ca:{name:"addScope",j:[$e("scope")]},credential:{name:"credential",j:[wr($e(),wr(lr(),Po()),"optionsOrIdToken"),wr($e(),Po(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[lr("customOAuthParameters")]}}),Bn(di.prototype,{w:{name:"toJSON",j:[$e(null,!0)]}}),Bn(Us.prototype,{w:{name:"toJSON",j:[$e(null,!0)]}}),Xn(Tn,"credential",ps,[$e("verificationId"),$e("verificationCode")]),Bn(Tn.prototype,{gb:{name:"verifyPhoneNumber",j:[wr($e(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(v){return!!v&&(v.session&&v.phoneNumber?$a(v.session,ul)&&"string"==typeof v.phoneNumber:v.session&&v.multiFactorHint?$a(v.session,_a)&&pi(v.multiFactorHint):v.session&&v.multiFactorUid?$a(v.session,_a)&&"string"==typeof v.multiFactorUid:!!v.phoneNumber&&"string"==typeof v.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(u){return!(!u||"string"!=typeof u.type||"function"!=typeof u.verify)}}]}}),Bn(Gn.prototype,{w:{name:"toJSON",j:[$e(null,!0)]}}),Bn(Q.prototype,{toJSON:{name:"toJSON",j:[$e(null,!0)]}}),Bn(bc.prototype,{toJSON:{name:"toJSON",j:[$e(null,!0)]}}),Bn(If.prototype,{toJSON:{name:"toJSON",j:[$e(null,!0)]}}),Bn(Ou.prototype,{toJSON:{name:"toJSON",j:[$e(null,!0)]}}),Bn(sp.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(u){return!!u&&!!u.tb}}]}}),Bn(Ac.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(u){return!!u&&!!u.tb}},$e("displayName",!0)]},bd:{name:"unenroll",j:[wr({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:pi},$e(),"multiFactorInfoIdentifier")]}}),Bn(id.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Xn(lu,"parseLink",rl,[$e("link")]),Xn(Lh,"assertion",function(u){return new Ch(u)},[Ha("phone")]),function(){if(!(typeof ye.Z<"u"&&ye.Z.INTERNAL&&ye.Z.INTERNAL.registerComponent))throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var u={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ga,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Ti,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Qo,AuthCredential:fs,Error:Q};Xn(u,"EmailAuthProvider",jn,[]),Xn(u,"FacebookAuthProvider",yc,[]),Xn(u,"GithubAuthProvider",wa,[]),Xn(u,"GoogleAuthProvider",Ht,[]),Xn(u,"TwitterAuthProvider",_c,[]),Xn(u,"OAuthProvider",Ar,[$e("providerId")]),Xn(u,"SAMLAuthProvider",du,[$e("providerId")]),Xn(u,"PhoneAuthProvider",Tn,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(u){return!!(u&&u instanceof Qo)}}]),Xn(u,"RecaptchaVerifier",id,[wr($e(),{name:"",K:"an HTML element",optional:!1,M:function(u){return!!(u&&u instanceof Element)}},"recaptchaContainer"),lr("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(u){return!!(u&&u instanceof ye.Z.app.App)}}]),Xn(u,"ActionCodeURL",lu,[]),Xn(u,"PhoneMultiFactorGenerator",Lh,[]),ye.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(f){return new Qo(f=f.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:u,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(f){f.getProvider("auth-internal").initialize()}}),ye.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(f){return{getUid:Ke((f=f.getProvider("auth").getImmediate()).getUid,f),getToken:Ke(f.nc,f),addAuthTokenListener:Ke(f.cc,f),removeAuthTokenListener:Ke(f.Pc,f)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ye.Z.registerVersion("@firebase/auth","0.16.8"),ye.Z.INTERNAL.extendNamespace({User:vo})}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},677:(ec,vi,$t)=>{$t.r(vi);var ye=$t(778),T=$t(582),Ge=$t(157),st=$t(83),Ot=function(c,s){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,h){l.__proto__=h}||function(l,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(l[m]=h[m])})(c,s)};function Fr(c){var s="function"==typeof Symbol&&Symbol.iterator,l=s&&c[s],h=0;if(l)return l.call(c);if(c&&"number"==typeof c.length)return{next:function(){return c&&h>=c.length&&(c=void 0),{value:c&&c[h++],done:!c}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}var le,$i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$=$||{},Ce=$i||self;function Re(){}function xe(c){var s=typeof c;return"array"==(s="object"!=s?s:c?Array.isArray(c)?"array":s:"null")||"object"==s&&"number"==typeof c.length}function Ne(c){var s=typeof c;return"object"==s&&null!=c||"function"==s}var Nt="closure_uid_"+(1e9*Math.random()>>>0),Bt=0;function ft(c,s,l){return c.call.apply(c.bind,arguments)}function hr(c,s,l){if(!c)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,h),c.apply(s,m)}}return function(){return c.apply(s,arguments)}}function qt(c,s,l){return(qt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ft:hr).apply(null,arguments)}function fr(c,s){var l=Array.prototype.slice.call(arguments,1);return function(){var h=l.slice();return h.push.apply(h,arguments),c.apply(this,h)}}function pt(c,s){function l(){}l.prototype=s.prototype,c.Z=s.prototype,c.prototype=new l,c.prototype.constructor=c,c.Vb=function(h,m,y){for(var b=Array(arguments.length-2),C=2;C<arguments.length;C++)b[C-2]=arguments[C];return s.prototype[m].apply(h,b)}}function zn(){this.s=this.s,this.o=this.o}var Gt={};zn.prototype.s=!1,zn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var c=function jt(c){return Object.prototype.hasOwnProperty.call(c,Nt)&&c[Nt]||(c[Nt]=++Bt)}(this);delete Gt[c]}},zn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var qi=Array.prototype.indexOf?function(c,s){return Array.prototype.indexOf.call(c,s,void 0)}:function(c,s){if("string"==typeof c)return"string"!=typeof s||1!=s.length?-1:c.indexOf(s,0);for(var l=0;l<c.length;l++)if(l in c&&c[l]===s)return l;return-1},ct=Array.prototype.forEach?function(c,s,l){Array.prototype.forEach.call(c,s,l)}:function(c,s,l){for(var h=c.length,m="string"==typeof c?c.split(""):c,y=0;y<h;y++)y in m&&s.call(l,m[y],y,c)};function Q(c){return Array.prototype.concat.apply([],arguments)}function Lr(c){var s=c.length;if(0<s){for(var l=Array(s),h=0;h<s;h++)l[h]=c[h];return l}return[]}function On(c){return/^[\s\xa0]*$/.test(c)}var $n,ao=String.prototype.trim?function(c){return c.trim()}:function(c){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(c)[1]};function mt(c,s){return-1!=c.indexOf(s)}function ri(c,s){return c<s?-1:c>s?1:0}e:{var ce=Ce.navigator;if(ce){var se=ce.userAgent;if(se){$n=se;break e}}$n=""}function K(c,s,l){for(var h in c)s.call(l,c[h],h,c)}function J(c){var s={};for(var l in c)s[l]=c[l];return s}var ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(c,s){for(var l,h,m=1;m<arguments.length;m++){for(l in h=arguments[m])c[l]=h[l];for(var y=0;y<ve.length;y++)l=ve[y],Object.prototype.hasOwnProperty.call(h,l)&&(c[l]=h[l])}}function Ie(c){return Ie[" "](c),c}Ie[" "]=Re;var Tt,c,Qe=mt($n,"Opera"),Xe=mt($n,"Trident")||mt($n,"MSIE"),mn=mt($n,"Edge"),yt=mn||Xe,Vt=mt($n,"Gecko")&&!(mt($n.toLowerCase(),"webkit")&&!mt($n,"Edge"))&&!(mt($n,"Trident")||mt($n,"MSIE"))&&!mt($n,"Edge"),ii=mt($n.toLowerCase(),"webkit")&&!mt($n,"Edge");function Ct(){var c=Ce.document;return c?c.documentMode:void 0}e:{var Kn="",rn=(c=$n,Vt?/rv:([^\);]+)(\)|;)/.exec(c):mn?/Edge\/([\d\.]+)/.exec(c):Xe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(c):ii?/WebKit\/(\S+)/.exec(c):Qe?/(?:Version)[ \/]?(\S+)/.exec(c):void 0);if(rn&&(Kn=rn?rn[1]:""),Xe){var An=Ct();if(null!=An&&An>parseFloat(Kn)){Tt=String(An);break e}}Tt=Kn}var Nn={};var co=Ce.document&&Xe&&(Ct()||parseInt(Tt,10))||void 0,yd=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var c=!1,s=Object.defineProperty({},"passive",{get:function(){c=!0}});try{Ce.addEventListener("test",Re,s),Ce.removeEventListener("test",Re,s)}catch{}return c}();function jr(c,s){this.type=c,this.g=this.target=s,this.defaultPrevented=!1}function is(c,s){if(jr.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var l=this.type=c.type,h=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=s,s=c.relatedTarget){if(Vt){e:{try{Ie(s.nodeName);var m=!0;break e}catch{}m=!1}m||(s=null)}}else"mouseover"==l?s=c.fromElement:"mouseout"==l&&(s=c.toElement);this.relatedTarget=s,h?(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType="string"==typeof c.pointerType?c.pointerType:ef[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&is.Z.h.call(this)}}jr.prototype.h=function(){this.defaultPrevented=!0},pt(is,jr);var ef={2:"touch",3:"pen",4:"mouse"};is.prototype.h=function(){is.Z.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oi="closure_listenable_"+(1e6*Math.random()|0),_d=0;function It(c,s,l,h,m){this.listener=c,this.proxy=null,this.src=s,this.type=l,this.capture=!!h,this.ia=m,this.key=++_d,this.ca=this.fa=!1}function Gi(c){c.ca=!0,c.listener=null,c.proxy=null,c.src=null,c.ia=null}function pr(c){this.src=c,this.g={},this.h=0}function Gu(c,s){var l=s.type;if(l in c.g){var y,h=c.g[l],m=qi(h,s);(y=0<=m)&&Array.prototype.splice.call(h,m,1),y&&(Gi(s),0==c.g[l].length&&(delete c.g[l],c.h--))}}function qc(c,s,l,h){for(var m=0;m<c.length;++m){var y=c[m];if(!y.ca&&y.listener==s&&y.capture==!!l&&y.ia==h)return m}return-1}pr.prototype.add=function(c,s,l,h,m){var y=c.toString();(c=this.g[y])||(c=this.g[y]=[],this.h++);var b=qc(c,s,h,m);return-1<b?(s=c[b],l||(s.fa=!1)):((s=new It(s,this.src,y,!!h,m)).fa=l,c.push(s)),s};var Mn="closure_lm_"+(1e6*Math.random()|0),jo={};function G(c,s,l,h,m){if(h&&h.once)return oe(c,s,l,h,m);if(Array.isArray(s)){for(var y=0;y<s.length;y++)G(c,s[y],l,h,m);return null}return l=Br(l),c&&c[Oi]?c.N(s,l,Ne(h)?!!h.capture:!!h,m):q(c,s,l,!1,h,m)}function q(c,s,l,h,m,y){if(!s)throw Error("Invalid event type");var b=Ne(m)?!!m.capture:!!m,C=un(c);if(C||(c[Mn]=C=new pr(c)),(l=C.add(s,l,h,b,y)).proxy)return l;if(h=function ee(){var s=Xt;return function c(l){return s.call(c.src,c.listener,l)}}(),l.proxy=h,h.src=c,h.listener=l,c.addEventListener)yd||(m=b),void 0===m&&(m=!1),c.addEventListener(s.toString(),h,m);else if(c.attachEvent)c.attachEvent(ut(s.toString()),h);else{if(!c.addListener||!c.removeListener)throw Error("addEventListener and attachEvent are unavailable.");c.addListener(h)}return l}function oe(c,s,l,h,m){if(Array.isArray(s)){for(var y=0;y<s.length;y++)oe(c,s[y],l,h,m);return null}return l=Br(l),c&&c[Oi]?c.O(s,l,Ne(h)?!!h.capture:!!h,m):q(c,s,l,!0,h,m)}function X(c,s,l,h,m){if(Array.isArray(s))for(var y=0;y<s.length;y++)X(c,s[y],l,h,m);else h=Ne(h)?!!h.capture:!!h,l=Br(l),c&&c[Oi]?(c=c.i,(s=String(s).toString())in c.g&&-1<(l=qc(y=c.g[s],l,h,m))&&(Gi(y[l]),Array.prototype.splice.call(y,l,1),0==y.length&&(delete c.g[s],c.h--))):c&&(c=un(c))&&(s=c.g[s.toString()],c=-1,s&&(c=qc(s,l,h,m)),(l=-1<c?s[c]:null)&&Ae(l))}function Ae(c){if("number"!=typeof c&&c&&!c.ca){var s=c.src;if(s&&s[Oi])Gu(s.i,c);else{var l=c.type,h=c.proxy;s.removeEventListener?s.removeEventListener(l,h,c.capture):s.detachEvent?s.detachEvent(ut(l),h):s.addListener&&s.removeListener&&s.removeListener(h),(l=un(s))?(Gu(l,c),0==l.h&&(l.src=null,s[Mn]=null)):Gi(c)}}}function ut(c){return c in jo?jo[c]:jo[c]="on"+c}function Xt(c,s){if(c.ca)c=!0;else{s=new is(s,this);var l=c.listener,h=c.ia||c.src;c.fa&&Ae(c),c=l.call(h,s)}return c}function un(c){return(c=c[Mn])instanceof pr?c:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function Br(c){return"function"==typeof c?c:(c[en]||(c[en]=function(s){return c.handleEvent(s)}),c[en])}function Qt(){zn.call(this),this.i=new pr(this),this.P=this,this.I=null}function _t(c,s){var l,h=c.I;if(h)for(l=[];h;h=h.I)l.push(h);if(c=c.P,h=s.type||s,"string"==typeof s)s=new jr(s,c);else if(s instanceof jr)s.target=s.target||c;else{var m=s;fe(s=new jr(h,c),m)}if(m=!0,l)for(var y=l.length-1;0<=y;y--){var b=s.g=l[y];m=yi(b,h,!0,s)&&m}if(m=yi(b=s.g=c,h,!0,s)&&m,m=yi(b,h,!1,s)&&m,l)for(y=0;y<l.length;y++)m=yi(b=s.g=l[y],h,!1,s)&&m}function yi(c,s,l,h){if(!(s=c.i.g[String(s)]))return!0;s=s.concat();for(var m=!0,y=0;y<s.length;++y){var b=s[y];if(b&&!b.ca&&b.capture==l){var C=b.listener,x=b.ia||b.src;b.fa&&Gu(c.i,b),m=!1!==C.call(x,h)&&m}}return m&&!h.defaultPrevented}pt(Qt,zn),Qt.prototype[Oi]=!0,Qt.prototype.removeEventListener=function(c,s,l,h){X(this,c,s,l,h)},Qt.prototype.M=function(){if(Qt.Z.M.call(this),this.i){var s,c=this.i;for(s in c.g){for(var l=c.g[s],h=0;h<l.length;h++)Gi(l[h]);delete c.g[s],c.h--}}this.I=null},Qt.prototype.N=function(c,s,l,h){return this.i.add(String(c),s,!1,l,h)},Qt.prototype.O=function(c,s,l,h){return this.i.add(String(c),s,!0,l,h)};var Vr=Ce.JSON.stringify;function nt(){var c=tc,s=null;return c.g&&(s=c.g,c.g=c.g.next,c.g||(c.h=null),s.next=null),s}var gn,Wu=function(){function c(){this.h=this.g=null}return c.prototype.add=function(s,l){var h=uo.get();h.set(s,l),this.h?this.h.next=h:this.g=h,this.h=h},c}(),uo=new(function(){function c(s,l){this.i=s,this.j=l,this.h=0,this.g=null}return c.prototype.get=function(){var s;return 0<this.h?(this.h--,this.g=(s=this.g).next,s.next=null):s=this.i(),s},c}())(function(){return new ln},function(c){return c.reset()}),ln=function(){function c(){this.next=this.g=this.h=null}return c.prototype.set=function(s,l){this.h=s,this.g=l,this.next=null},c.prototype.reset=function(){this.next=this.g=this.h=null},c}();function ks(c){Ce.setTimeout(function(){throw c},0)}function bd(c,s){gn||function Bo(){var c=Ce.Promise.resolve(void 0);gn=function(){c.then(Gc)}}(),Fn||(gn(),Fn=!0),tc.add(c,s)}var Fn=!1,tc=new Wu;function Gc(){for(var c;c=nt();){try{c.h.call(c.g)}catch(l){ks(l)}var s=uo;s.j(c),100>s.h&&(s.h++,c.next=s.g,s.g=c)}Fn=!1}function sa(c,s){Qt.call(this),this.h=c||1,this.g=s||Ce,this.j=qt(this.kb,this),this.l=Date.now()}function ot(c){c.da=!1,c.S&&(c.g.clearTimeout(c.S),c.S=null)}function Wc(c,s,l){if("function"==typeof c)l&&(c=qt(c,l));else{if(!c||"function"!=typeof c.handleEvent)throw Error("Invalid listener argument");c=qt(c.handleEvent,c)}return 2147483647<Number(s)?-1:Ce.setTimeout(c,s||0)}function Kc(c){c.g=Wc(function(){c.g=null,c.i&&(c.i=!1,Kc(c))},c.j);var s=c.h;c.h=null,c.m.apply(null,s)}pt(sa,Qt),(le=sa.prototype).da=!1,le.S=null,le.kb=function(){if(this.da){var c=Date.now()-this.l;0<c&&c<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-c):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_t(this,"tick"),this.da&&(ot(this),this.start()))}},le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},le.M=function(){sa.Z.M.call(this),ot(this),delete this.g};var Up=function(c){function s(l,h){var m=c.call(this)||this;return m.m=l,m.j=h,m.h=null,m.i=!1,m.g=null,m}return function zi(c,s){if("function"!=typeof s&&null!==s)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=c}Ot(c,s),c.prototype=null===s?Object.create(s):(l.prototype=s.prototype,new l)}(s,c),s.prototype.l=function(l){this.h=arguments,this.g?this.i=!0:Kc(this)},s.prototype.M=function(){c.prototype.M.call(this),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},s}(zn);function aa(c){zn.call(this),this.h=c,this.g={}}pt(aa,zn);var pe=[];function os(c,s,l,h){Array.isArray(l)||(l&&(pe[0]=l.toString()),l=pe);for(var m=0;m<l.length;m++){var y=G(s,l[m],h||c.handleEvent,!1,c.h||c);if(!y)break;c.g[y.key]=y}}function gt(c){K(c.g,function(s,l){this.g.hasOwnProperty(l)&&Ae(s)},c),c.g={}}function on(){this.g=!0}function ca(c,s,l,h){c.info(function(){return"XMLHTTP TEXT ("+s+"): "+function _i(c,s){if(!c.g)return s;if(!s)return null;try{var l=JSON.parse(s);if(l)for(c=0;c<l.length;c++)if(Array.isArray(l[c])){var h=l[c];if(!(2>h.length)){var m=h[1];if(Array.isArray(m)&&!(1>m.length)){var y=m[0];if("noop"!=y&&"stop"!=y&&"close"!=y)for(var b=1;b<m.length;b++)m[b]=""}}}return Vr(l)}catch{return s}}(c,l)+(h?" "+h:"")})}aa.prototype.M=function(){aa.Z.M.call(this),gt(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},on.prototype.Aa=function(){this.g=!1},on.prototype.info=function(){};var ss={},wd=null;function nc(){return wd=wd||new Qt}function wo(c){jr.call(this,ss.Ma,c)}function ua(c){var s=nc();_t(s,new wo(s,c))}function Ed(c,s){jr.call(this,ss.STAT_EVENT,c),this.stat=s}function Ni(c){var s=nc();_t(s,new Ed(s,c))}function nf(c,s){jr.call(this,ss.Na,c),this.size=s}function la(c,s){if("function"!=typeof c)throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){c()},s)}ss.Ma="serverreachability",pt(wo,jr),ss.STAT_EVENT="statevent",pt(Ed,jr),ss.Na="timingevent",pt(nf,jr);var Yc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Eo={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function rf(){}function lt(){}rf.prototype.h=null;var ke,rc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sf(){jr.call(this,"d")}function Zc(){jr.call(this,"c")}function Ku(){}function _n(c,s,l,h){this.l=c,this.j=s,this.m=l,this.X=h||1,this.V=new aa(this),this.P=Yu,this.W=new sa(c=yt?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Xc}function Xc(){this.i=null,this.g="",this.h=!1}pt(sf,jr),pt(Zc,jr),pt(Ku,rf),Ku.prototype.g=function(){return new XMLHttpRequest},Ku.prototype.i=function(){return{}},ke=new Ku;var Yu=45e3,da={},Zu={};function as(c,s,l){c.K=1,c.v=ir(Ee(s)),c.s=l,c.U=!0,ic(c,null)}function ic(c,s){c.F=Date.now(),Dt(c),c.A=Ee(c.v);var l=c.A,h=c.X;Array.isArray(h)||(h=[String(h)]),Dd(l.h,"t",h),c.C=0,l=c.l.H,c.h=new Xc,c.g=Ue(c.l,l?s:null,!c.s),0<c.O&&(c.L=new Up(qt(c.Ia,c,c.g),c.O)),os(c.V,c.g,"readystatechange",c.gb),s=c.H?J(c.H):{},c.s?(c.u||(c.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.s,s)):(c.u="GET",c.g.ea(c.A,c.u,null,s)),ua(1),function tf(c,s,l,h,m,y){c.info(function(){if(c.g)if(y)for(var b="",C=y.split("&"),x=0;x<C.length;x++){var O=C[x].split("=");if(1<O.length){var P=O[0];O=O[1];var B=P.split("_");b=2<=B.length&&"type"==B[1]?b+(P+"=")+O+"&":b+(P+"=redacted&")}}else b=null;else b=y;return"XMLHTTP REQ ("+h+") [attempt "+m+"]: "+s+"\n"+l+"\n"+b})}(c.j,c.u,c.A,c.m,c.X,c.s)}function Qc(c){return!!c.g&&"GET"==c.u&&2!=c.K&&c.l.Ba}function kt(c,s,l){for(var m,h=!0;!c.I&&c.C<l.length;){if((m=Ns(c,l))==Zu){4==s&&(c.o=4,Ni(14),h=!1),ca(c.j,c.m,null,"[Incomplete Response]");break}if(m==da){c.o=4,Ni(15),ca(c.j,c.m,l,"[Invalid Chunk]"),h=!1;break}ca(c.j,c.m,m,null),rt(c,m)}Qc(c)&&m!=Zu&&m!=da&&(c.h.g="",c.C=0),4!=s||0!=l.length||c.h.h||(c.o=1,Ni(16),h=!1),c.i=c.i&&h,h?0<l.length&&!c.aa&&(c.aa=!0,(s=c.l).g==c&&s.$&&!s.L&&(s.h.info("Great, no buffering proxy detected. Bytes received: "+l.length),lo(s),s.L=!0,Ni(11))):(ca(c.j,c.m,l,"[Invalid Chunked Response]"),Uo(c),Ir(c))}function Ns(c,s){var l=c.C,h=s.indexOf("\n",l);return-1==h?Zu:(l=Number(s.substring(l,h)),isNaN(l)?da:(h+=1)+l>s.length?Zu:(s=s.substr(h,l),c.C=h+l,s))}function Dt(c){c.Y=Date.now()+c.P,oi(c,c.P)}function oi(c,s){if(null!=c.B)throw Error("WatchDog timer not null");c.B=la(qt(c.eb,c),s)}function oc(c){c.B&&(Ce.clearTimeout(c.B),c.B=null)}function Ir(c){0==c.l.G||c.I||$o(c.l,c)}function Uo(c){oc(c);var s=c.L;s&&"function"==typeof s.na&&s.na(),c.L=null,ot(c.W),gt(c.V),c.g&&(s=c.g,c.g=null,s.abort(),s.na())}function rt(c,s){try{var l=c.l;if(0!=l.G&&(l.g==c||Zi(l.i,c)))if(l.I=c.N,!c.J&&Zi(l.i,c)&&3==l.G){try{var h=l.Ca.g.parse(s)}catch{h=null}if(Array.isArray(h)&&3==h.length){var m=h;if(0==m[0]){e:if(!l.u){if(l.g){if(!(l.g.F+3e3<c.F))break e;Qu(l),Ei(l)}Ci(l),Ni(18)}}else l.ta=m[1],0<l.ta-l.U&&37500>m[2]&&l.N&&0==l.A&&!l.v&&(l.v=la(qt(l.ab,l),6e3));if(1>=Jc(l.i)&&l.ka){try{l.ka()}catch{}l.ka=void 0}}else fc(l,11)}else if((c.J||l.g==c)&&Qu(l),!On(s))for(m=l.Ca.g.parse(s),s=0;s<m.length;s++){var y=m[s];if(l.U=y[0],y=y[1],2==l.G)if("c"==y[0]){l.J=y[1],l.la=y[2];var b=y[3];null!=b&&(l.ma=b,l.h.info("VER="+l.ma));var C=y[4];null!=C&&(l.za=C,l.h.info("SVER="+l.za));var x=y[5];null!=x&&"number"==typeof x&&0<x&&(l.K=h=1.5*x,l.h.info("backChannelRequestTimeoutMs_="+h)),h=l;var O=c.g;if(O){var P=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var B=h.i;!B.g&&(mt(P,"spdy")||mt(P,"quic")||mt(P,"h2"))&&(B.j=B.l,B.g=new Set,B.h&&(sr(B,B.h),B.h=null))}if(h.D){var z=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(h.sa=z,wt(h.F,h.D,z))}}l.G=3,l.j&&l.j.xa(),l.$&&(l.O=Date.now()-c.F,l.h.info("Handshake RTT: "+l.O+"ms"));var re=c;if((h=l).oa=Rn(h,h.H?h.la:null,h.W),re.J){hn(h.i,re);var te=re,de=h.K;de&&te.setTimeout(de),te.B&&(oc(te),Dt(te)),h.g=re}else ai(h);0<l.l.length&&hc(l)}else"stop"!=y[0]&&"close"!=y[0]||fc(l,7);else 3==l.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?fc(l,7):Qi(l):"noop"!=y[0]&&l.j&&l.j.wa(y),l.A=0)}ua(4)}catch{}}function Cd(c,s){if(c.forEach&&"function"==typeof c.forEach)c.forEach(s,void 0);else if(xe(c)||"string"==typeof c)ct(c,s,void 0);else{if(c.T&&"function"==typeof c.T)var l=c.T();else if(c.R&&"function"==typeof c.R)l=void 0;else if(xe(c)||"string"==typeof c){l=[];for(var h=c.length,m=0;m<h;m++)l.push(m)}else for(m in l=[],h=0,c)l[h++]=m;h=function dt(c){if(c.R&&"function"==typeof c.R)return c.R();if("string"==typeof c)return c.split("");if(xe(c)){for(var s=[],l=c.length,h=0;h<l;h++)s.push(c[h]);return s}for(h in s=[],l=0,c)s[l++]=c[h];return s}(c),m=h.length;for(var y=0;y<m;y++)s.call(void 0,h[y],l&&l[y],c)}}function M(c,s){this.h={},this.g=[],this.i=0;var l=arguments.length;if(1<l){if(l%2)throw Error("Uneven number of arguments");for(var h=0;h<l;h+=2)this.set(arguments[h],arguments[h+1])}else if(c)if(c instanceof M)for(l=c.T(),h=0;h<l.length;h++)this.set(l[h],c.get(l[h]));else for(h in c)this.set(h,c[h])}function S(c){if(c.i!=c.g.length){for(var s=0,l=0;s<c.g.length;){var h=c.g[s];L(c.h,h)&&(c.g[l++]=h),s++}c.g.length=l}if(c.i!=c.g.length){var m={};for(l=s=0;s<c.g.length;)L(m,h=c.g[s])||(c.g[l++]=h,m[h]=1),s++;c.g.length=l}}function L(c,s){return Object.prototype.hasOwnProperty.call(c,s)}(le=_n.prototype).setTimeout=function(c){this.P=c},le.gb=function(c){c=c.target;var s=this.L;s&&3==fa(c)?s.l():this.Ia(c)},le.Ia=function(c){try{if(c==this.g)e:{var s=fa(this.g),l=this.g.Da(),h=this.g.ba();if(!(3>s)&&(3!=s||yt||this.g&&(this.h.h||this.g.ga()||Ls(this.g)))){this.I||4!=s||7==l||ua(8==l||0>=h?3:2),oc(this);var m=this.g.ba();this.N=m;t:if(Qc(this)){var y=Ls(this.g);c="";var b=y.length,C=4==fa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Uo(this),Ir(this);var x="";break t}this.h.i=new Ce.TextDecoder}for(l=0;l<b;l++)this.h.h=!0,c+=this.h.i.decode(y[l],{stream:C&&l==b-1});y.splice(0,b),this.h.g+=c,this.C=0,x=this.h.g}else x=this.g.ga();if(this.i=200==m,function Vo(c,s,l,h,m,y,b){c.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+m+"]: "+s+"\n"+l+"\n"+y+" "+b})}(this.j,this.u,this.A,this.m,this.X,s,m),this.i){if(this.$&&!this.J){t:{if(this.g){var O,P=this.g;if((O=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!On(O)){var B=O;break t}}B=null}if(!(m=B)){this.i=!1,this.o=3,Ni(12),Uo(this),Ir(this);break e}ca(this.j,this.m,m,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rt(this,m)}this.U?(kt(this,s,x),yt&&this.i&&3==s&&(os(this.V,this.W,"tick",this.fb),this.W.start())):(ca(this.j,this.m,x,null),rt(this,x)),4==s&&Uo(this),this.i&&!this.I&&(4==s?$o(this.l,this):(this.i=!1,Dt(this)))}else 400==m&&0<x.indexOf("Unknown SID")?(this.o=3,Ni(12)):(this.o=0,Ni(13)),Uo(this),Ir(this)}}}catch{}},le.fb=function(){if(this.g){var c=fa(this.g),s=this.g.ga();this.C<s.length&&(oc(this),kt(this,c,s),this.i&&4!=c&&Dt(this))}},le.cancel=function(){this.I=!0,Uo(this)},le.eb=function(){this.B=null;var c=Date.now();0<=c-this.Y?(function Os(c,s){c.info(function(){return"TIMEOUT: "+s})}(this.j,this.A),2!=this.K&&(ua(3),Ni(17)),Uo(this),this.o=2,Ir(this)):oi(this,this.Y-c)},(le=M.prototype).R=function(){S(this);for(var c=[],s=0;s<this.g.length;s++)c.push(this.h[this.g[s]]);return c},le.T=function(){return S(this),this.g.concat()},le.get=function(c,s){return L(this.h,c)?this.h[c]:s},le.set=function(c,s){L(this.h,c)||(this.i++,this.g.push(c)),this.h[c]=s},le.forEach=function(c,s){for(var l=this.T(),h=0;h<l.length;h++){var m=l[h],y=this.get(m);c.call(s,y,m,this)}};var U=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ie(c,s){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,c instanceof ie){this.g=void 0!==s?s:c.g,Ve(this,c.j),this.s=c.s,Oe(this,c.i),Je(this,c.m),this.l=c.l,s=c.h;var l=new gr;l.i=s.i,s.g&&(l.g=new M(s.g),l.h=s.h),bt(this,l),this.o=c.o}else c&&(l=String(c).match(U))?(this.g=!!s,Ve(this,l[1]||"",!0),this.s=In(l[2]||""),Oe(this,l[3]||"",!0),Je(this,l[4]),this.l=In(l[5]||"",!0),bt(this,l[6]||"",!0),this.o=In(l[7]||"")):(this.g=!!s,this.h=new gr(null,this.g))}function Ee(c){return new ie(c)}function Ve(c,s,l){c.j=l?In(s,!0):s,c.j&&(c.j=c.j.replace(/:$/,""))}function Oe(c,s,l){c.i=l?In(s,!0):s}function Je(c,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);c.m=s}else c.m=null}function bt(c,s,l){s instanceof gr?(c.h=s,function cc(c,s){s&&!c.j&&(ne(c),c.i=null,c.g.forEach(function(l,h){var m=h.toLowerCase();h!=m&&(Yi(this,h),Dd(this,m,l))},c)),c.j=s}(c.h,c.g)):(l||(s=mr(s,sc)),c.h=new gr(s,c.g))}function wt(c,s,l){c.h.set(s,l)}function ir(c){return wt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,s){return c?s?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function mr(c,s,l){return"string"==typeof c?(c=encodeURI(c).replace(s,cs),l&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cs(c){return"%"+((c=c.charCodeAt(0))>>4&15).toString(16)+(15&c).toString(16)}ie.prototype.toString=function(){var c=[],s=this.j;s&&c.push(mr(s,bi,!0),":");var l=this.i;return(l||"file"==s)&&(c.push("//"),(s=this.s)&&c.push(mr(s,bi,!0),"@"),c.push(encodeURIComponent(String(l)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(l=this.m)&&c.push(":",String(l))),(l=this.l)&&(this.i&&"/"!=l.charAt(0)&&c.push("/"),c.push(mr(l,"/"==l.charAt(0)?wi:Wi,!0))),(l=this.h.toString())&&c.push("?",l),(l=this.o)&&c.push("#",mr(l,Ki)),c.join("")};var bi=/[#\/\?@]/g,Wi=/[#\?:]/g,wi=/[#\?]/g,sc=/[#\?@]/g,Ki=/#/g;function gr(c,s){this.h=this.g=null,this.i=c||null,this.j=!!s}function ne(c){c.g||(c.g=new M,c.h=0,c.i&&function Y(c,s){if(c){c=c.split("&");for(var l=0;l<c.length;l++){var h=c[l].indexOf("="),m=null;if(0<=h){var y=c[l].substring(0,h);m=c[l].substring(h+1)}else y=c[l];s(y,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}(c.i,function(s,l){c.add(decodeURIComponent(s.replace(/\+/g," ")),l)}))}function Yi(c,s){ne(c),s=ac(c,s),L(c.g.h,s)&&(c.i=null,c.h-=c.g.get(s).length,L((c=c.g).h,s)&&(delete c.h[s],c.i--,c.g.length>2*c.i&&S(c)))}function Le(c,s){return ne(c),s=ac(c,s),L(c.g.h,s)}function Dd(c,s,l){Yi(c,s),0<l.length&&(c.i=null,c.g.set(ac(c,s),Lr(l)),c.h+=l.length)}function ac(c,s){return s=String(s),c.j&&(s=s.toLowerCase()),s}(le=gr.prototype).add=function(c,s){ne(this),this.i=null,c=ac(this,c);var l=this.g.get(c);return l||this.g.set(c,l=[]),l.push(s),this.h+=1,this},le.forEach=function(c,s){ne(this),this.g.forEach(function(l,h){ct(l,function(m){c.call(s,m,h,this)},this)},this)},le.T=function(){ne(this);for(var c=this.g.R(),s=this.g.T(),l=[],h=0;h<s.length;h++)for(var m=c[h],y=0;y<m.length;y++)l.push(s[h]);return l},le.R=function(c){ne(this);var s=[];if("string"==typeof c)Le(this,c)&&(s=Q(s,this.g.get(ac(this,c))));else{c=this.g.R();for(var l=0;l<c.length;l++)s=Q(s,c[l])}return s},le.set=function(c,s){return ne(this),this.i=null,Le(this,c=ac(this,c))&&(this.h-=this.g.get(c).length),this.g.set(c,[s]),this.h+=1,this},le.get=function(c,s){return c&&0<(c=this.R(c)).length?String(c[0]):s},le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var c=[],s=this.g.T(),l=0;l<s.length;l++){var h=s[l],m=encodeURIComponent(String(h));h=this.R(h);for(var y=0;y<h.length;y++){var b=m;""!==h[y]&&(b+="="+encodeURIComponent(String(h[y]))),c.push(b)}}return this.i=c.join("&")};var af=function c(s,l){this.h=s,this.g=l};function cf(c){this.l=c||Hp,c=Ce.PerformanceNavigationTiming?0<(c=Ce.performance.getEntriesByType("navigation")).length&&("hq"==c[0].nextHopProtocol||"h2"==c[0].nextHopProtocol):!!(Ce.g&&Ce.g.Ea&&Ce.g.Ea()&&Ce.g.Ea().Zb),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Hp=10;function Ho(c){return!!c.h||!!c.g&&c.g.size>=c.j}function Jc(c){return c.h?1:c.g?c.g.size:0}function Zi(c,s){return c.h?c.h==s:!!c.g&&c.g.has(s)}function sr(c,s){c.g?c.g.add(s):c.h=s}function hn(c,s){c.h&&c.h==s?c.h=null:c.g&&c.g.has(s)&&c.g.delete(s)}function Id(c){var s,l;if(null!=c.h)return c.i.concat(c.h.D);if(null!=c.g&&0!==c.g.size){var h=c.i;try{for(var m=Fr(c.g.values()),y=m.next();!y.done;y=m.next())h=h.concat(y.value.D)}catch(C){s={error:C}}finally{try{y&&!y.done&&(l=m.return)&&l.call(m)}finally{if(s)throw s.error}}return h}return Lr(c.i)}function eu(){}function Xi(){this.g=new eu}function zp(c,s,l){var h=l||"";try{Cd(c,function(m,y){var b=m;Ne(m)&&(b=Vr(m)),s.push(h+y+"="+encodeURIComponent(b))})}catch(m){throw s.push(h+"type="+encodeURIComponent("_badmap")),m}}function ha(c,s,l,h,m){try{s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null,m(h)}catch{}}function tu(c){this.l=c.$b||null,this.j=c.ib||!1}function Sd(c,s){Qt.call(this),this.D=c,this.u=s,this.m=void 0,this.readyState=uc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cf.prototype.cancel=function(){var c,s;if(this.i=Id(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var l=Fr(this.g.values()),h=l.next();!h.done;h=l.next())h.value.cancel()}catch(y){c={error:y}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(c)throw c.error}}this.g.clear()}},eu.prototype.stringify=function(c){return Ce.JSON.stringify(c,void 0)},eu.prototype.parse=function(c){return Ce.JSON.parse(c,void 0)},pt(tu,rf),tu.prototype.g=function(){return new Sd(this.l,this.j)},tu.prototype.i=function(c){return function(){return c}}({}),pt(Sd,Qt);var uc=0;function Td(c){c.j.read().then(c.Sa.bind(c)).catch(c.ha.bind(c))}function lc(c){c.readyState=4,c.l=null,c.j=null,c.A=null,ar(c)}function ar(c){c.onreadystatechange&&c.onreadystatechange.call(c)}(le=Sd.prototype).open=function(c,s){if(this.readyState!=uc)throw this.abort(),Error("Error reopening a connection");this.C=c,this.B=s,this.readyState=1,ar(this)},le.send=function(c){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var s={headers:this.v,method:this.C,credentials:this.m,cache:void 0};c&&(s.body=c),(this.D||Ce).fetch(new Request(this.B,s)).then(this.Va.bind(this),this.ha.bind(this))},le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lc(this)),this.readyState=uc},le.Va=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ar(this)),this.g&&(this.readyState=3,ar(this),this.g)))if("arraybuffer"===this.responseType)c.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Td(this)}else c.text().then(this.Ua.bind(this),this.ha.bind(this))},le.Sa=function(c){if(this.g){if(this.u&&c.value)this.response.push(c.value);else if(!this.u){var s=c.value?c.value:new Uint8Array(0);(s=this.A.decode(s,{stream:!c.done}))&&(this.response=this.responseText+=s)}c.done?lc(this):ar(this),3==this.readyState&&Td(this)}},le.Ua=function(c){this.g&&(this.response=this.responseText=c,lc(this))},le.Ta=function(c){this.g&&(this.response=c,lc(this))},le.ha=function(){this.g&&lc(this)},le.setRequestHeader=function(c,s){this.v.append(c,s)},le.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},le.getAllResponseHeaders=function(){if(!this.h)return"";for(var c=[],s=this.h.entries(),l=s.next();!l.done;)c.push((l=l.value)[0]+": "+l[1]),l=s.next();return c.join("\r\n")},Object.defineProperty(Sd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(c){this.m=c?"include":"same-origin"}});var $p=Ce.JSON.parse;function cr(c){Qt.call(this),this.headers=new M,this.u=c||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xd,this.K=this.L=!1}pt(cr,Qt);var xd="",uf=/^https?$/i,Xu=["POST","PUT"];function zo(c){return"content-type"==c.toLowerCase()}function gg(c,s){c.h=!1,c.g&&(c.l=!0,c.g.abort(),c.l=!1),c.j=s,c.m=5,dc(c),Fs(c)}function dc(c){c.D||(c.D=!0,_t(c,"complete"),_t(c,"error"))}function lf(c){if(c.h&&typeof $<"u"&&(!c.C[1]||4!=fa(c)||2!=c.ba()))if(c.v&&4==fa(c))Wc(c.Fa,0,c);else if(_t(c,"readystatechange"),4==fa(c)){c.h=!1;try{var h,s=c.ba();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}if(!(h=l)){var m;if(m=0===s){var y=String(c.H).match(U)[1]||null;if(!y&&Ce.self&&Ce.self.location){var b=Ce.self.location.protocol;y=b.substr(0,b.length-1)}m=!uf.test(y?y.toLowerCase():"")}h=m}if(h)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var C=2<fa(c)?c.g.statusText:""}catch{C=""}c.j=C+" ["+c.ba()+"]",dc(c)}}finally{Fs(c)}}}function Fs(c,s){if(c.g){qp(c);var l=c.g,h=c.C[0]?Re:null;c.g=null,c.C=null,s||_t(c,"ready");try{l.onreadystatechange=h}catch{}}}function qp(c){c.g&&c.K&&(c.g.ontimeout=null),c.A&&(Ce.clearTimeout(c.A),c.A=null)}function fa(c){return c.g?c.g.readyState:0}function Ls(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.J){case xd:case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function nu(c,s,l){e:{for(h in l){var h=!1;break e}h=!0}h||(l=function Ad(c){var s="";return K(c,function(l,h){s+=h,s+=":",s+=l,s+="\r\n"}),s}(l),"string"==typeof c?null!=l&&encodeURIComponent(String(l)):wt(c,s,l))}function ru(c,s,l){return l&&l.internalChannelParams&&l.internalChannelParams[c]||s}function xt(c){this.za=0,this.l=[],this.h=new on,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ru("failFast",!1,c),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ru("baseRetryDelayMs",5e3,c),this.$a=ru("retryDelaySeedMs",1e4,c),this.Ya=ru("forwardChannelMaxRetries",2,c),this.ra=ru("forwardChannelRequestTimeoutMs",2e4,c),this.qa=c&&c.xmlHttpFactory||void 0,this.Ba=c&&c.Yb||!1,this.K=void 0,this.H=c&&c.supportsCrossDomainXhr||!1,this.J="",this.i=new cf(c&&c.concurrentRequestLimit),this.Ca=new Xi,this.ja=c&&c.fastHandshake||!1,this.Ra=c&&c.Wb||!1,c&&c.Aa&&this.h.Aa(),c&&c.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&c&&c.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!c||!1!==c.Xb}function Qi(c){if(Md(c),3==c.G){var s=c.V++,l=Ee(c.F);wt(l,"SID",c.J),wt(l,"RID",s),wt(l,"TYPE","terminate"),si(c,l),(s=new _n(c,c.h,s,void 0)).K=2,s.v=ir(Ee(l)),l=!1,Ce.navigator&&Ce.navigator.sendBeacon&&(l=Ce.navigator.sendBeacon(s.v.toString(),"")),!l&&Ce.Image&&((new Image).src=s.v,l=!0),l||(s.g=Ue(s.l,null),s.g.ea(s.v)),s.F=Date.now(),Dt(s)}Gp(c)}function Ei(c){c.g&&(lo(c),c.g.cancel(),c.g=null)}function Md(c){Ei(c),c.u&&(Ce.clearTimeout(c.u),c.u=null),Qu(c),c.i.cancel(),c.m&&("number"==typeof c.m&&Ce.clearTimeout(c.m),c.m=null)}function Sn(c,s){c.l.push(new af(c.Za++,s)),3==c.G&&hc(c)}function hc(c){Ho(c.i)||c.m||(c.m=!0,bd(c.Ha,c),c.C=0)}function fn(c,s){var l;l=s?s.m:c.V++;var h=Ee(c.F);wt(h,"SID",c.J),wt(h,"RID",l),wt(h,"AID",c.U),si(c,h),c.o&&c.s&&nu(h,c.o,c.s),l=new _n(c,c.h,l,c.C+1),null===c.o&&(l.H=c.s),s&&(c.l=s.D.concat(c.l)),s=sn(c,l,1e3),l.setTimeout(Math.round(.5*c.ra)+Math.round(.5*c.ra*Math.random())),sr(c.i,l),as(l,h,s)}function si(c,s){c.j&&Cd({},function(l,h){wt(s,h,l)})}function sn(c,s,l){l=Math.min(c.l.length,l);var h=c.j?qt(c.j.Oa,c.j,c):null;e:for(var m=c.l,y=-1;;){var b=["count="+l];-1==y?0<l?b.push("ofs="+(y=m[0].h)):y=0:b.push("ofs="+y);for(var C=!0,x=0;x<l;x++){var O=m[x].h,P=m[x].g;if(0>(O-=y))y=Math.max(0,m[x].h-100),C=!1;else try{zp(P,b,"req"+O+"_")}catch{h&&h(P)}}if(C){h=b.join("&");break e}}return c=c.l.splice(0,l),s.D=c,h}function ai(c){c.g||c.u||(c.Y=1,bd(c.Ga,c),c.A=0)}function Ci(c){return!(c.g||c.u||3<=c.A||(c.Y++,c.u=la(qt(c.Ga,c),iu(c,c.A)),c.A++,0))}function lo(c){null!=c.B&&(Ce.clearTimeout(c.B),c.B=null)}function Sr(c){c.g=new _n(c,c.h,"rpc",c.Y),null===c.o&&(c.g.H=c.s),c.g.O=0;var s=Ee(c.oa);wt(s,"RID","rpc"),wt(s,"SID",c.J),wt(s,"CI",c.N?"0":"1"),wt(s,"AID",c.U),si(c,s),wt(s,"TYPE","xmlhttp"),c.o&&c.s&&nu(s,c.o,c.s),c.K&&c.g.setTimeout(c.K);var l=c.g;c=c.la,l.K=1,l.v=ir(Ee(s)),l.s=null,l.U=!0,ic(l,c)}function Qu(c){null!=c.v&&(Ce.clearTimeout(c.v),c.v=null)}function $o(c,s){var l=null;if(c.g==s){Qu(c),lo(c),c.g=null;var h=2}else{if(!Zi(c.i,s))return;l=s.D,hn(c.i,s),h=1}if(c.I=s.N,0!=c.G)if(s.i)if(1==h){l=s.s?s.s.length:0,s=Date.now()-s.F;var m=c.C;_t(h=nc(),new nf(h,l,s,m)),hc(c)}else ai(c);else if(3==(m=s.o)||0==m&&0<c.I||!(1==h&&function vg(c,s){return!(Jc(c.i)>=c.i.j-(c.m?1:0)||(c.m?(c.l=s.D.concat(c.l),0):1==c.G||2==c.G||c.C>=(c.Xa?0:c.Ya)||(c.m=la(qt(c.Ha,c,s),iu(c,c.C)),c.C++,0)))}(c,s)||2==h&&Ci(c)))switch(l&&0<l.length&&(s=c.i,s.i=s.i.concat(l)),m){case 1:fc(c,5);break;case 4:fc(c,10);break;case 3:fc(c,6);break;default:fc(c,2)}}function iu(c,s){var l=c.Pa+Math.floor(Math.random()*c.$a);return c.j||(l*=2),l*s}function fc(c,s){if(c.h.info("Error code "+s),2==s){var l=null;c.j&&(l=null);var h=qt(c.jb,c);l||(l=new ie("//www.google.com/images/cleardot.gif"),Ce.location&&"http"==Ce.location.protocol||Ve(l,"https"),ir(l)),function Ps(c,s){var l=new on;if(Ce.Image){var h=new Image;h.onload=fr(ha,l,h,"TestLoadImage: loaded",!0,s),h.onerror=fr(ha,l,h,"TestLoadImage: error",!1,s),h.onabort=fr(ha,l,h,"TestLoadImage: abort",!1,s),h.ontimeout=fr(ha,l,h,"TestLoadImage: timeout",!1,s),Ce.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=c}else s(!1)}(l.toString(),h)}else Ni(2);c.G=0,c.j&&c.j.va(s),Gp(c),Md(c)}function Gp(c){c.G=0,c.I=-1,c.j&&((0!=Id(c.i).length||0!=c.l.length)&&(c.i.i.length=0,Lr(c.l),c.l.length=0),c.j.ua())}function Rn(c,s,l){var h=function or(c){return c instanceof ie?Ee(c):new ie(c,void 0)}(l);if(""!=h.i)s&&Oe(h,s+"."+h.i),Je(h,h.m);else{var m=Ce.location;h=function dn(c,s,l,h){var m=new ie(null,void 0);return c&&Ve(m,c),s&&Oe(m,s),l&&Je(m,l),h&&(m.l=h),m}(m.protocol,s?s+"."+m.hostname:m.hostname,+m.port,l)}return c.aa&&K(c.aa,function(y,b){wt(h,b,y)}),l=c.sa,(s=c.D)&&l&&wt(h,s,l),wt(h,"VER",c.ma),si(c,h),h}function Ue(c,s,l){if(s&&!c.H)throw Error("Can't create secondary domain capable XhrIo object.");return(s=new cr(l&&c.Ba&&!c.qa?new tu({ib:!0}):c.qa)).L=c.H,s}function Mt(){}function Ln(){if(Xe&&!(10<=Number(co)))throw Error("Environmental error: no available transport.")}function Yn(c,s){Qt.call(this),this.g=new xt(s),this.l=c,this.h=s&&s.messageUrlParams||null,c=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.s=c,c=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(c?c["X-WebChannel-Content-Type"]=s.messageContentType:c={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.ya&&(c?c["X-WebChannel-Client-Profile"]=s.ya:c={"X-WebChannel-Client-Profile":s.ya}),this.g.P=c,(c=s&&s.httpHeadersOverwriteParam)&&!On(c)&&(this.g.o=c),this.A=s&&s.supportsCrossDomainXhr||!1,this.v=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!On(s)&&(this.g.D=s,null!==(c=this.h)&&s in c&&s in(c=this.h)&&delete c[s]),this.j=new qo(this)}function ou(c){sf.call(this);var s=c.__sm__;if(s){e:{for(var l in s){c=l;break e}c=void 0}(this.i=c)&&(c=this.i,s=null!==s&&c in s?s[c]:void 0),this.data=s}else this.data=c}function Di(){Zc.call(this),this.status=1}function qo(c){this.g=c}(le=cr.prototype).ea=function(c,s,l,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+c);s=s?s.toUpperCase():"GET",this.H=c,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ke.g(),this.C=function Ur(c){return c.h||(c.h=c.i())}(this.u?this.u:ke),this.g.onreadystatechange=qt(this.Fa,this);try{this.F=!0,this.g.open(s,String(c),!0),this.F=!1}catch(y){return void gg(this,y)}c=l||"";var m=new M(this.headers);h&&Cd(h,function(y,b){m.set(b,y)}),h=function so(c){e:{for(var s=zo,l=c.length,h="string"==typeof c?c.split(""):c,m=0;m<l;m++)if(m in h&&s.call(void 0,h[m],m,c)){s=m;break e}s=-1}return 0>s?null:"string"==typeof c?c.charAt(s):c[s]}(m.T()),l=Ce.FormData&&c instanceof Ce.FormData,!(0<=qi(Xu,s))||h||l||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),m.forEach(function(y,b){this.g.setRequestHeader(b,y)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{qp(this),0<this.B&&((this.K=function mg(c){return Xe&&function cn(){return function Pt(c){var s=Nn;return Object.prototype.hasOwnProperty.call(s,9)?s[9]:s[9]=c(9)}(function(){for(var c=0,s=ao(String(Tt)).split("."),l=ao("9").split("."),h=Math.max(s.length,l.length),m=0;0==c&&m<h;m++){var y=s[m]||"",b=l[m]||"";do{if(y=/(\d*)(\D*)(.*)/.exec(y)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==y[0].length&&0==b[0].length)break;c=ri(0==y[1].length?0:parseInt(y[1],10),0==b[1].length?0:parseInt(b[1],10))||ri(0==y[2].length,0==b[2].length)||ri(y[2],b[2]),y=y[3],b=b[3]}while(0==c)}return 0<=c})}()&&"number"==typeof c.timeout&&void 0!==c.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qt(this.pa,this)):this.A=Wc(this.pa,this.B,this)),this.v=!0,this.g.send(c),this.v=!1}catch(y){gg(this,y)}},le.pa=function(){typeof $<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_t(this,"timeout"),this.abort(8))},le.abort=function(c){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),Fs(this))},le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fs(this,!0)),cr.Z.M.call(this)},le.Fa=function(){this.s||(this.F||this.v||this.l?lf(this):this.cb())},le.cb=function(){lf(this)},le.ba=function(){try{return 2<fa(this)?this.g.status:-1}catch{return-1}},le.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},le.Qa=function(c){if(this.g){var s=this.g.responseText;return c&&0==s.indexOf(c)&&(s=s.substring(c.length)),$p(s)}},le.Da=function(){return this.m},le.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(le=xt.prototype).ma=8,le.G=1,le.hb=function(c){try{this.h.info("Origin Trials invoked: "+c)}catch{}},le.Ha=function(c){if(this.m)if(this.m=null,1==this.G){if(!c){this.V=Math.floor(1e5*Math.random()),c=this.V++;var s=new _n(this,this.h,c,void 0),l=this.s;if(this.P&&(l?fe(l=J(l),this.P):l=this.P),null===this.o&&(s.H=l),this.ja)e:{for(var h=0,m=0;m<this.l.length;m++){var y=this.l[m];if(void 0===(y="__data__"in y.g&&"string"==typeof(y=y.g.__data__)?y.length:void 0))break;if(4096<(h+=y)){h=m;break e}if(4096===h||m===this.l.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=sn(this,s,h),wt(m=Ee(this.F),"RID",c),wt(m,"CVER",22),this.D&&wt(m,"X-HTTP-Session-Id",this.D),si(this,m),this.o&&l&&nu(m,this.o,l),sr(this.i,s),this.Ra&&wt(m,"TYPE","init"),this.ja?(wt(m,"$req",h),wt(m,"SID","null"),s.$=!0,as(s,m,null)):as(s,m,h),this.G=2}}else 3==this.G&&(c?fn(this,c):0==this.l.length||Ho(this.i)||fn(this))},le.Ga=function(){if(this.u=null,Sr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var c=2*this.O;this.h.info("BP detection timer enabled: "+c),this.B=la(qt(this.bb,this),c)}},le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ni(10),Ei(this),Sr(this))},le.ab=function(){null!=this.v&&(this.v=null,Ei(this),Ci(this),Ni(19))},le.jb=function(c){c?(this.h.info("Successfully pinged google.com"),Ni(2)):(this.h.info("Failed to ping google.com"),Ni(1))},(le=Mt.prototype).xa=function(){},le.wa=function(){},le.va=function(){},le.ua=function(){},le.Oa=function(){},Ln.prototype.g=function(c,s){return new Yn(c,s)},pt(Yn,Qt),Yn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var c=this.g,s=this.l,l=this.h||void 0;c.Wa&&(c.h.info("Origin Trials enabled."),bd(qt(c.hb,c,s))),Ni(0),c.W=s,c.aa=l||{},c.N=c.X,c.F=Rn(c,null,c.W),hc(c)},Yn.prototype.close=function(){Qi(this.g)},Yn.prototype.u=function(c){if("string"==typeof c){var s={};s.__data__=c,Sn(this.g,s)}else this.v?((s={}).__data__=Vr(c),Sn(this.g,s)):Sn(this.g,c)},Yn.prototype.M=function(){this.g.j=null,delete this.j,Qi(this.g),delete this.g,Yn.Z.M.call(this)},pt(ou,sf),pt(Di,Zc),pt(qo,Mt),qo.prototype.xa=function(){_t(this.g,"a")},qo.prototype.wa=function(c){_t(this.g,new ou(c))},qo.prototype.va=function(c){_t(this.g,new Di(c))},qo.prototype.ua=function(){_t(this.g,"b")},Ln.prototype.createWebChannel=Ln.prototype.g,Yn.prototype.send=Yn.prototype.u,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,Yc.NO_ERROR=0,Yc.TIMEOUT=8,Yc.HTTP_ERROR=6,Eo.COMPLETE="complete",lt.EventType=rc,rc.OPEN="a",rc.CLOSE="b",rc.ERROR="c",rc.MESSAGE="d",Qt.prototype.listen=Qt.prototype.N,cr.prototype.listenOnce=cr.prototype.O,cr.prototype.getLastError=cr.prototype.La,cr.prototype.getLastErrorCode=cr.prototype.Da,cr.prototype.getStatus=cr.prototype.ba,cr.prototype.getResponseJson=cr.prototype.Qa,cr.prototype.getResponseText=cr.prototype.ga,cr.prototype.send=cr.prototype.ea;var js=Yc,St=Eo,Ju=ss,Rd_PROXY=10,Rd_NOPROXY=11,Do=tu,qn=lt,el=cr,Hr=function(){function c(s,l){var h=this;this.previousValue=s,l&&(l.sequenceNumberHandler=function(m){return h.t(m)},this.i=function(m){return l.writeSequenceNumber(m)})}return c.prototype.t=function(s){return this.previousValue=Math.max(s,this.previousValue),this.previousValue},c.prototype.next=function(){var s=++this.previousValue;return this.i&&this.i(s),s},c}();Hr.o=-1;var ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_e=function(c){function s(l,h){var m=this;return(m=c.call(this,h)||this).code=l,m.message=h,m.name="FirebaseError",m.toString=function(){return m.name+": [code="+m.code+"]: "+m.message},m}return(0,T.ZT)(s,c),s}(Error),Tr=new st.Yd("@firebase/firestore");function Ii(){return Tr.logLevel}function Se(c){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(Tr.logLevel<=st.in.DEBUG){var h=s.map(su);Tr.debug.apply(Tr,(0,T.ev)(["Firestore (8.10.1): "+c],h))}}function it(c){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(Tr.logLevel<=st.in.ERROR){var h=s.map(su);Tr.error.apply(Tr,(0,T.ev)(["Firestore (8.10.1): "+c],h))}}function df(c){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];if(Tr.logLevel<=st.in.WARN){var h=s.map(su);Tr.warn.apply(Tr,(0,T.ev)(["Firestore (8.10.1): "+c],h))}}function su(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function et(c){void 0===c&&(c="Unexpected state");var s="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+c;throw it(s),new Error(s)}function Ze(c,s){c||et()}function Pe(c,s){return c}function us(c){var s=typeof self<"u"&&(self.crypto||self.msCrypto),l=new Uint8Array(c);if(s&&"function"==typeof s.getRandomValues)s.getRandomValues(l);else for(var h=0;h<c;h++)l[h]=Math.floor(256*Math.random());return l}var vr=function(){function c(){}return c.u=function(){for(var l=62*Math.floor(256/62),h="";h.length<20;)for(var m=us(40),y=0;y<m.length;++y)h.length<20&&m[y]<l&&(h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(m[y]%62));return h},c}();function Be(c,s){return c<s?-1:c>s?1:0}function au(c,s,l){return c.length===s.length&&c.every(function(h,m){return l(h,s[m])})}function xr(c){return c+"\0"}var Cn=function(){function c(s,l){if(this.seconds=s,this.nanoseconds=l,l<0)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(l>=1e9)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+l);if(s<-62135596800)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s);if(s>=253402300800)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+s)}return c.now=function(){return c.fromMillis(Date.now())},c.fromDate=function(s){return c.fromMillis(s.getTime())},c.fromMillis=function(s){var l=Math.floor(s/1e3);return new c(l,Math.floor(1e6*(s-1e3*l)))},c.prototype.toDate=function(){return new Date(this.toMillis())},c.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},c.prototype._compareTo=function(s){return this.seconds===s.seconds?Be(this.nanoseconds,s.nanoseconds):Be(this.seconds,s.seconds)},c.prototype.isEqual=function(s){return s.seconds===this.seconds&&s.nanoseconds===this.nanoseconds},c.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},c.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},c.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},c}(),At=function(){function c(s){this.timestamp=s}return c.fromTimestamp=function(s){return new c(s)},c.min=function(){return new c(new Cn(0,0))},c.prototype.compareTo=function(s){return this.timestamp._compareTo(s.timestamp)},c.prototype.isEqual=function(s){return this.timestamp.isEqual(s.timestamp)},c.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},c.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},c.prototype.toTimestamp=function(){return this.timestamp},c}();function Go(c){var s=0;for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&s++;return s}function ho(c,s){for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&s(l,c[l])}function Io(c){for(var s in c)if(Object.prototype.hasOwnProperty.call(c,s))return!1;return!0}var ma=function(){function c(s,l,h){void 0===l?l=0:l>s.length&&et(),void 0===h?h=s.length-l:h>s.length-l&&et(),this.segments=s,this.offset=l,this.len=h}return Object.defineProperty(c.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(s){return 0===c.comparator(this,s)},c.prototype.child=function(s){var l=this.segments.slice(this.offset,this.limit());return s instanceof c?s.forEach(function(h){l.push(h)}):l.push(s),this.construct(l)},c.prototype.limit=function(){return this.offset+this.length},c.prototype.popFirst=function(s){return this.construct(this.segments,this.offset+(s=void 0===s?1:s),this.length-s)},c.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},c.prototype.firstSegment=function(){return this.segments[this.offset]},c.prototype.lastSegment=function(){return this.get(this.length-1)},c.prototype.get=function(s){return this.segments[this.offset+s]},c.prototype.isEmpty=function(){return 0===this.length},c.prototype.isPrefixOf=function(s){if(s.length<this.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0},c.prototype.isImmediateParentOf=function(s){if(this.length+1!==s.length)return!1;for(var l=0;l<this.length;l++)if(this.get(l)!==s.get(l))return!1;return!0},c.prototype.forEach=function(s){for(var l=this.offset,h=this.limit();l<h;l++)s(this.segments[l])},c.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},c.comparator=function(s,l){for(var h=Math.min(s.length,l.length),m=0;m<h;m++){var y=s.get(m),b=l.get(m);if(y<b)return-1;if(y>b)return 1}return s.length<l.length?-1:s.length>l.length?1:0},c}(),Wt=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,T.ZT)(s,c),s.prototype.construct=function(l,h,m){return new s(l,h,m)},s.prototype.canonicalString=function(){return this.toArray().join("/")},s.prototype.toString=function(){return this.canonicalString()},s.fromString=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];for(var m=[],y=0,b=l;y<b.length;y++){var C=b[y];if(C.indexOf("//")>=0)throw new _e(ue.INVALID_ARGUMENT,"Invalid segment ("+C+"). Paths must not contain // in them.");m.push.apply(m,C.split("/").filter(function(x){return x.length>0}))}return new s(m)},s.emptyPath=function(){return new s([])},s}(ma),yg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ls=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,T.ZT)(s,c),s.prototype.construct=function(l,h,m){return new s(l,h,m)},s.isValidIdentifier=function(l){return yg.test(l)},s.prototype.canonicalString=function(){return this.toArray().map(function(l){return l=l.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),s.isValidIdentifier(l)||(l="`"+l+"`"),l}).join(".")},s.prototype.toString=function(){return this.canonicalString()},s.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},s.keyField=function(){return new s(["__name__"])},s.fromServerFormat=function(l){for(var h=[],m="",y=0,b=function(){if(0===m.length)throw new _e(ue.INVALID_ARGUMENT,"Invalid field path ("+l+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");h.push(m),m=""},C=!1;y<l.length;){var x=l[y];if("\\"===x){if(y+1===l.length)throw new _e(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+l);var O=l[y+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new _e(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+l);m+=O,y+=2}else"`"===x?(C=!C,y++):"."!==x||C?(m+=x,y++):(b(),y++)}if(b(),C)throw new _e(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+l);return new s(h)},s.emptyPath=function(){return new s([])},s}(ma),So=function(){function c(s){this.fields=s,s.sort(ls.comparator)}return c.prototype.covers=function(s){for(var l=0,h=this.fields;l<h.length;l++)if(h[l].isPrefixOf(s))return!0;return!1},c.prototype.isEqual=function(s){return au(this.fields,s.fields,function(l,h){return l.isEqual(h)})},c}(),Si=function(){function c(s){this.binaryString=s}return c.fromBase64String=function(s){return new c(atob(s))},c.fromUint8Array=function(s){return new c(function(l){for(var h="",m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(s))},c.prototype.toBase64=function(){return btoa(this.binaryString)},c.prototype.toUint8Array=function(){return function(s){for(var l=new Uint8Array(s.length),h=0;h<s.length;h++)l[h]=s.charCodeAt(h);return l}(this.binaryString)},c.prototype.approximateByteSize=function(){return 2*this.binaryString.length},c.prototype.compareTo=function(s){return Be(this.binaryString,s.binaryString)},c.prototype.isEqual=function(s){return this.binaryString===s.binaryString},c}();Si.EMPTY_BYTE_STRING=new Si("");var T_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(c){if(Ze(!!c),"string"==typeof c){var s=0,l=T_.exec(c);if(Ze(!!l),l[1]){var h=l[1];h=(h+"000000000").substr(0,9),s=Number(h)}var m=new Date(c);return{seconds:Math.floor(m.getTime()/1e3),nanos:s}}return{seconds:zr(c.seconds),nanos:zr(c.nanos)}}function zr(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function Od(c){return"string"==typeof c?Si.fromBase64String(c):Si.fromUint8Array(c)}function _g(c){var s,l;return"server_timestamp"===(null===(l=((null===(s=c?.mapValue)||void 0===s?void 0:s.fields)||{}).__type__)||void 0===l?void 0:l.stringValue)}function bg(c){var s=c.mapValue.fields.__previous_value__;return _g(s)?bg(s):s}function tl(c){var s=ds(c.mapValue.fields.__local_write_time__.timestampValue);return new Cn(s.seconds,s.nanos)}function pc(c){return null==c}function Nd(c){return 0===c&&1/c==-1/0}function Ye(c){return"number"==typeof c&&Number.isInteger(c)&&!Nd(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}var He=function(){function c(s){this.path=s}return c.fromPath=function(s){return new c(Wt.fromString(s))},c.fromName=function(s){return new c(Wt.fromString(s).popFirst(5))},c.prototype.hasCollectionId=function(s){return this.path.length>=2&&this.path.get(this.path.length-2)===s},c.prototype.isEqual=function(s){return null!==s&&0===Wt.comparator(this.path,s.path)},c.prototype.toString=function(){return this.path.toString()},c.comparator=function(s,l){return Wt.comparator(s.path,l.path)},c.isDocumentKey=function(s){return s.length%2==0},c.fromSegments=function(s){return new c(new Wt(s.slice()))},c}();function Ji(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?_g(c)?4:10:et()}function hs(c,s){var m,l=Ji(c);if(l!==Ji(s))return!1;switch(l){case 0:return!0;case 1:return c.booleanValue===s.booleanValue;case 4:return tl(c).isEqual(tl(s));case 3:return function(h,m){if("string"==typeof h.timestampValue&&"string"==typeof m.timestampValue&&h.timestampValue.length===m.timestampValue.length)return h.timestampValue===m.timestampValue;var y=ds(h.timestampValue),b=ds(m.timestampValue);return y.seconds===b.seconds&&y.nanos===b.nanos}(c,s);case 5:return c.stringValue===s.stringValue;case 6:return m=s,Od(c.bytesValue).isEqual(Od(m.bytesValue));case 7:return c.referenceValue===s.referenceValue;case 8:return function(h,m){return zr(h.geoPointValue.latitude)===zr(m.geoPointValue.latitude)&&zr(h.geoPointValue.longitude)===zr(m.geoPointValue.longitude)}(c,s);case 2:return function(h,m){if("integerValue"in h&&"integerValue"in m)return zr(h.integerValue)===zr(m.integerValue);if("doubleValue"in h&&"doubleValue"in m){var y=zr(h.doubleValue),b=zr(m.doubleValue);return y===b?Nd(y)===Nd(b):isNaN(y)&&isNaN(b)}return!1}(c,s);case 9:return au(c.arrayValue.values||[],s.arrayValue.values||[],hs);case 10:return function(h,m){var y=h.mapValue.fields||{},b=m.mapValue.fields||{};if(Go(y)!==Go(b))return!1;for(var C in y)if(y.hasOwnProperty(C)&&(void 0===b[C]||!hs(y[C],b[C])))return!1;return!0}(c,s);default:return et()}}function nl(c,s){return void 0!==(c.values||[]).find(function(l){return hs(l,s)})}function cu(c,s){var m,y,b,C,l=Ji(c),h=Ji(s);if(l!==h)return Be(l,h);switch(l){case 0:return 0;case 1:return Be(c.booleanValue,s.booleanValue);case 2:return y=s,(b=zr((m=c).integerValue||m.doubleValue))<(C=zr(y.integerValue||y.doubleValue))?-1:b>C?1:b===C?0:isNaN(b)?isNaN(C)?0:-1:1;case 3:return Wp(c.timestampValue,s.timestampValue);case 4:return Wp(tl(c),tl(s));case 5:return Be(c.stringValue,s.stringValue);case 6:return function(m,y){var b=Od(m),C=Od(y);return b.compareTo(C)}(c.bytesValue,s.bytesValue);case 7:return function(m,y){for(var b=m.split("/"),C=y.split("/"),x=0;x<b.length&&x<C.length;x++){var O=Be(b[x],C[x]);if(0!==O)return O}return Be(b.length,C.length)}(c.referenceValue,s.referenceValue);case 8:return function(m,y){var b=Be(zr(m.latitude),zr(y.latitude));return 0!==b?b:Be(zr(m.longitude),zr(y.longitude))}(c.geoPointValue,s.geoPointValue);case 9:return function(m,y){for(var b=m.values||[],C=y.values||[],x=0;x<b.length&&x<C.length;++x){var O=cu(b[x],C[x]);if(O)return O}return Be(b.length,C.length)}(c.arrayValue,s.arrayValue);case 10:return function(m,y){var b=m.fields||{},C=Object.keys(b),x=y.fields||{},O=Object.keys(x);C.sort(),O.sort();for(var P=0;P<C.length&&P<O.length;++P){var B=Be(C[P],O[P]);if(0!==B)return B;var z=cu(b[C[P]],x[O[P]]);if(0!==z)return z}return Be(C.length,O.length)}(c.mapValue,s.mapValue);default:throw et()}}function Wp(c,s){if("string"==typeof c&&"string"==typeof s&&c.length===s.length)return Be(c,s);var l=ds(c),h=ds(s),m=Be(l.seconds,h.seconds);return 0!==m?m:Be(l.nanos,h.nanos)}function hf(c){return Bs(c)}function Bs(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?"time("+(m=ds(c.timestampValue)).seconds+","+m.nanos+")":"stringValue"in c?c.stringValue:"bytesValue"in c?Od(c.bytesValue).toBase64():"referenceValue"in c?He.fromName(c.referenceValue).toString():"geoPointValue"in c?"geo("+(s=c.geoPointValue).latitude+","+s.longitude+")":"arrayValue"in c?function(h){for(var m="[",y=!0,b=0,C=h.values||[];b<C.length;b++)y?y=!1:m+=",",m+=Bs(C[b]);return m+"]"}(c.arrayValue):"mapValue"in c?function(h){for(var m="{",y=!0,b=0,C=Object.keys(h.fields||{}).sort();b<C.length;b++){var x=C[b];y?y=!1:m+=",",m+=x+":"+Bs(h.fields[x])}return m+"}"}(c.mapValue):et();var m,s}function To(c,s){return{referenceValue:"projects/"+c.projectId+"/databases/"+c.database+"/documents/"+s.path.canonicalString()}}function ff(c){return!!c&&"integerValue"in c}function pf(c){return!!c&&"arrayValue"in c}function yr(c){return!!c&&"nullValue"in c}function Pd(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function Ti(c){return!!c&&"mapValue"in c}function ga(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){var s={mapValue:{fields:{}}};return ho(c.mapValue.fields,function(m,y){return s.mapValue.fields[m]=ga(y)}),s}if(c.arrayValue){for(var l={arrayValue:{values:[]}},h=0;h<(c.arrayValue.values||[]).length;++h)l.arrayValue.values[h]=ga(c.arrayValue.values[h]);return l}return Object.assign({},c)}var ci=function(){function c(s){this.value=s}return c.empty=function(){return new c({mapValue:{}})},c.prototype.field=function(s){if(s.isEmpty())return this.value;for(var l=this.value,h=0;h<s.length-1;++h)if(!Ti(l=(l.mapValue.fields||{})[s.get(h)]))return null;return(l=(l.mapValue.fields||{})[s.lastSegment()])||null},c.prototype.set=function(s,l){this.getFieldsMap(s.popLast())[s.lastSegment()]=ga(l)},c.prototype.setAll=function(s){var l=this,h=ls.emptyPath(),m={},y=[];s.forEach(function(C,x){if(!h.isImmediateParentOf(x)){var O=l.getFieldsMap(h);l.applyChanges(O,m,y),m={},y=[],h=x.popLast()}C?m[x.lastSegment()]=ga(C):y.push(x.lastSegment())});var b=this.getFieldsMap(h);this.applyChanges(b,m,y)},c.prototype.delete=function(s){var l=this.field(s.popLast());Ti(l)&&l.mapValue.fields&&delete l.mapValue.fields[s.lastSegment()]},c.prototype.isEqual=function(s){return hs(this.value,s.value)},c.prototype.getFieldsMap=function(s){var l=this.value;l.mapValue.fields||(l.mapValue={fields:{}});for(var h=0;h<s.length;++h){var m=l.mapValue.fields[s.get(h)];Ti(m)&&m.mapValue.fields||(m={mapValue:{fields:{}}},l.mapValue.fields[s.get(h)]=m),l=m}return l.mapValue.fields},c.prototype.applyChanges=function(s,l,h){ho(l,function(C,x){return s[C]=x});for(var m=0,y=h;m<y.length;m++)delete s[y[m]]},c.prototype.clone=function(){return new c(ga(this.value))},c}();function Kp(c){var s=[];return ho(c.fields,function(l,h){var m=new ls([l]);if(Ti(h)){var y=Kp(h.mapValue).fields;if(0===y.length)s.push(m);else for(var b=0,C=y;b<C.length;b++)s.push(m.child(C[b]))}else s.push(m)}),new So(s)}var ui=function(){function c(s,l,h,m,y){this.key=s,this.documentType=l,this.version=h,this.data=m,this.documentState=y}return c.newInvalidDocument=function(s){return new c(s,0,At.min(),ci.empty(),0)},c.newFoundDocument=function(s,l,h){return new c(s,1,l,h,0)},c.newNoDocument=function(s,l){return new c(s,2,l,ci.empty(),0)},c.newUnknownDocument=function(s,l){return new c(s,3,l,ci.empty(),2)},c.prototype.convertToFoundDocument=function(s,l){return this.version=s,this.documentType=1,this.data=l,this.documentState=0,this},c.prototype.convertToNoDocument=function(s){return this.version=s,this.documentType=2,this.data=ci.empty(),this.documentState=0,this},c.prototype.convertToUnknownDocument=function(s){return this.version=s,this.documentType=3,this.data=ci.empty(),this.documentState=2,this},c.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},c.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(c.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),c.prototype.isValidDocument=function(){return 0!==this.documentType},c.prototype.isFoundDocument=function(){return 1===this.documentType},c.prototype.isNoDocument=function(){return 2===this.documentType},c.prototype.isUnknownDocument=function(){return 3===this.documentType},c.prototype.isEqual=function(s){return s instanceof c&&this.key.isEqual(s.key)&&this.version.isEqual(s.version)&&this.documentType===s.documentType&&this.documentState===s.documentState&&this.data.isEqual(s.data)},c.prototype.clone=function(){return new c(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},c.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},c}(),Yp=function(c,s,l,h,m,y,b){void 0===s&&(s=null),void 0===l&&(l=[]),void 0===h&&(h=[]),void 0===m&&(m=null),void 0===y&&(y=null),void 0===b&&(b=null),this.path=c,this.collectionGroup=s,this.orderBy=l,this.filters=h,this.limit=m,this.startAt=y,this.endAt=b,this.h=null};function Zp(c,s,l,h,m,y,b){return void 0===s&&(s=null),void 0===l&&(l=[]),void 0===h&&(h=[]),void 0===m&&(m=null),void 0===y&&(y=null),void 0===b&&(b=null),new Yp(c,s,l,h,m,y,b)}function mc(c){var s=Pe(c);if(null===s.h){var l=s.path.canonicalString();null!==s.collectionGroup&&(l+="|cg:"+s.collectionGroup),l+="|f:",l+=s.filters.map(function(h){return(m=h).field.canonicalString()+m.op.toString()+hf(m.value);var m}).join(","),l+="|ob:",l+=s.orderBy.map(function(h){return(m=h).field.canonicalString()+m.dir;var m}).join(","),pc(s.limit)||(l+="|l:",l+=s.limit),s.startAt&&(l+="|lb:",l+=gf(s.startAt)),s.endAt&&(l+="|ub:",l+=gf(s.endAt)),s.h=l}return s.h}function uu(c,s){if(c.limit!==s.limit||c.orderBy.length!==s.orderBy.length)return!1;for(var l=0;l<c.orderBy.length;l++)if(!jd(c.orderBy[l],s.orderBy[l]))return!1;if(c.filters.length!==s.filters.length)return!1;for(var h=0;h<c.filters.length;h++)if((m=c.filters[h]).op!==(y=s.filters[h]).op||!m.field.isEqual(y.field)||!hs(m.value,y.value))return!1;var m,y;return c.collectionGroup===s.collectionGroup&&!!c.path.isEqual(s.path)&&!!Qp(c.startAt,s.startAt)&&Qp(c.endAt,s.endAt)}function Fd(c){return He.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}var eo=function(c){function s(l,h,m){var y=this;return(y=c.call(this)||this).field=l,y.op=h,y.value=m,y}return(0,T.ZT)(s,c),s.create=function(l,h,m){return l.isKeyField()?"in"===h||"not-in"===h?this.l(l,h,m):new wg(l,h,m):"array-contains"===h?new Xp(l,m):"in"===h?new x_(l,m):"not-in"===h?new A_(l,m):"array-contains-any"===h?new Gv(l,m):new s(l,h,m)},s.l=function(l,h,m){return"in"===h?new mf(l,m):new lu(l,m)},s.prototype.matches=function(l){var h=l.data.field(this.field);return"!="===this.op?null!==h&&this.m(cu(h,this.value)):null!==h&&Ji(this.value)===Ji(h)&&this.m(cu(h,this.value))},s.prototype.m=function(l){switch(this.op){case"<":return l<0;case"<=":return l<=0;case"==":return 0===l;case"!=":return 0!==l;case">":return l>0;case">=":return l>=0;default:return et()}},s.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},s}(function(){}),wg=function(c){function s(l,h,m){var y=this;return(y=c.call(this,l,h,m)||this).key=He.fromName(m.referenceValue),y}return(0,T.ZT)(s,c),s.prototype.matches=function(l){var h=He.comparator(l.key,this.key);return this.m(h)},s}(eo),mf=function(c){function s(l,h){var m=this;return(m=c.call(this,l,"in",h)||this).keys=gc(0,h),m}return(0,T.ZT)(s,c),s.prototype.matches=function(l){return this.keys.some(function(h){return h.isEqual(l.key)})},s}(eo),lu=function(c){function s(l,h){var m=this;return(m=c.call(this,l,"not-in",h)||this).keys=gc(0,h),m}return(0,T.ZT)(s,c),s.prototype.matches=function(l){return!this.keys.some(function(h){return h.isEqual(l.key)})},s}(eo);function gc(c,s){var l;return((null===(l=s.arrayValue)||void 0===l?void 0:l.values)||[]).map(function(h){return He.fromName(h.referenceValue)})}var Xp=function(c){function s(l,h){return c.call(this,l,"array-contains",h)||this}return(0,T.ZT)(s,c),s.prototype.matches=function(l){var h=l.data.field(this.field);return pf(h)&&nl(h.arrayValue,this.value)},s}(eo),x_=function(c){function s(l,h){return c.call(this,l,"in",h)||this}return(0,T.ZT)(s,c),s.prototype.matches=function(l){var h=l.data.field(this.field);return null!==h&&nl(this.value.arrayValue,h)},s}(eo),A_=function(c){function s(l,h){return c.call(this,l,"not-in",h)||this}return(0,T.ZT)(s,c),s.prototype.matches=function(l){if(nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var h=l.data.field(this.field);return null!==h&&!nl(this.value.arrayValue,h)},s}(eo),Gv=function(c){function s(l,h){return c.call(this,l,"array-contains-any",h)||this}return(0,T.ZT)(s,c),s.prototype.matches=function(l){var h=this,m=l.data.field(this.field);return!(!pf(m)||!m.arrayValue.values)&&m.arrayValue.values.some(function(y){return nl(h.value.arrayValue,y)})},s}(eo),Ld=function(c,s){this.position=c,this.before=s};function gf(c){return(c.before?"b":"a")+":"+c.position.map(function(s){return hf(s)}).join(",")}var rl=function(c,s){void 0===s&&(s="asc"),this.field=c,this.dir=s};function jd(c,s){return c.dir===s.dir&&c.field.isEqual(s.field)}function Bd(c,s,l){for(var h=0,m=0;m<c.position.length;m++){var y=s[m],b=c.position[m];if(h=y.field.isKeyField()?He.comparator(He.fromName(b.referenceValue),l.key):cu(b,l.data.field(y.field)),"desc"===y.dir&&(h*=-1),0!==h)break}return c.before?h<=0:h<0}function Qp(c,s){if(null===c)return null===s;if(null===s||c.before!==s.before||c.position.length!==s.position.length)return!1;for(var l=0;l<c.position.length;l++)if(!hs(c.position[l],s.position[l]))return!1;return!0}var xo=function(c,s,l,h,m,y,b,C){void 0===s&&(s=null),void 0===l&&(l=[]),void 0===h&&(h=[]),void 0===m&&(m=null),void 0===y&&(y="F"),void 0===b&&(b=null),void 0===C&&(C=null),this.path=c,this.collectionGroup=s,this.explicitOrderBy=l,this.filters=h,this.limit=m,this.limitType=y,this.startAt=b,this.endAt=C,this.p=null,this.T=null};function Eg(c,s,l,h,m,y,b,C){return new xo(c,s,l,h,m,y,b,C)}function Vd(c){return new xo(c)}function Ud(c){return!pc(c.limit)&&"F"===c.limitType}function il(c){return!pc(c.limit)&&"L"===c.limitType}function Hd(c){return c.explicitOrderBy.length>0?c.explicitOrderBy[0].field:null}function vf(c){for(var s=0,l=c.filters;s<l.length;s++){var h=l[s];if(h.g())return h.field}return null}function ol(c){return null!==c.collectionGroup}function sl(c){var s=Pe(c);if(null===s.p){s.p=[];var l=vf(s),h=Hd(s);if(null!==l&&null===h)l.isKeyField()||s.p.push(new rl(l)),s.p.push(new rl(ls.keyField(),"asc"));else{for(var m=!1,y=0,b=s.explicitOrderBy;y<b.length;y++){var C=b[y];s.p.push(C),C.field.isKeyField()&&(m=!0)}if(!m){var x=s.explicitOrderBy.length>0?s.explicitOrderBy[s.explicitOrderBy.length-1].dir:"asc";s.p.push(new rl(ls.keyField(),x))}}}return s.p}function xi(c){var s=Pe(c);if(!s.T)if("F"===s.limitType)s.T=Zp(s.path,s.collectionGroup,sl(s),s.filters,s.limit,s.startAt,s.endAt);else{for(var l=[],h=0,m=sl(s);h<m.length;h++){var y=m[h];l.push(new rl(y.field,"desc"===y.dir?"asc":"desc"))}var C=s.endAt?new Ld(s.endAt.position,!s.endAt.before):null,x=s.startAt?new Ld(s.startAt.position,!s.startAt.before):null;s.T=Zp(s.path,s.collectionGroup,l,s.filters,s.limit,C,x)}return s.T}function Cg(c,s,l){return new xo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),s,l,c.startAt,c.endAt)}function al(c,s){return uu(xi(c),xi(s))&&c.limitType===s.limitType}function Dg(c){return mc(xi(c))+"|lt:"+c.limitType}function zd(c){return"Query(target="+(l=(s=xi(c)).path.canonicalString(),null!==s.collectionGroup&&(l+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(l+=", filters: ["+s.filters.map(function(h){return(m=h).field.canonicalString()+" "+m.op+" "+hf(m.value);var m}).join(", ")+"]"),pc(s.limit)||(l+=", limit: "+s.limit),s.orderBy.length>0&&(l+=", orderBy: ["+s.orderBy.map(function(h){return(m=h).field.canonicalString()+" ("+m.dir+")";var m}).join(", ")+"]"),s.startAt&&(l+=", startAt: "+gf(s.startAt)),s.endAt&&(l+=", endAt: "+gf(s.endAt)),"Target("+l+"); limitType=")+c.limitType+")";var s,l}function vc(c,s){return s.isFoundDocument()&&(m=(h=s).key.path,null!==(l=c).collectionGroup?h.key.hasCollectionId(l.collectionGroup)&&l.path.isPrefixOf(m):He.isDocumentKey(l.path)?l.path.isEqual(m):l.path.isImmediateParentOf(m))&&function(l,h){for(var m=0,y=l.explicitOrderBy;m<y.length;m++){var b=y[m];if(!b.field.isKeyField()&&null===h.data.field(b.field))return!1}return!0}(c,s)&&function(l,h){for(var m=0,y=l.filters;m<y.length;m++)if(!y[m].matches(h))return!1;return!0}(c,s)&&function(l,h){return!(l.startAt&&!Bd(l.startAt,sl(l),h)||l.endAt&&Bd(l.endAt,sl(l),h))}(c,s);var l,h,m}function va(c){return function(s,l){for(var h=!1,m=0,y=sl(c);m<y.length;m++){var b=y[m],C=Jp(b,s,l);if(0!==C)return C;h=h||b.field.isKeyField()}return 0}}function Jp(c,s,l){var m,b,C,x,h=c.field.isKeyField()?He.comparator(s.key,l.key):(b=l,C=s.data.field(m=c.field),x=b.data.field(m),null!==C&&null!==x?cu(C,x):et());switch(c.dir){case"asc":return h;case"desc":return-1*h;default:return et()}}function $d(c,s){if(c.I){if(isNaN(s))return{doubleValue:"NaN"};if(s===1/0)return{doubleValue:"Infinity"};if(s===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(s)?"-0":s}}function yf(c){return{integerValue:""+c}}function qd(c,s){return Ye(s)?yf(s):$d(c,s)}var cl=function(){this._=void 0};function em(c,s,l){return c instanceof er?(y={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(h=l).seconds,nanos:h.nanoseconds}}}},(m=s)&&(y.fields.__previous_value__=m),{mapValue:y}):c instanceof ya?wf(c,s):c instanceof vn?Gd(c,s):function(h,m){var y=bf(h,m),b=li(y)+li(h.A);return ff(y)&&ff(h.A)?yf(b):$d(h.R,b)}(c,s);var h,m,y}function _f(c,s,l){return c instanceof ya?wf(c,s):c instanceof vn?Gd(c,s):l}function bf(c,s){return c instanceof Vs?ff(l=s)||(h=l)&&"doubleValue"in h?s:{integerValue:0}:null;var h,l}var er=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,T.ZT)(s,c),s}(cl),ya=function(c){function s(l){var h=this;return(h=c.call(this)||this).elements=l,h}return(0,T.ZT)(s,c),s}(cl);function wf(c,s){for(var l=ul(s),h=function(b){l.some(function(C){return hs(C,b)})||l.push(b)},m=0,y=c.elements;m<y.length;m++)h(y[m]);return{arrayValue:{values:l}}}var vn=function(c){function s(l){var h=this;return(h=c.call(this)||this).elements=l,h}return(0,T.ZT)(s,c),s}(cl);function Gd(c,s){for(var l=ul(s),h=function(b){l=l.filter(function(C){return!hs(C,b)})},m=0,y=c.elements;m<y.length;m++)h(y[m]);return{arrayValue:{values:l}}}var Vs=function(c){function s(l,h){var m=this;return(m=c.call(this)||this).R=l,m.A=h,m}return(0,T.ZT)(s,c),s}(cl);function li(c){return zr(c.integerValue||c.doubleValue)}function ul(c){return pf(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}var _a=function(c,s){this.field=c,this.transform=s},fs=function(c,s){this.version=c,this.transformResults=s},yn=function(){function c(s,l){this.updateTime=s,this.exists=l}return c.none=function(){return new c},c.exists=function(s){return new c(void 0,s)},c.updateTime=function(s){return new c(s)},Object.defineProperty(c.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(s){return this.exists===s.exists&&(this.updateTime?!!s.updateTime&&this.updateTime.isEqual(s.updateTime):!s.updateTime)},c}();function Us(c,s){return void 0!==c.updateTime?s.isFoundDocument()&&s.version.isEqual(c.updateTime):void 0===c.exists||c.exists===s.isFoundDocument()}var ll=function(){};function Wv(c,s,l){var h,m,y,b,C;c instanceof du?(m=s,y=l,b=(h=c).value.clone(),C=vt(h.fieldTransforms,m,y.transformResults),b.setAll(C),m.convertToFoundDocument(y.version,b).setHasCommittedMutations()):c instanceof Ar?function(h,m,y){if(Us(h.precondition,m)){var b=vt(h.fieldTransforms,m,y.transformResults),C=m.data;C.setAll(yc(h)),C.setAll(b),m.convertToFoundDocument(y.version,C).setHasCommittedMutations()}else m.convertToUnknownDocument(y.version)}(c,s,l):function(h,m,y){m.convertToNoDocument(y.version).setHasCommittedMutations()}(0,s,l)}function di(c,s,l){var m;c instanceof du?function(h,m,y){if(Us(h.precondition,m)){var b=h.value.clone(),C=wa(h.fieldTransforms,y,m);b.setAll(C),m.convertToFoundDocument(ba(m),b).setHasLocalMutations()}}(c,s,l):c instanceof Ar?function(h,m,y){if(Us(h.precondition,m)){var b=wa(h.fieldTransforms,y,m),C=m.data;C.setAll(yc(h)),C.setAll(b),m.convertToFoundDocument(ba(m),C).setHasLocalMutations()}}(c,s,l):Us(c.precondition,m=s)&&m.convertToNoDocument(At.min())}function Ef(c,s){for(var l=null,h=0,m=c.fieldTransforms;h<m.length;h++){var y=m[h],b=s.data.field(y.field),C=bf(y.transform,b||null);null!=C&&(null==l&&(l=ci.empty()),l.set(y.field,C))}return l||null}function Ig(c,s){return c.type===s.type&&!!c.key.isEqual(s.key)&&!!c.precondition.isEqual(s.precondition)&&(h=s.fieldTransforms,!!(void 0===(l=c.fieldTransforms)&&void 0===h||l&&h&&au(l,h,function(m,y){return(b=m).field.isEqual((C=y).field)&&(O=C.transform,(x=b.transform)instanceof ya&&O instanceof ya||x instanceof vn&&O instanceof vn?au(x.elements,O.elements,hs):x instanceof Vs&&O instanceof Vs?hs(x.A,O.A):x instanceof er&&O instanceof er);var b,C,x,O})))&&(0===c.type?c.value.isEqual(s.value):1!==c.type||c.data.isEqual(s.data)&&c.fieldMask.isEqual(s.fieldMask));var l,h}function ba(c){return c.isFoundDocument()?c.version:At.min()}var du=function(c){function s(l,h,m,y){void 0===y&&(y=[]);var b=this;return(b=c.call(this)||this).key=l,b.value=h,b.precondition=m,b.fieldTransforms=y,b.type=0,b}return(0,T.ZT)(s,c),s}(ll),Ar=function(c){function s(l,h,m,y,b){void 0===b&&(b=[]);var C=this;return(C=c.call(this)||this).key=l,C.data=h,C.fieldMask=m,C.precondition=y,C.fieldTransforms=b,C.type=1,C}return(0,T.ZT)(s,c),s}(ll);function yc(c){var s=new Map;return c.fieldMask.fields.forEach(function(l){if(!l.isEmpty()){var h=c.data.field(l);s.set(l,h)}}),s}function vt(c,s,l){var h=new Map;Ze(c.length===l.length);for(var m=0;m<l.length;m++){var y=c[m],b=y.transform,C=s.data.field(y.field);h.set(y.field,_f(b,C,l[m]))}return h}function wa(c,s,l){for(var h=new Map,m=0,y=c;m<y.length;m++){var b=y[m],C=b.transform,x=l.data.field(b.field);h.set(b.field,em(C,x,s))}return h}var $r,Ht,dl=function(c){function s(l,h){var m=this;return(m=c.call(this)||this).key=l,m.precondition=h,m.type=2,m.fieldTransforms=[],m}return(0,T.ZT)(s,c),s}(ll),_c=function(c){function s(l,h){var m=this;return(m=c.call(this)||this).key=l,m.precondition=h,m.type=3,m.fieldTransforms=[],m}return(0,T.ZT)(s,c),s}(ll),tm=function(c){this.count=c};function fo(c){switch(c){case ue.OK:return et();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return et()}}function Sg(c){if(void 0===c)return it("GRPC error has no .code"),ue.UNKNOWN;switch(c){case $r.OK:return ue.OK;case $r.CANCELLED:return ue.CANCELLED;case $r.UNKNOWN:return ue.UNKNOWN;case $r.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case $r.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case $r.INTERNAL:return ue.INTERNAL;case $r.UNAVAILABLE:return ue.UNAVAILABLE;case $r.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case $r.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case $r.NOT_FOUND:return ue.NOT_FOUND;case $r.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case $r.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case $r.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case $r.ABORTED:return ue.ABORTED;case $r.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case $r.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case $r.DATA_LOSS:return ue.DATA_LOSS;default:return et()}}(Ht=$r||($r={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";var jn=function(){function c(s,l){this.comparator=s,this.root=l||Hs.EMPTY}return c.prototype.insert=function(s,l){return new c(this.comparator,this.root.insert(s,l,this.comparator).copy(null,null,Hs.BLACK,null,null))},c.prototype.remove=function(s){return new c(this.comparator,this.root.remove(s,this.comparator).copy(null,null,Hs.BLACK,null,null))},c.prototype.get=function(s){for(var l=this.root;!l.isEmpty();){var h=this.comparator(s,l.key);if(0===h)return l.value;h<0?l=l.left:h>0&&(l=l.right)}return null},c.prototype.indexOf=function(s){for(var l=0,h=this.root;!h.isEmpty();){var m=this.comparator(s,h.key);if(0===m)return l+h.left.size;m<0?h=h.left:(l+=h.left.size+1,h=h.right)}return-1},c.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(c.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),c.prototype.minKey=function(){return this.root.minKey()},c.prototype.maxKey=function(){return this.root.maxKey()},c.prototype.inorderTraversal=function(s){return this.root.inorderTraversal(s)},c.prototype.forEach=function(s){this.inorderTraversal(function(l,h){return s(l,h),!1})},c.prototype.toString=function(){var s=[];return this.inorderTraversal(function(l,h){return s.push(l+":"+h),!1}),"{"+s.join(", ")+"}"},c.prototype.reverseTraversal=function(s){return this.root.reverseTraversal(s)},c.prototype.getIterator=function(){return new Wd(this.root,null,this.comparator,!1)},c.prototype.getIteratorFrom=function(s){return new Wd(this.root,s,this.comparator,!1)},c.prototype.getReverseIterator=function(){return new Wd(this.root,null,this.comparator,!0)},c.prototype.getReverseIteratorFrom=function(s){return new Wd(this.root,s,this.comparator,!0)},c}(),Wd=function(){function c(s,l,h,m){this.isReverse=m,this.nodeStack=[];for(var y=1;!s.isEmpty();)if(y=l?h(s.key,l):1,m&&(y*=-1),y<0)s=this.isReverse?s.left:s.right;else{if(0===y){this.nodeStack.push(s);break}this.nodeStack.push(s),s=this.isReverse?s.right:s.left}}return c.prototype.getNext=function(){var s=this.nodeStack.pop(),l={key:s.key,value:s.value};if(this.isReverse)for(s=s.left;!s.isEmpty();)this.nodeStack.push(s),s=s.right;else for(s=s.right;!s.isEmpty();)this.nodeStack.push(s),s=s.left;return l},c.prototype.hasNext=function(){return this.nodeStack.length>0},c.prototype.peek=function(){if(0===this.nodeStack.length)return null;var s=this.nodeStack[this.nodeStack.length-1];return{key:s.key,value:s.value}},c}(),Hs=function(){function c(s,l,h,m,y){this.key=s,this.value=l,this.color=h??c.RED,this.left=m??c.EMPTY,this.right=y??c.EMPTY,this.size=this.left.size+1+this.right.size}return c.prototype.copy=function(s,l,h,m,y){return new c(s??this.key,l??this.value,h??this.color,m??this.left,y??this.right)},c.prototype.isEmpty=function(){return!1},c.prototype.inorderTraversal=function(s){return this.left.inorderTraversal(s)||s(this.key,this.value)||this.right.inorderTraversal(s)},c.prototype.reverseTraversal=function(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)},c.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},c.prototype.minKey=function(){return this.min().key},c.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},c.prototype.insert=function(s,l,h){var m=this,y=h(s,m.key);return(m=y<0?m.copy(null,null,null,m.left.insert(s,l,h),null):0===y?m.copy(null,l,null,null,null):m.copy(null,null,null,null,m.right.insert(s,l,h))).fixUp()},c.prototype.removeMin=function(){if(this.left.isEmpty())return c.EMPTY;var s=this;return s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),(s=s.copy(null,null,null,s.left.removeMin(),null)).fixUp()},c.prototype.remove=function(s,l){var h,m=this;if(l(s,m.key)<0)m.left.isEmpty()||m.left.isRed()||m.left.left.isRed()||(m=m.moveRedLeft()),m=m.copy(null,null,null,m.left.remove(s,l),null);else{if(m.left.isRed()&&(m=m.rotateRight()),m.right.isEmpty()||m.right.isRed()||m.right.left.isRed()||(m=m.moveRedRight()),0===l(s,m.key)){if(m.right.isEmpty())return c.EMPTY;h=m.right.min(),m=m.copy(h.key,h.value,null,null,m.right.removeMin())}m=m.copy(null,null,null,null,m.right.remove(s,l))}return m.fixUp()},c.prototype.isRed=function(){return this.color},c.prototype.fixUp=function(){var s=this;return s.right.isRed()&&!s.left.isRed()&&(s=s.rotateLeft()),s.left.isRed()&&s.left.left.isRed()&&(s=s.rotateRight()),s.left.isRed()&&s.right.isRed()&&(s=s.colorFlip()),s},c.prototype.moveRedLeft=function(){var s=this.colorFlip();return s.right.left.isRed()&&(s=(s=(s=s.copy(null,null,null,null,s.right.rotateRight())).rotateLeft()).colorFlip()),s},c.prototype.moveRedRight=function(){var s=this.colorFlip();return s.left.left.isRed()&&(s=(s=s.rotateRight()).colorFlip()),s},c.prototype.rotateLeft=function(){var s=this.copy(null,null,c.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)},c.prototype.rotateRight=function(){var s=this.copy(null,null,c.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)},c.prototype.colorFlip=function(){var s=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,l)},c.prototype.checkMaxDepth=function(){var s=this.check();return Math.pow(2,s)<=this.size+1},c.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();var s=this.left.check();if(s!==this.right.check())throw et();return s+(this.isRed()?0:1)},c}();Hs.EMPTY=null,Hs.RED=!0,Hs.BLACK=!1,Hs.EMPTY=new(function(){function c(){this.size=0}return Object.defineProperty(c.prototype,"key",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"value",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"color",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"left",{get:function(){throw et()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"right",{get:function(){throw et()},enumerable:!1,configurable:!0}),c.prototype.copy=function(s,l,h,m,y){return this},c.prototype.insert=function(s,l,h){return new Hs(s,l)},c.prototype.remove=function(s,l){return this},c.prototype.isEmpty=function(){return!0},c.prototype.inorderTraversal=function(s){return!1},c.prototype.reverseTraversal=function(s){return!1},c.prototype.minKey=function(){return null},c.prototype.maxKey=function(){return null},c.prototype.isRed=function(){return!1},c.prototype.checkMaxDepth=function(){return!0},c.prototype.check=function(){return 0},c}());var Gn=function(){function c(s){this.comparator=s,this.data=new jn(this.comparator)}return c.prototype.has=function(s){return null!==this.data.get(s)},c.prototype.first=function(){return this.data.minKey()},c.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(c.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),c.prototype.indexOf=function(s){return this.data.indexOf(s)},c.prototype.forEach=function(s){this.data.inorderTraversal(function(l,h){return s(l),!1})},c.prototype.forEachInRange=function(s,l){for(var h=this.data.getIteratorFrom(s[0]);h.hasNext();){var m=h.getNext();if(this.comparator(m.key,s[1])>=0)return;l(m.key)}},c.prototype.forEachWhile=function(s,l){var h;for(h=void 0!==l?this.data.getIteratorFrom(l):this.data.getIterator();h.hasNext();)if(!s(h.getNext().key))return},c.prototype.firstAfterOrEqual=function(s){var l=this.data.getIteratorFrom(s);return l.hasNext()?l.getNext().key:null},c.prototype.getIterator=function(){return new be(this.data.getIterator())},c.prototype.getIteratorFrom=function(s){return new be(this.data.getIteratorFrom(s))},c.prototype.add=function(s){return this.copy(this.data.remove(s).insert(s,!0))},c.prototype.delete=function(s){return this.has(s)?this.copy(this.data.remove(s)):this},c.prototype.isEmpty=function(){return this.data.isEmpty()},c.prototype.unionWith=function(s){var l=this;return l.size<s.size&&(l=s,s=this),s.forEach(function(h){l=l.add(h)}),l},c.prototype.isEqual=function(s){if(!(s instanceof c)||this.size!==s.size)return!1;for(var l=this.data.getIterator(),h=s.data.getIterator();l.hasNext();){var m=l.getNext().key,y=h.getNext().key;if(0!==this.comparator(m,y))return!1}return!0},c.prototype.toArray=function(){var s=[];return this.forEach(function(l){s.push(l)}),s},c.prototype.toString=function(){var s=[];return this.forEach(function(l){return s.push(l)}),"SortedSet("+s.toString()+")"},c.prototype.copy=function(s){var l=new c(this.comparator);return l.data=s,l},c}(),be=function(){function c(s){this.iter=s}return c.prototype.getNext=function(){return this.iter.getNext().key},c.prototype.hasNext=function(){return this.iter.hasNext()},c}(),Kt=new jn(He.comparator);function Tn(){return Kt}var ps=new jn(He.comparator);function Mr(){return ps}var Cf=new jn(He.comparator);function Pi(){return Cf}var ms=new Gn(He.comparator);function Dn(){for(var c=[],s=0;s<arguments.length;s++)c[s]=arguments[s];for(var l=ms,h=0,m=c;h<m.length;h++)l=l.add(m[h]);return l}var Kd=new Gn(Be);function Df(){return Kd}var If=function(){function c(s,l,h,m,y){this.snapshotVersion=s,this.targetChanges=l,this.targetMismatches=h,this.documentUpdates=m,this.resolvedLimboDocuments=y}return c.createSynthesizedRemoteEventForCurrentChange=function(s,l){var h=new Map;return h.set(s,bc.createSynthesizedTargetChangeForCurrentChange(s,l)),new c(At.min(),h,Df(),Tn(),Dn())},c}(),bc=function(){function c(s,l,h,m,y){this.resumeToken=s,this.current=l,this.addedDocuments=h,this.modifiedDocuments=m,this.removedDocuments=y}return c.createSynthesizedTargetChangeForCurrentChange=function(s,l){return new c(Si.EMPTY_BYTE_STRING,l,Dn(),Dn(),Dn())},c}(),Rr=function(c,s,l,h){this.v=c,this.removedTargetIds=s,this.key=l,this.P=h},po=function(c,s){this.targetId=c,this.V=s},Sf=function(c,s,l,h){void 0===l&&(l=Si.EMPTY_BYTE_STRING),void 0===h&&(h=null),this.state=c,this.targetIds=s,this.resumeToken=l,this.cause=h},Ea=function(){function c(){this.S=0,this.D=hl(),this.C=Si.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(c.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),c.prototype.O=function(s){s.approximateByteSize()>0&&(this.k=!0,this.C=s)},c.prototype.M=function(){var s=Dn(),l=Dn(),h=Dn();return this.D.forEach(function(m,y){switch(y){case 0:s=s.add(m);break;case 2:l=l.add(m);break;case 1:h=h.add(m);break;default:et()}}),new bc(this.C,this.N,s,l,h)},c.prototype.L=function(){this.k=!1,this.D=hl()},c.prototype.B=function(s,l){this.k=!0,this.D=this.D.insert(s,l)},c.prototype.q=function(s){this.k=!0,this.D=this.D.remove(s)},c.prototype.U=function(){this.S+=1},c.prototype.K=function(){this.S-=1},c.prototype.j=function(){this.k=!0,this.N=!0},c}(),Wo=function(){function c(s){this.W=s,this.G=new Map,this.H=Tn(),this.J=nm(),this.Y=new Gn(Be)}return c.prototype.X=function(s){for(var l=0,h=s.v;l<h.length;l++){var m=h[l];s.P&&s.P.isFoundDocument()?this.Z(m,s.P):this.tt(m,s.key,s.P)}for(var y=0,b=s.removedTargetIds;y<b.length;y++)this.tt(m=b[y],s.key,s.P)},c.prototype.et=function(s){var l=this;this.forEachTarget(s,function(h){var m=l.nt(h);switch(s.state){case 0:l.st(h)&&m.O(s.resumeToken);break;case 1:m.K(),m.F||m.L(),m.O(s.resumeToken);break;case 2:m.K(),m.F||l.removeTarget(h);break;case 3:l.st(h)&&(m.j(),m.O(s.resumeToken));break;case 4:l.st(h)&&(l.it(h),m.O(s.resumeToken));break;default:et()}})},c.prototype.forEachTarget=function(s,l){var h=this;s.targetIds.length>0?s.targetIds.forEach(l):this.G.forEach(function(m,y){h.st(y)&&l(y)})},c.prototype.rt=function(s){var l=s.targetId,h=s.V.count,m=this.ot(l);if(m){var y=m.target;if(Fd(y))if(0===h){var b=new He(y.path);this.tt(l,b,ui.newNoDocument(b,At.min()))}else Ze(1===h);else this.ct(l)!==h&&(this.it(l),this.Y=this.Y.add(l))}},c.prototype.ut=function(s){var l=this,h=new Map;this.G.forEach(function(b,C){var x=l.ot(C);if(x){if(b.current&&Fd(x.target)){var O=new He(x.target.path);null!==l.H.get(O)||l.at(C,O)||l.tt(C,O,ui.newNoDocument(O,s))}b.$&&(h.set(C,b.M()),b.L())}});var m=Dn();this.J.forEach(function(b,C){var x=!0;C.forEachWhile(function(O){var P=l.ot(O);return!P||2===P.purpose||(x=!1,!1)}),x&&(m=m.add(b))});var y=new If(s,h,this.Y,this.H,m);return this.H=Tn(),this.J=nm(),this.Y=new Gn(Be),y},c.prototype.Z=function(s,l){if(this.st(s)){var h=this.at(s,l.key)?2:0;this.nt(s).B(l.key,h),this.H=this.H.insert(l.key,l),this.J=this.J.insert(l.key,this.ht(l.key).add(s))}},c.prototype.tt=function(s,l,h){if(this.st(s)){var m=this.nt(s);this.at(s,l)?m.B(l,1):m.q(l),this.J=this.J.insert(l,this.ht(l).delete(s)),h&&(this.H=this.H.insert(l,h))}},c.prototype.removeTarget=function(s){this.G.delete(s)},c.prototype.ct=function(s){var l=this.nt(s).M();return this.W.getRemoteKeysForTarget(s).size+l.addedDocuments.size-l.removedDocuments.size},c.prototype.U=function(s){this.nt(s).U()},c.prototype.nt=function(s){var l=this.G.get(s);return l||(l=new Ea,this.G.set(s,l)),l},c.prototype.ht=function(s){var l=this.J.get(s);return l||(l=new Gn(Be),this.J=this.J.insert(s,l)),l},c.prototype.st=function(s){var l=null!==this.ot(s);return l||Se("WatchChangeAggregator","Detected inactive target",s),l},c.prototype.ot=function(s){var l=this.G.get(s);return l&&l.F?null:this.W.lt(s)},c.prototype.it=function(s){var l=this;this.G.set(s,new Ea),this.W.getRemoteKeysForTarget(s).forEach(function(h){l.tt(s,h,null)})},c.prototype.at=function(s,l){return this.W.getRemoteKeysForTarget(s).has(l)},c}();function nm(){return new jn(He.comparator)}function hl(){return new jn(He.comparator)}var Tg={asc:"ASCENDING",desc:"DESCENDING"},rm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yd=function(c,s){this.databaseId=c,this.I=s};function hu(c,s){return c.I?new Date(1e3*s.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+s.nanoseconds).slice(-9)+"Z":{seconds:""+s.seconds,nanos:s.nanoseconds}}function Zd(c,s){return c.I?s.toBase64():s.toUint8Array()}function fu(c,s){return hu(c,s.toTimestamp())}function Kr(c){return Ze(!!c),At.fromTimestamp((l=ds(c),new Cn(l.seconds,l.nanos)));var l}function fl(c,s){return(l=c,new Wt(["projects",l.projectId,"databases",l.database])).child("documents").child(s).canonicalString();var l}function Tf(c){var s=Wt.fromString(c);return Ze(Af(s)),s}function pl(c,s){return fl(c.databaseId,s.path)}function Ko(c,s){var l=Tf(s);if(l.get(1)!==c.databaseId.projectId)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+l.get(1)+" vs "+c.databaseId.projectId);if(l.get(3)!==c.databaseId.database)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+l.get(3)+" vs "+c.databaseId.database);return new He(Ao(l))}function ml(c,s){return fl(c.databaseId,s)}function gl(c){var s=Tf(c);return 4===s.length?Wt.emptyPath():Ao(s)}function Ca(c){return new Wt(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Ao(c){return Ze(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function Xd(c,s,l){return{name:pl(c,s),fields:l.value.mapValue.fields}}function Yr(c,s,l){var h=Ko(c,s.name),m=Kr(s.updateTime),y=new ci({mapValue:{fields:s.fields}}),b=ui.newFoundDocument(h,m,y);return l&&b.setHasCommittedMutations(),l?b.setHasCommittedMutations():b}function Yo(c,s){var l,m;if(s instanceof du)l={update:Xd(c,s.key,s.value)};else if(s instanceof dl)l={delete:pl(c,s.key)};else if(s instanceof Ar)l={update:Xd(c,s.key,s.data),updateMask:wl(s.fieldMask)};else{if(!(s instanceof _c))return et();l={verify:pl(c,s.key)}}return s.fieldTransforms.length>0&&(l.updateTransforms=s.fieldTransforms.map(function(h){return function(m,y){var b=y.transform;if(b instanceof er)return{fieldPath:y.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof ya)return{fieldPath:y.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof vn)return{fieldPath:y.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof Vs)return{fieldPath:y.field.canonicalString(),increment:b.A};throw et()}(0,h)})),s.precondition.isNone||(l.currentDocument=void 0!==(m=s.precondition).updateTime?{updateTime:fu(c,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:et()),l}function Zn(c,s){var O,l=s.currentDocument?void 0!==(O=s.currentDocument).updateTime?yn.updateTime(Kr(O.updateTime)):void 0!==O.exists?yn.exists(O.exists):yn.none():yn.none(),h=s.updateTransforms?s.updateTransforms.map(function(O){return function(P,B){var z=null;"setToServerValue"in B?(Ze("REQUEST_TIME"===B.setToServerValue),z=new er):"appendMissingElements"in B?z=new ya(B.appendMissingElements.values||[]):"removeAllFromArray"in B?z=new vn(B.removeAllFromArray.values||[]):"increment"in B?z=new Vs(P,B.increment):et();var de=ls.fromServerFormat(B.fieldPath);return new _a(de,z)}(c,O)}):[];if(s.update){var m=Ko(c,s.update.name),y=new ci({mapValue:{fields:s.update.fields}});if(s.updateMask){var b=function(O){return new So((O.fieldPaths||[]).map(function(B){return ls.fromServerFormat(B)}))}(s.updateMask);return new Ar(m,y,b,l,h)}return new du(m,y,l,h)}if(s.delete){var C=Ko(c,s.delete);return new dl(C,l)}if(s.verify){var x=Ko(c,s.verify);return new _c(x,l)}return et()}function vl(c,s){return{documents:[ml(c,s.path)]}}function yl(c,s){var l={structuredQuery:{}},h=s.path;null!==s.collectionGroup?(l.parent=ml(c,h),l.structuredQuery.from=[{collectionId:s.collectionGroup,allDescendants:!0}]):(l.parent=ml(c,h.popLast()),l.structuredQuery.from=[{collectionId:h.lastSegment()}]);var m=function(C){if(0!==C.length){var x=C.map(function(O){return function(P){if("=="===P.op){if(Pd(P.value))return{unaryFilter:{field:bl(P.field),op:"IS_NAN"}};if(yr(P.value))return{unaryFilter:{field:bl(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(Pd(P.value))return{unaryFilter:{field:bl(P.field),op:"IS_NOT_NAN"}};if(yr(P.value))return{unaryFilter:{field:bl(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bl(P.field),op:wc(P.op),value:P.value}}}(O)});return 1===x.length?x[0]:{compositeFilter:{op:"AND",filters:x}}}}(s.filters);m&&(l.structuredQuery.where=m);var y=function(C){if(0!==C.length)return C.map(function(x){return{field:bl((O=x).field),direction:xf(O.dir)};var O})}(s.orderBy);y&&(l.structuredQuery.orderBy=y);var x,b=(x=s.limit,c.I||pc(x)?x:{value:x});return null!==b&&(l.structuredQuery.limit=b),s.startAt&&(l.structuredQuery.startAt=om(s.startAt)),s.endAt&&(l.structuredQuery.endAt=om(s.endAt)),l}function _l(c){var s=gl(c.parent),l=c.structuredQuery,h=l.from?l.from.length:0,m=null;if(h>0){Ze(1===h);var y=l.from[0];y.allDescendants?m=y.collectionId:s=s.child(y.collectionId)}var b=[];l.where&&(b=im(l.where));var C=[];l.orderBy&&(C=l.orderBy.map(function(B){return new rl(zs((z=B).field),function(re){switch(re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction));var z}));var B,z,x=null;l.limit&&(x=pc(z="object"==typeof(B=l.limit)?B.value:B)?null:z);var O=null;l.startAt&&(O=sm(l.startAt));var P=null;return l.endAt&&(P=sm(l.endAt)),Eg(s,m,C,b,x,"F",O,P)}function im(c){return c?void 0!==c.unaryFilter?[Jd(c)]:void 0!==c.fieldFilter?[Qd(c)]:void 0!==c.compositeFilter?c.compositeFilter.filters.map(function(s){return im(s)}).reduce(function(s,l){return s.concat(l)}):et():[]}function om(c){return{before:c.before,values:c.position}}function sm(c){return new Ld(c.values||[],!!c.before)}function xf(c){return Tg[c]}function wc(c){return rm[c]}function bl(c){return{fieldPath:c.canonicalString()}}function zs(c){return ls.fromServerFormat(c.fieldPath)}function Qd(c){return eo.create(zs(c.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(c.fieldFilter.op),c.fieldFilter.value)}function Jd(c){switch(c.unaryFilter.op){case"IS_NAN":var s=zs(c.unaryFilter.field);return eo.create(s,"==",{doubleValue:NaN});case"IS_NULL":var l=zs(c.unaryFilter.field);return eo.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var h=zs(c.unaryFilter.field);return eo.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var m=zs(c.unaryFilter.field);return eo.create(m,"!=",{nullValue:"NULL_VALUE"});default:return et()}}function wl(c){var s=[];return c.fields.forEach(function(l){return s.push(l.canonicalString())}),{fieldPaths:s}}function Af(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}function Fi(c){for(var s="",l=0;l<c.length;l++)s.length>0&&(s=pu(s)),s=Mf(c.get(l),s);return pu(s)}function Mf(c,s){for(var l=s,h=c.length,m=0;m<h;m++){var y=c.charAt(m);switch(y){case"\0":l+="\x01\x10";break;case"\x01":l+="\x01\x11";break;default:l+=y}}return l}function pu(c){return c+"\x01\x01"}function kr(c){var s=c.length;if(Ze(s>=2),2===s)return Ze("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),Wt.emptyPath();for(var l=s-2,h=[],m="",y=0;y<s;){var b=c.indexOf("\x01",y);switch((b<0||b>l)&&et(),c.charAt(b+1)){case"\x01":var C=c.substring(y,b),x=void 0;0===m.length?x=C:(x=m+=C,m=""),h.push(x);break;case"\x10":m+=c.substring(y,b),m+="\0";break;case"\x11":m+=c.substring(y,b+1);break;default:et()}y=b+2}return new Wt(h)}var mu=function(c,s){this.seconds=c,this.nanoseconds=s},Li=function(c,s,l){this.ownerId=c,this.allowTabSynchronization=s,this.leaseTimestampMs=l};Li.store="owner",Li.key="owner";var Mo=function(c,s,l){this.userId=c,this.lastAcknowledgedBatchId=s,this.lastStreamToken=l};Mo.store="mutationQueues",Mo.keyPath="userId";var tr=function(c,s,l,h,m){this.userId=c,this.batchId=s,this.localWriteTimeMs=l,this.baseMutations=h,this.mutations=m};tr.store="mutations",tr.keyPath="batchId",tr.userMutationsIndex="userMutationsIndex",tr.userMutationsKeyPath=["userId","batchId"];var hi=function(){function c(){}return c.prefixForUser=function(s){return[s]},c.prefixForPath=function(s,l){return[s,Fi(l)]},c.key=function(s,l,h){return[s,Fi(l),h]},c}();hi.store="documentMutations",hi.PLACEHOLDER=new hi;var xg=function(c,s){this.path=c,this.readTime=s},Kv=function(c,s){this.path=c,this.version=s},nr=function(c,s,l,h,m,y){this.unknownDocument=c,this.noDocument=s,this.document=l,this.hasCommittedMutations=h,this.readTime=m,this.parentPath=y};nr.store="remoteDocuments",nr.readTimeIndex="readTimeIndex",nr.readTimeIndexPath="readTime",nr.collectionReadTimeIndex="collectionReadTimeIndex",nr.collectionReadTimeIndexPath=["parentPath","readTime"];var ji=function(c){this.byteSize=c};ji.store="remoteDocumentGlobal",ji.key="remoteDocumentGlobalKey";var Zr=function(c,s,l,h,m,y,b){this.targetId=c,this.canonicalId=s,this.readTime=l,this.resumeToken=h,this.lastListenSequenceNumber=m,this.lastLimboFreeSnapshotVersion=y,this.query=b};Zr.store="targets",Zr.keyPath="targetId",Zr.queryTargetsIndexName="queryTargetsIndex",Zr.queryTargetsKeyPath=["canonicalId","targetId"];var qr=function(c,s,l){this.targetId=c,this.path=s,this.sequenceNumber=l};qr.store="targetDocuments",qr.keyPath=["targetId","path"],qr.documentTargetsIndex="documentTargetsIndex",qr.documentTargetsKeyPath=["path","targetId"];var Xr=function(c,s,l,h){this.highestTargetId=c,this.highestListenSequenceNumber=s,this.lastRemoteSnapshotVersion=l,this.targetCount=h};Xr.key="targetGlobalKey",Xr.store="targetGlobal";var Da=function(c,s){this.collectionId=c,this.parent=s};Da.store="collectionParents",Da.keyPath=["collectionId","parent"];var Zo=function(c,s,l,h){this.clientId=c,this.updateTimeMs=s,this.networkEnabled=l,this.inForeground=h};Zo.store="clientMetadata",Zo.keyPath="clientId";var Ec=function(c,s,l){this.bundleId=c,this.createTime=s,this.version=l};Ec.store="bundles",Ec.keyPath="bundleId";var gu=function(c,s,l){this.name=c,this.readTime=s,this.bundledQuery=l};gu.store="namedQueries",gu.keyPath="name";var Ag=(0,T.ev)((0,T.ev)([],(0,T.ev)((0,T.ev)([],(0,T.ev)((0,T.ev)([],(0,T.ev)((0,T.ev)([],[Mo.store,tr.store,hi.store,nr.store,Zr.store,Li.store,Xr.store,qr.store]),[Zo.store])),[ji.store])),[Da.store])),[Ec.store,gu.store]),Rf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",mo=function(){function c(){this.onCommittedListeners=[]}return c.prototype.addOnCommittedListener=function(s){this.onCommittedListeners.push(s)},c.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(s){return s()})},c}(),Wn=function(){var c=this;this.promise=new Promise(function(s,l){c.resolve=s,c.reject=l})},Te=function(){function c(s){var l=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,s(function(h){l.isDone=!0,l.result=h,l.nextCallback&&l.nextCallback(h)},function(h){l.isDone=!0,l.error=h,l.catchCallback&&l.catchCallback(h)})}return c.prototype.catch=function(s){return this.next(void 0,s)},c.prototype.next=function(s,l){var h=this;return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(l,this.error):this.wrapSuccess(s,this.result):new c(function(m,y){h.nextCallback=function(b){h.wrapSuccess(s,b).next(m,y)},h.catchCallback=function(b){h.wrapFailure(l,b).next(m,y)}})},c.prototype.toPromise=function(){var s=this;return new Promise(function(l,h){s.next(l,h)})},c.prototype.wrapUserFunction=function(s){try{var l=s();return l instanceof c?l:c.resolve(l)}catch(h){return c.reject(h)}},c.prototype.wrapSuccess=function(s,l){return s?this.wrapUserFunction(function(){return s(l)}):c.resolve(l)},c.prototype.wrapFailure=function(s,l){return s?this.wrapUserFunction(function(){return s(l)}):c.reject(l)},c.resolve=function(s){return new c(function(l,h){l(s)})},c.reject=function(s){return new c(function(l,h){h(s)})},c.waitFor=function(s){return new c(function(l,h){var m=0,y=0,b=!1;s.forEach(function(C){++m,C.next(function(){++y,b&&y===m&&l()},function(x){return h(x)})}),b=!0,y===m&&l()})},c.or=function(s){for(var l=c.resolve(!1),h=function(b){l=l.next(function(C){return C?c.resolve(C):b()})},m=0,y=s;m<y.length;m++)h(y[m]);return l},c.forEach=function(s,l){var h=this,m=[];return s.forEach(function(y,b){m.push(l.call(h,y,b))}),this.waitFor(m)},c}(),go=function(){function c(s,l){var h=this;this.action=s,this.transaction=l,this.aborted=!1,this.ft=new Wn,this.transaction.oncomplete=function(){h.ft.resolve()},this.transaction.onabort=function(){l.error?h.ft.reject(new yu(s,l.error)):h.ft.resolve()},this.transaction.onerror=function(m){var y=th(m.target.error);h.ft.reject(new yu(s,y))}}return c.open=function(s,l,h,m){try{return new c(l,s.transaction(m,h))}catch(y){throw new yu(l,y)}},Object.defineProperty(c.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),c.prototype.abort=function(s){s&&this.ft.reject(s),this.aborted||(Se("SimpleDb","Aborting transaction:",s?s.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},c.prototype.store=function(s){var l=this.transaction.objectStore(s);return new am(l)},c}(),vu=function(){function c(s,l,h){this.name=s,this.version=l,this.wt=h,12.2===c._t((0,Ge.z$)())&&it("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return c.delete=function(s){return Se("SimpleDb","Removing database:",s),gs(window.indexedDB.deleteDatabase(s)).toPromise()},c.yt=function(){if(typeof indexedDB>"u")return!1;if(c.gt())return!0;var s=(0,Ge.z$)(),l=c._t(s),h=0<l&&l<10,m=c.Et(s),y=0<m&&m<4.5;return!(s.indexOf("MSIE ")>0||s.indexOf("Trident/")>0||s.indexOf("Edge/")>0||h||y)},c.gt=function(){var s;return typeof process<"u"&&"YES"===(null===(s=process.env)||void 0===s?void 0:s.Tt)},c.It=function(s,l){return s.store(l)},c._t=function(s){var l=s.match(/i(?:phone|pad|pod) os ([\d_]+)/i),h=l?l[1].split("_").slice(0,2).join("."):"-1";return Number(h)},c.Et=function(s){var l=s.match(/Android ([\d.]+)/i),h=l?l[1].split(".").slice(0,2).join("."):"-1";return Number(h)},c.prototype.At=function(s){return(0,T.mG)(this,void 0,void 0,function(){var l,h=this;return(0,T.Jh)(this,function(m){switch(m.label){case 0:return this.db?[3,2]:(Se("SimpleDb","Opening database:",this.name),l=this,[4,new Promise(function(y,b){var C=indexedDB.open(h.name,h.version);C.onsuccess=function(x){y(x.target.result)},C.onblocked=function(){b(new yu(s,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},C.onerror=function(x){var O=x.target.error;b("VersionError"===O.name?new _e(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new yu(s,O))},C.onupgradeneeded=function(x){Se("SimpleDb",'Database "'+h.name+'" requires upgrade from version:',x.oldVersion),h.wt.Rt(x.target.result,C.transaction,x.oldVersion,h.version).next(function(){Se("SimpleDb","Database upgrade to version "+h.version+" complete")})}})]);case 1:l.db=m.sent(),m.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(y){return h.bt(y)}),this.db)]}})})},c.prototype.vt=function(s){this.bt=s,this.db&&(this.db.onversionchange=function(l){return s(l)})},c.prototype.runTransaction=function(s,l,h,m){return(0,T.mG)(this,void 0,void 0,function(){var y,b,C,x,O;return(0,T.Jh)(this,function(P){switch(P.label){case 0:y="readonly"===l,b=0,C=function(){var B,z,re,te,de;return(0,T.Jh)(this,function(Me){switch(Me.label){case 0:++b,Me.label=1;case 1:return Me.trys.push([1,4,,5]),[4,x.At(s)];case 2:return x.db=Me.sent(),B=go.open(x.db,s,y?"readonly":"readwrite",h),z=m(B).catch(function(je){return B.abort(je),Te.reject(je)}).toPromise(),re={},z.catch(function(){}),[4,B.dt];case 3:return[2,(re.value=(Me.sent(),z),re)];case 4:return Se("SimpleDb","Transaction failed with error:",(te=Me.sent()).message,"Retrying:",de="FirebaseError"!==te.name&&b<3),x.close(),de?[3,5]:[2,{value:Promise.reject(te)}];case 5:return[2]}})},x=this,P.label=1;case 1:return[5,C()];case 2:if("object"==typeof(O=P.sent()))return[2,O.value];P.label=3;case 3:return[3,1];case 4:return[2]}})})},c.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},c}(),kf=function(){function c(s){this.Pt=s,this.Vt=!1,this.St=null}return Object.defineProperty(c.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"cursor",{set:function(s){this.Pt=s},enumerable:!1,configurable:!0}),c.prototype.done=function(){this.Vt=!0},c.prototype.Ct=function(s){this.St=s},c.prototype.delete=function(){return gs(this.Pt.delete())},c}(),yu=function(c){function s(l,h){var m=this;return(m=c.call(this,ue.UNAVAILABLE,"IndexedDB transaction '"+l+"' failed: "+h)||this).name="IndexedDbTransactionError",m}return(0,T.ZT)(s,c),s}(_e);function _u(c){return"IndexedDbTransactionError"===c.name}var am=function(){function c(s){this.store=s}return c.prototype.put=function(s,l){var h;return void 0!==l?(Se("SimpleDb","PUT",this.store.name,s,l),h=this.store.put(l,s)):(Se("SimpleDb","PUT",this.store.name,"<auto-key>",s),h=this.store.put(s)),gs(h)},c.prototype.add=function(s){return Se("SimpleDb","ADD",this.store.name,s,s),gs(this.store.add(s))},c.prototype.get=function(s){var l=this;return gs(this.store.get(s)).next(function(h){return void 0===h&&(h=null),Se("SimpleDb","GET",l.store.name,s,h),h})},c.prototype.delete=function(s){return Se("SimpleDb","DELETE",this.store.name,s),gs(this.store.delete(s))},c.prototype.count=function(){return Se("SimpleDb","COUNT",this.store.name),gs(this.store.count())},c.prototype.Nt=function(s,l){var h=this.cursor(this.options(s,l)),m=[];return this.xt(h,function(y,b){m.push(b)}).next(function(){return m})},c.prototype.kt=function(s,l){Se("SimpleDb","DELETE ALL",this.store.name);var h=this.options(s,l);h.Ft=!1;var m=this.cursor(h);return this.xt(m,function(y,b,C){return C.delete()})},c.prototype.$t=function(s,l){var h;l?h=s:(h={},l=s);var m=this.cursor(h);return this.xt(m,l)},c.prototype.Ot=function(s){var l=this.cursor({});return new Te(function(h,m){l.onerror=function(y){var b=th(y.target.error);m(b)},l.onsuccess=function(y){var b=y.target.result;b?s(b.primaryKey,b.value).next(function(C){C?b.continue():h()}):h()}})},c.prototype.xt=function(s,l){var h=[];return new Te(function(m,y){s.onerror=function(b){y(b.target.error)},s.onsuccess=function(b){var C=b.target.result;if(C){var x=new kf(C),O=l(C.primaryKey,C.value,x);if(O instanceof Te){var P=O.catch(function(B){return x.done(),Te.reject(B)});h.push(P)}x.isDone?m():null===x.Dt?C.continue():C.continue(x.Dt)}else m()}}).next(function(){return Te.waitFor(h)})},c.prototype.options=function(s,l){var h;return void 0!==s&&("string"==typeof s?h=s:l=s),{index:h,range:l}},c.prototype.cursor=function(s){var l="next";if(s.reverse&&(l="prev"),s.index){var h=this.store.index(s.index);return s.Ft?h.openKeyCursor(s.range,l):h.openCursor(s.range,l)}return this.store.openCursor(s.range,l)},c}();function gs(c){return new Te(function(s,l){c.onsuccess=function(h){s(h.target.result)},c.onerror=function(h){var m=th(h.target.error);l(m)}})}var eh=!1;function th(c){var s=vu._t((0,Ge.z$)());if(s>=12.2&&s<13){var l="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(l)>=0){var h=new _e("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+l+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return eh||(eh=!0,setTimeout(function(){throw h},0)),h}}return c}var cm=function(c){function s(l,h){var m=this;return(m=c.call(this)||this).Mt=l,m.currentSequenceNumber=h,m}return(0,T.ZT)(s,c),s}(mo);function Ai(c,s){var l=Pe(c);return vu.It(l.Mt,s)}var $s=function(){function c(s,l,h,m){this.batchId=s,this.localWriteTime=l,this.baseMutations=h,this.mutations=m}return c.prototype.applyToRemoteDocument=function(s,l){for(var h=l.mutationResults,m=0;m<this.mutations.length;m++){var y=this.mutations[m];y.key.isEqual(s.key)&&Wv(y,s,h[m])}},c.prototype.applyToLocalView=function(s){for(var l=0,h=this.baseMutations;l<h.length;l++)(b=h[l]).key.isEqual(s.key)&&di(b,s,this.localWriteTime);for(var m=0,y=this.mutations;m<y.length;m++){var b;(b=y[m]).key.isEqual(s.key)&&di(b,s,this.localWriteTime)}},c.prototype.applyToLocalDocumentSet=function(s){var l=this;this.mutations.forEach(function(h){var m=s.get(h.key),y=m;l.applyToLocalView(y),m.isValidDocument()||y.convertToNoDocument(At.min())})},c.prototype.keys=function(){return this.mutations.reduce(function(s,l){return s.add(l.key)},Dn())},c.prototype.isEqual=function(s){return this.batchId===s.batchId&&au(this.mutations,s.mutations,function(l,h){return Ig(l,h)})&&au(this.baseMutations,s.baseMutations,function(l,h){return Ig(l,h)})},c}(),Yv=function(){function c(s,l,h,m){this.batch=s,this.commitVersion=l,this.mutationResults=h,this.docVersions=m}return c.from=function(s,l,h){Ze(s.mutations.length===h.length);for(var m=Pi(),y=s.mutations,b=0;b<y.length;b++)m=m.insert(y[b].key,h[b].version);return new c(s,l,h,m)},c}(),nh=function(){function c(s,l,h,m,y,b,C){void 0===y&&(y=At.min()),void 0===b&&(b=At.min()),void 0===C&&(C=Si.EMPTY_BYTE_STRING),this.target=s,this.targetId=l,this.purpose=h,this.sequenceNumber=m,this.snapshotVersion=y,this.lastLimboFreeSnapshotVersion=b,this.resumeToken=C}return c.prototype.withSequenceNumber=function(s){return new c(this.target,this.targetId,this.purpose,s,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},c.prototype.withResumeToken=function(s,l){return new c(this.target,this.targetId,this.purpose,this.sequenceNumber,l,this.lastLimboFreeSnapshotVersion,s)},c.prototype.withLastLimboFreeSnapshotVersion=function(s){return new c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,s,this.resumeToken)},c}(),Of=function(c){this.Lt=c};function Ro(c,s){if(s.document)return Yr(c.Lt,s.document,!!s.hasCommittedMutations);if(s.noDocument){var l=He.fromSegments(s.noDocument.path),h=qs(s.noDocument.readTime),m=ui.newNoDocument(l,h);return s.hasCommittedMutations?m.setHasCommittedMutations():m}if(s.unknownDocument){var y=He.fromSegments(s.unknownDocument.path);return h=qs(s.unknownDocument.version),ui.newUnknownDocument(y,h)}return et()}function um(c,s,l){var B,z,h=Mi(l),m=s.key.path.popLast().toArray();if(s.isFoundDocument()){var y={name:pl(B=c.Lt,(z=s).key),fields:z.data.value.mapValue.fields,updateTime:hu(B,z.version.toTimestamp())},b=s.hasCommittedMutations;return new nr(null,null,y,b,h,m)}if(s.isNoDocument()){var C=s.key.path.toArray(),x=Gr(s.version);return b=s.hasCommittedMutations,new nr(null,new xg(C,x),null,b,h,m)}if(s.isUnknownDocument()){var O=s.key.path.toArray(),P=Gr(s.version);return new nr(new Kv(O,P),null,null,!0,h,m)}return et()}function Mi(c){var s=c.toTimestamp();return[s.seconds,s.nanoseconds]}function Mg(c){var s=new Cn(c[0],c[1]);return At.fromTimestamp(s)}function Gr(c){var s=c.toTimestamp();return new mu(s.seconds,s.nanoseconds)}function qs(c){var s=new Cn(c.seconds,c.nanoseconds);return At.fromTimestamp(s)}function El(c,s){for(var l=(s.baseMutations||[]).map(function(x){return Zn(c.Lt,x)}),h=0;h<s.mutations.length-1;++h)h+1<s.mutations.length&&void 0!==s.mutations[h+1].transform&&(s.mutations[h].updateTransforms=s.mutations[h+1].transform.fieldTransforms,s.mutations.splice(h+1,1),++h);var b=s.mutations.map(function(x){return Zn(c.Lt,x)}),C=Cn.fromMillis(s.localWriteTimeMs);return new $s(s.batchId,C,l,b)}function Cl(c){var s,l,h=qs(c.readTime),m=void 0!==c.lastLimboFreeSnapshotVersion?qs(c.lastLimboFreeSnapshotVersion):At.min();return void 0!==c.query.documents?(Ze(1===(l=c.query).documents.length),s=xi(Vd(gl(l.documents[0])))):s=xi(_l(c.query)),new nh(s,c.targetId,0,c.lastListenSequenceNumber,h,m,Si.fromBase64String(c.resumeToken))}function Dl(c,s){var l,h=Gr(s.snapshotVersion),m=Gr(s.lastLimboFreeSnapshotVersion);l=Fd(s.target)?vl(c.Lt,s.target):yl(c.Lt,s.target);var y=s.resumeToken.toBase64();return new Zr(s.targetId,mc(s.target),h,y,s.sequenceNumber,m,l)}function Ia(c){var s=_l({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?Cg(s,s.limit,"L"):s}var Il=function(){function c(){}return c.prototype.getBundleMetadata=function(s,l){return bu(s).get(l).next(function(h){if(h)return{id:(m=h).bundleId,createTime:qs(m.createTime),version:m.version};var m})},c.prototype.saveBundleMetadata=function(s,l){return bu(s).put({bundleId:(h=l).id,createTime:Gr(Kr(h.createTime)),version:h.version});var h},c.prototype.getNamedQuery=function(s,l){return rh(s).get(l).next(function(h){if(h)return{name:(m=h).name,query:Ia(m.bundledQuery),readTime:qs(m.readTime)};var m})},c.prototype.saveNamedQuery=function(s,l){return rh(s).put({name:(h=l).name,readTime:Gr(Kr(h.readTime)),bundledQuery:h.bundledQuery});var h},c}();function bu(c){return Ai(c,Ec.store)}function rh(c){return Ai(c,gu.store)}var ih=function(){function c(){this.Bt=new Sa}return c.prototype.addToCollectionParentIndex=function(s,l){return this.Bt.add(l),Te.resolve()},c.prototype.getCollectionParents=function(s,l){return Te.resolve(this.Bt.getEntries(l))},c}(),Sa=function(){function c(){this.index={}}return c.prototype.add=function(s){var l=s.lastSegment(),h=s.popLast(),m=this.index[l]||new Gn(Wt.comparator),y=!m.has(h);return this.index[l]=m.add(h),y},c.prototype.has=function(s){var l=s.lastSegment(),h=s.popLast(),m=this.index[l];return m&&m.has(h)},c.prototype.getEntries=function(s){return(this.index[s]||new Gn(Wt.comparator)).toArray()},c}(),Rg=function(){function c(){this.qt=new Sa}return c.prototype.addToCollectionParentIndex=function(s,l){var h=this;if(!this.qt.has(l)){var m=l.lastSegment(),y=l.popLast();s.addOnCommittedListener(function(){h.qt.add(l)});var b={collectionId:m,parent:Fi(y)};return Nf(s).put(b)}return Te.resolve()},c.prototype.getCollectionParents=function(s,l){var h=[],m=IDBKeyRange.bound([l,""],[xr(l),""],!1,!0);return Nf(s).Nt(m).next(function(y){for(var b=0,C=y;b<C.length;b++){var x=C[b];if(x.collectionId!==l)break;h.push(kr(x.parent))}return h})},c}();function Nf(c){return Ai(c,Da.store)}var lm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vs=function(){function c(s,l,h){this.cacheSizeCollectionThreshold=s,this.percentileToCollect=l,this.maximumSequenceNumbersToCollect=h}return c.withCacheSize=function(s){return new c(s,c.DEFAULT_COLLECTION_PERCENTILE,c.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},c}();function Zv(c,s,l){var h=c.store(tr.store),m=c.store(hi.store),y=[],b=IDBKeyRange.only(l.batchId),C=0,x=h.$t({range:b},function(te,de,Me){return C++,Me.delete()});y.push(x.next(function(){Ze(1===C)}));for(var O=[],P=0,B=l.mutations;P<B.length;P++){var z=B[P],re=hi.key(s,z.key.path,l.batchId);y.push(m.delete(re)),O.push(z.key)}return Te.waitFor(y).next(function(){return O})}function dm(c){if(!c)return 0;var s;if(c.document)s=c.document;else if(c.unknownDocument)s=c.unknownDocument;else{if(!c.noDocument)throw et();s=c.noDocument}return JSON.stringify(s).length}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);var M_=function(){function c(s,l,h,m){this.userId=s,this.R=l,this.Ut=h,this.referenceDelegate=m,this.Kt={}}return c.Qt=function(s,l,h,m){return Ze(""!==s.uid),new c(s.isAuthenticated()?s.uid:"",l,h,m)},c.prototype.checkEmpty=function(s){var l=!0,h=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ko(s).$t({index:tr.userMutationsIndex,range:h},function(m,y,b){l=!1,b.done()}).next(function(){return l})},c.prototype.addMutationBatch=function(s,l,h,m){var y=this,b=Sl(s),C=ko(s);return C.add({}).next(function(x){Ze("number"==typeof x);for(var O=new $s(x,l,h,m),P=function(je,at,ht){var Jt=ht.baseMutations.map(function(Vn){return Yo(je.Lt,Vn)}),En=ht.mutations.map(function(Vn){return Yo(je.Lt,Vn)});return new tr(at,ht.batchId,ht.localWriteTime.toMillis(),Jt,En)}(y.R,y.userId,O),B=[],z=new Gn(function(je,at){return Be(je.canonicalString(),at.canonicalString())}),re=0,te=m;re<te.length;re++){var de=te[re],Me=hi.key(y.userId,de.key.path,x);z=z.add(de.key.path.popLast()),B.push(C.put(P)),B.push(b.put(Me,hi.PLACEHOLDER))}return z.forEach(function(je){B.push(y.Ut.addToCollectionParentIndex(s,je))}),s.addOnCommittedListener(function(){y.Kt[x]=O.keys()}),Te.waitFor(B).next(function(){return O})})},c.prototype.lookupMutationBatch=function(s,l){var h=this;return ko(s).get(l).next(function(m){return m?(Ze(m.userId===h.userId),El(h.R,m)):null})},c.prototype.jt=function(s,l){var h=this;return this.Kt[l]?Te.resolve(this.Kt[l]):this.lookupMutationBatch(s,l).next(function(m){if(m){var y=m.keys();return h.Kt[l]=y,y}return null})},c.prototype.getNextMutationBatchAfterBatchId=function(s,l){var h=this,m=l+1,y=IDBKeyRange.lowerBound([this.userId,m]),b=null;return ko(s).$t({index:tr.userMutationsIndex,range:y},function(C,x,O){x.userId===h.userId&&(Ze(x.batchId>=m),b=El(h.R,x)),O.done()}).next(function(){return b})},c.prototype.getHighestUnacknowledgedBatchId=function(s){var l=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),h=-1;return ko(s).$t({index:tr.userMutationsIndex,range:l,reverse:!0},function(m,y,b){h=y.batchId,b.done()}).next(function(){return h})},c.prototype.getAllMutationBatches=function(s){var l=this,h=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ko(s).Nt(tr.userMutationsIndex,h).next(function(m){return m.map(function(y){return El(l.R,y)})})},c.prototype.getAllMutationBatchesAffectingDocumentKey=function(s,l){var h=this,m=hi.prefixForPath(this.userId,l.path),y=IDBKeyRange.lowerBound(m),b=[];return Sl(s).$t({range:y},function(C,x,O){var P=C[0],z=C[2],re=kr(C[1]);if(P===h.userId&&l.path.isEqual(re))return ko(s).get(z).next(function(te){if(!te)throw et();Ze(te.userId===h.userId),b.push(El(h.R,te))});O.done()}).next(function(){return b})},c.prototype.getAllMutationBatchesAffectingDocumentKeys=function(s,l){var h=this,m=new Gn(Be),y=[];return l.forEach(function(b){var C=hi.prefixForPath(h.userId,b.path),x=IDBKeyRange.lowerBound(C),O=Sl(s).$t({range:x},function(P,B,z){var re=P[0],de=P[2],Me=kr(P[1]);re===h.userId&&b.path.isEqual(Me)?m=m.add(de):z.done()});y.push(O)}),Te.waitFor(y).next(function(){return h.Wt(s,m)})},c.prototype.getAllMutationBatchesAffectingQuery=function(s,l){var h=this,m=l.path,y=m.length+1,b=hi.prefixForPath(this.userId,m),C=IDBKeyRange.lowerBound(b),x=new Gn(Be);return Sl(s).$t({range:C},function(O,P,B){var z=O[0],te=O[2],de=kr(O[1]);z===h.userId&&m.isPrefixOf(de)?de.length===y&&(x=x.add(te)):B.done()}).next(function(){return h.Wt(s,x)})},c.prototype.Wt=function(s,l){var h=this,m=[],y=[];return l.forEach(function(b){y.push(ko(s).get(b).next(function(C){if(null===C)throw et();Ze(C.userId===h.userId),m.push(El(h.R,C))}))}),Te.waitFor(y).next(function(){return m})},c.prototype.removeMutationBatch=function(s,l){var h=this;return Zv(s.Mt,this.userId,l).next(function(m){return s.addOnCommittedListener(function(){h.Gt(l.batchId)}),Te.forEach(m,function(y){return h.referenceDelegate.markPotentiallyOrphaned(s,y)})})},c.prototype.Gt=function(s){delete this.Kt[s]},c.prototype.performConsistencyCheck=function(s){var l=this;return this.checkEmpty(s).next(function(h){if(!h)return Te.resolve();var m=IDBKeyRange.lowerBound(hi.prefixForUser(l.userId)),y=[];return Sl(s).$t({range:m},function(b,C,x){if(b[0]===l.userId){var O=kr(b[1]);y.push(O)}else x.done()}).next(function(){Ze(0===y.length)})})},c.prototype.containsKey=function(s,l){return Xv(s,this.userId,l)},c.prototype.zt=function(s){var l=this;return kg(s).get(this.userId).next(function(h){return h||new Mo(l.userId,-1,"")})},c}();function Xv(c,s,l){var h=hi.prefixForPath(s,l.path),m=h[1],y=IDBKeyRange.lowerBound(h),b=!1;return Sl(c).$t({range:y,Ft:!0},function(C,x,O){C[0]===s&&C[1]===m&&(b=!0),O.done()}).next(function(){return b})}function ko(c){return Ai(c,tr.store)}function Sl(c){return Ai(c,hi.store)}function kg(c){return Ai(c,Mo.store)}var _r=function(){function c(s){this.Ht=s}return c.prototype.next=function(){return this.Ht+=2,this.Ht},c.Jt=function(){return new c(0)},c.Yt=function(){return new c(-1)},c}(),Qv=function(){function c(s,l){this.referenceDelegate=s,this.R=l}return c.prototype.allocateTargetId=function(s){var l=this;return this.Xt(s).next(function(h){var m=new _r(h.highestTargetId);return h.highestTargetId=m.next(),l.Zt(s,h).next(function(){return h.highestTargetId})})},c.prototype.getLastRemoteSnapshotVersion=function(s){return this.Xt(s).next(function(l){return At.fromTimestamp(new Cn(l.lastRemoteSnapshotVersion.seconds,l.lastRemoteSnapshotVersion.nanoseconds))})},c.prototype.getHighestSequenceNumber=function(s){return this.Xt(s).next(function(l){return l.highestListenSequenceNumber})},c.prototype.setTargetsMetadata=function(s,l,h){var m=this;return this.Xt(s).next(function(y){return y.highestListenSequenceNumber=l,h&&(y.lastRemoteSnapshotVersion=h.toTimestamp()),l>y.highestListenSequenceNumber&&(y.highestListenSequenceNumber=l),m.Zt(s,y)})},c.prototype.addTargetData=function(s,l){var h=this;return this.te(s,l).next(function(){return h.Xt(s).next(function(m){return m.targetCount+=1,h.ee(l,m),h.Zt(s,m)})})},c.prototype.updateTargetData=function(s,l){return this.te(s,l)},c.prototype.removeTargetData=function(s,l){var h=this;return this.removeMatchingKeysForTargetId(s,l.targetId).next(function(){return Gs(s).delete(l.targetId)}).next(function(){return h.Xt(s)}).next(function(m){return Ze(m.targetCount>0),m.targetCount-=1,h.Zt(s,m)})},c.prototype.removeTargets=function(s,l,h){var m=this,y=0,b=[];return Gs(s).$t(function(C,x){var O=Cl(x);O.sequenceNumber<=l&&null===h.get(O.targetId)&&(y++,b.push(m.removeTargetData(s,O)))}).next(function(){return Te.waitFor(b)}).next(function(){return y})},c.prototype.forEachTarget=function(s,l){return Gs(s).$t(function(h,m){var y=Cl(m);l(y)})},c.prototype.Xt=function(s){return Og(s).get(Xr.key).next(function(l){return Ze(null!==l),l})},c.prototype.Zt=function(s,l){return Og(s).put(Xr.key,l)},c.prototype.te=function(s,l){return Gs(s).put(Dl(this.R,l))},c.prototype.ee=function(s,l){var h=!1;return s.targetId>l.highestTargetId&&(l.highestTargetId=s.targetId,h=!0),s.sequenceNumber>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=s.sequenceNumber,h=!0),h},c.prototype.getTargetCount=function(s){return this.Xt(s).next(function(l){return l.targetCount})},c.prototype.getTargetData=function(s,l){var h=mc(l),m=IDBKeyRange.bound([h,Number.NEGATIVE_INFINITY],[h,Number.POSITIVE_INFINITY]),y=null;return Gs(s).$t({range:m,index:Zr.queryTargetsIndexName},function(b,C,x){var O=Cl(C);uu(l,O.target)&&(y=O,x.done())}).next(function(){return y})},c.prototype.addMatchingKeys=function(s,l,h){var m=this,y=[],b=Qr(s);return l.forEach(function(C){var x=Fi(C.path);y.push(b.put(new qr(h,x))),y.push(m.referenceDelegate.addReference(s,h,C))}),Te.waitFor(y)},c.prototype.removeMatchingKeys=function(s,l,h){var m=this,y=Qr(s);return Te.forEach(l,function(b){var C=Fi(b.path);return Te.waitFor([y.delete([h,C]),m.referenceDelegate.removeReference(s,h,b)])})},c.prototype.removeMatchingKeysForTargetId=function(s,l){var h=Qr(s),m=IDBKeyRange.bound([l],[l+1],!1,!0);return h.delete(m)},c.prototype.getMatchingKeysForTargetId=function(s,l){var h=IDBKeyRange.bound([l],[l+1],!1,!0),m=Qr(s),y=Dn();return m.$t({range:h,Ft:!0},function(b,C,x){var O=kr(b[1]),P=new He(O);y=y.add(P)}).next(function(){return y})},c.prototype.containsKey=function(s,l){var h=Fi(l.path),m=IDBKeyRange.bound([h],[xr(h)],!1,!0),y=0;return Qr(s).$t({index:qr.documentTargetsIndex,Ft:!0,range:m},function(b,C,x){0!==b[0]&&(y++,x.done())}).next(function(){return y>0})},c.prototype.lt=function(s,l){return Gs(s).get(l).next(function(h){return h?Cl(h):null})},c}();function Gs(c){return Ai(c,Zr.store)}function Og(c){return Ai(c,Xr.store)}function Qr(c){return Ai(c,qr.store)}function Xo(c){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){if(c.code!==ue.FAILED_PRECONDITION||c.message!==Rf)throw c;return Se("LocalStore","Unexpectedly lost primary lease"),[2]})})}function hm(c,s){var h=c[1],y=s[1],b=Be(c[0],s[0]);return 0===b?Be(h,y):b}var Pf=function(){function c(s){this.ne=s,this.buffer=new Gn(hm),this.se=0}return c.prototype.ie=function(){return++this.se},c.prototype.re=function(s){var l=[s,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(l);else{var h=this.buffer.last();hm(l,h)<0&&(this.buffer=this.buffer.delete(h).add(l))}},Object.defineProperty(c.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),c}(),oh=function(){function c(s,l){this.garbageCollector=s,this.asyncQueue=l,this.oe=!1,this.ce=null}return c.prototype.start=function(s){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(s)},c.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(c.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),c.prototype.ue=function(s){var l=this,h=this.oe?3e5:6e4;Se("LruGarbageCollector","Garbage collection scheduled in "+h+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",h,function(){return(0,T.mG)(l,void 0,void 0,function(){var m;return(0,T.Jh)(this,function(y){switch(y.label){case 0:this.ce=null,this.oe=!0,y.label=1;case 1:return y.trys.push([1,3,,7]),[4,s.collectGarbage(this.garbageCollector)];case 2:return y.sent(),[3,7];case 3:return _u(m=y.sent())?(Se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",m),[3,6]):[3,4];case 4:return[4,Xo(m)];case 5:y.sent(),y.label=6;case 6:return[3,7];case 7:return[4,this.ue(s)];case 8:return y.sent(),[2]}})})})},c}(),Jv=function(){function c(s,l){this.ae=s,this.params=l}return c.prototype.calculateTargetCount=function(s,l){return this.ae.he(s).next(function(h){return Math.floor(l/100*h)})},c.prototype.nthSequenceNumber=function(s,l){var h=this;if(0===l)return Te.resolve(Hr.o);var m=new Pf(l);return this.ae.forEachTarget(s,function(y){return m.re(y.sequenceNumber)}).next(function(){return h.ae.le(s,function(y){return m.re(y)})}).next(function(){return m.maxValue})},c.prototype.removeTargets=function(s,l,h){return this.ae.removeTargets(s,l,h)},c.prototype.removeOrphanedDocuments=function(s,l){return this.ae.removeOrphanedDocuments(s,l)},c.prototype.collect=function(s,l){var h=this;return-1===this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),Te.resolve(lm)):this.getCacheSize(s).next(function(m){return m<h.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector","Garbage collection skipped; Cache size "+m+" is lower than threshold "+h.params.cacheSizeCollectionThreshold),lm):h.fe(s,l)})},c.prototype.getCacheSize=function(s){return this.ae.getCacheSize(s)},c.prototype.fe=function(s,l){var h,m,y,b,C,x,O,P=this,B=Date.now();return this.calculateTargetCount(s,this.params.percentileToCollect).next(function(z){return z>P.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+P.params.maximumSequenceNumbersToCollect+" from "+z),m=P.params.maximumSequenceNumbersToCollect):m=z,b=Date.now(),P.nthSequenceNumber(s,m)}).next(function(z){return h=z,C=Date.now(),P.removeTargets(s,h,l)}).next(function(z){return y=z,x=Date.now(),P.removeOrphanedDocuments(s,h)}).next(function(z){return O=Date.now(),Ii()<=st.in.DEBUG&&Se("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(b-B)+"ms\n\tDetermined least recently used "+m+" in "+(C-b)+"ms\n\tRemoved "+y+" targets in "+(x-C)+"ms\n\tRemoved "+z+" documents in "+(O-x)+"ms\nTotal Duration: "+(O-B)+"ms"),Te.resolve({didRun:!0,sequenceNumbersCollected:m,targetsRemoved:y,documentsRemoved:z})})},c}(),R_=function(){function c(s,l){this.db=s,this.garbageCollector=new Jv(this,l)}return c.prototype.he=function(s){var l=this.de(s);return this.db.getTargetCache().getTargetCount(s).next(function(h){return l.next(function(m){return h+m})})},c.prototype.de=function(s){var l=0;return this.le(s,function(h){l++}).next(function(){return l})},c.prototype.forEachTarget=function(s,l){return this.db.getTargetCache().forEachTarget(s,l)},c.prototype.le=function(s,l){return this.we(s,function(h,m){return l(m)})},c.prototype.addReference=function(s,l,h){return Ff(s,h)},c.prototype.removeReference=function(s,l,h){return Ff(s,h)},c.prototype.removeTargets=function(s,l,h){return this.db.getTargetCache().removeTargets(s,l,h)},c.prototype.markPotentiallyOrphaned=function(s,l){return Ff(s,l)},c.prototype._e=function(s,l){return m=l,y=!1,kg(h=s).Ot(function(b){return Xv(h,b,m).next(function(C){return C&&(y=!0),Te.resolve(!C)})}).next(function(){return y});var h,m,y},c.prototype.removeOrphanedDocuments=function(s,l){var h=this,m=this.db.getRemoteDocumentCache().newChangeBuffer(),y=[],b=0;return this.we(s,function(C,x){if(x<=l){var O=h._e(s,C).next(function(P){if(!P)return b++,m.getEntry(s,C).next(function(){return m.removeEntry(C),Qr(s).delete([0,Fi(C.path)])})});y.push(O)}}).next(function(){return Te.waitFor(y)}).next(function(){return m.apply(s)}).next(function(){return b})},c.prototype.removeTarget=function(s,l){var h=l.withSequenceNumber(s.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(s,h)},c.prototype.updateLimboDocument=function(s,l){return Ff(s,l)},c.prototype.we=function(s,l){var h,m=Qr(s),y=Hr.o;return m.$t({index:qr.documentTargetsIndex},function(b,C){var O=C.path,P=C.sequenceNumber;0===b[0]?(y!==Hr.o&&l(new He(kr(h)),y),y=P,h=O):y=Hr.o}).next(function(){y!==Hr.o&&l(new He(kr(h)),y)})},c.prototype.getCacheSize=function(s){return this.db.getRemoteDocumentCache().getSize(s)},c}();function Ff(c,s){return Qr(c).put((h=c.currentSequenceNumber,new qr(0,Fi(s.path),h)));var h}var Tl=function(){function c(s,l){this.mapKeyFn=s,this.equalsFn=l,this.inner={}}return c.prototype.get=function(s){var l=this.mapKeyFn(s),h=this.inner[l];if(void 0!==h)for(var m=0,y=h;m<y.length;m++){var b=y[m],x=b[1];if(this.equalsFn(b[0],s))return x}},c.prototype.has=function(s){return void 0!==this.get(s)},c.prototype.set=function(s,l){var h=this.mapKeyFn(s),m=this.inner[h];if(void 0!==m){for(var y=0;y<m.length;y++)if(this.equalsFn(m[y][0],s))return void(m[y]=[s,l]);m.push([s,l])}else this.inner[h]=[[s,l]]},c.prototype.delete=function(s){var l=this.mapKeyFn(s),h=this.inner[l];if(void 0===h)return!1;for(var m=0;m<h.length;m++)if(this.equalsFn(h[m][0],s))return 1===h.length?delete this.inner[l]:h.splice(m,1),!0;return!1},c.prototype.forEach=function(s){ho(this.inner,function(l,h){for(var m=0,y=h;m<y.length;m++){var b=y[m];s(b[0],b[1])}})},c.prototype.isEmpty=function(){return Io(this.inner)},c}(),to=function(){function c(){this.changes=new Tl(function(s){return s.toString()},function(s,l){return s.isEqual(l)}),this.changesApplied=!1}return c.prototype.getReadTime=function(s){var l=this.changes.get(s);return l?l.readTime:At.min()},c.prototype.addEntry=function(s,l){this.assertNotApplied(),this.changes.set(s.key,{document:s,readTime:l})},c.prototype.removeEntry=function(s,l){void 0===l&&(l=null),this.assertNotApplied(),this.changes.set(s,{document:ui.newInvalidDocument(s),readTime:l})},c.prototype.getEntry=function(s,l){this.assertNotApplied();var h=this.changes.get(l);return void 0!==h?Te.resolve(h.document):this.getFromCache(s,l)},c.prototype.getEntries=function(s,l){return this.getAllFromCache(s,l)},c.prototype.apply=function(s){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(s)},c.prototype.assertNotApplied=function(){},c}(),fm=function(){function c(s,l){this.R=s,this.Ut=l}return c.prototype.addEntry=function(s,l,h){return Ta(s).put(Lf(l),h)},c.prototype.removeEntry=function(s,l){var h=Ta(s),m=Lf(l);return h.delete(m)},c.prototype.updateMetadata=function(s,l){var h=this;return this.getMetadata(s).next(function(m){return m.byteSize+=l,h.me(s,m)})},c.prototype.getEntry=function(s,l){var h=this;return Ta(s).get(Lf(l)).next(function(m){return h.ye(l,m)})},c.prototype.ge=function(s,l){var h=this;return Ta(s).get(Lf(l)).next(function(m){return{document:h.ye(l,m),size:dm(m)}})},c.prototype.getEntries=function(s,l){var h=this,m=Tn();return this.pe(s,l,function(y,b){var C=h.ye(y,b);m=m.insert(y,C)}).next(function(){return m})},c.prototype.Ee=function(s,l){var h=this,m=Tn(),y=new jn(He.comparator);return this.pe(s,l,function(b,C){var x=h.ye(b,C);m=m.insert(b,x),y=y.insert(b,dm(C))}).next(function(){return{documents:m,Te:y}})},c.prototype.pe=function(s,l,h){if(l.isEmpty())return Te.resolve();var m=IDBKeyRange.bound(l.first().path.toArray(),l.last().path.toArray()),y=l.getIterator(),b=y.getNext();return Ta(s).$t({range:m},function(C,x,O){for(var P=He.fromSegments(C);b&&He.comparator(b,P)<0;)h(b,null),b=y.getNext();b&&b.isEqual(P)&&(h(b,x),b=y.hasNext()?y.getNext():null),b?O.Ct(b.path.toArray()):O.done()}).next(function(){for(;b;)h(b,null),b=y.hasNext()?y.getNext():null})},c.prototype.getDocumentsMatchingQuery=function(s,l,h){var m=this,y=Tn(),b=l.path.length+1,C={};if(h.isEqual(At.min())){var x=l.path.toArray();C.range=IDBKeyRange.lowerBound(x)}else{var O=l.path.toArray(),P=Mi(h);C.range=IDBKeyRange.lowerBound([O,P],!0),C.index=nr.collectionReadTimeIndex}return Ta(s).$t(C,function(B,z,re){if(B.length===b){var te=Ro(m.R,z);l.path.isPrefixOf(te.key.path)?vc(l,te)&&(y=y.insert(te.key,te)):re.done()}}).next(function(){return y})},c.prototype.newChangeBuffer=function(s){return new xl(this,!!s&&s.trackRemovals)},c.prototype.getSize=function(s){return this.getMetadata(s).next(function(l){return l.byteSize})},c.prototype.getMetadata=function(s){return ey(s).get(ji.key).next(function(l){return Ze(!!l),l})},c.prototype.me=function(s,l){return ey(s).put(ji.key,l)},c.prototype.ye=function(s,l){if(l){var h=Ro(this.R,l);if(!h.isNoDocument()||!h.version.isEqual(At.min()))return h}return ui.newInvalidDocument(s)},c}(),xl=function(c){function s(l,h){var m=this;return(m=c.call(this)||this).Ie=l,m.trackRemovals=h,m.Ae=new Tl(function(y){return y.toString()},function(y,b){return y.isEqual(b)}),m}return(0,T.ZT)(s,c),s.prototype.applyChanges=function(l){var h=this,m=[],y=0,b=new Gn(function(C,x){return Be(C.canonicalString(),x.canonicalString())});return this.changes.forEach(function(C,x){var O=h.Ae.get(C);if(x.document.isValidDocument()){var P=um(h.Ie.R,x.document,h.getReadTime(C));b=b.add(C.path.popLast());var B=dm(P);y+=B-O,m.push(h.Ie.addEntry(l,C,P))}else if(y-=O,h.trackRemovals){var z=um(h.Ie.R,ui.newNoDocument(C,At.min()),h.getReadTime(C));m.push(h.Ie.addEntry(l,C,z))}else m.push(h.Ie.removeEntry(l,C))}),b.forEach(function(C){m.push(h.Ie.Ut.addToCollectionParentIndex(l,C))}),m.push(this.Ie.updateMetadata(l,y)),Te.waitFor(m)},s.prototype.getFromCache=function(l,h){var m=this;return this.Ie.ge(l,h).next(function(y){return m.Ae.set(h,y.size),y.document})},s.prototype.getAllFromCache=function(l,h){var m=this;return this.Ie.Ee(l,h).next(function(y){var b=y.documents;return y.Te.forEach(function(C,x){m.Ae.set(C,x)}),b})},s}(to);function ey(c){return Ai(c,ji.store)}function Ta(c){return Ai(c,nr.store)}function Lf(c){return c.path.toArray()}var ty=function(){function c(s){this.R=s}return c.prototype.Rt=function(s,l,h,m){var y=this;Ze(h<m&&h>=0&&m<=11);var x,b=new go("createOrUpgrade",l);h<1&&m>=1&&(s.createObjectStore(Li.store),(x=s).createObjectStore(Mo.store,{keyPath:Mo.keyPath}),x.createObjectStore(tr.store,{keyPath:tr.keyPath,autoIncrement:!0}).createIndex(tr.userMutationsIndex,tr.userMutationsKeyPath,{unique:!0}),x.createObjectStore(hi.store),Ng(s),function(x){x.createObjectStore(nr.store)}(s));var C=Te.resolve();return h<3&&m>=3&&(0!==h&&(function(x){x.deleteObjectStore(qr.store),x.deleteObjectStore(Zr.store),x.deleteObjectStore(Xr.store)}(s),Ng(s)),C=C.next(function(){return function(x){var O=x.store(Xr.store),P=new Xr(0,0,At.min().toTimestamp(),0);return O.put(Xr.key,P)}(b)})),h<4&&m>=4&&(0!==h&&(C=C.next(function(){return function(x,O){return O.store(tr.store).Nt().next(function(P){x.deleteObjectStore(tr.store),x.createObjectStore(tr.store,{keyPath:tr.keyPath,autoIncrement:!0}).createIndex(tr.userMutationsIndex,tr.userMutationsKeyPath,{unique:!0});var B=O.store(tr.store),z=P.map(function(re){return B.put(re)});return Te.waitFor(z)})}(s,b)})),C=C.next(function(){!function(x){x.createObjectStore(Zo.store,{keyPath:Zo.keyPath})}(s)})),h<5&&m>=5&&(C=C.next(function(){return y.Re(b)})),h<6&&m>=6&&(C=C.next(function(){return function(x){x.createObjectStore(ji.store)}(s),y.be(b)})),h<7&&m>=7&&(C=C.next(function(){return y.ve(b)})),h<8&&m>=8&&(C=C.next(function(){return y.Pe(s,b)})),h<9&&m>=9&&(C=C.next(function(){(function(x){x.objectStoreNames.contains("remoteDocumentChanges")&&x.deleteObjectStore("remoteDocumentChanges")})(s),function(x){var O=x.objectStore(nr.store);O.createIndex(nr.readTimeIndex,nr.readTimeIndexPath,{unique:!1}),O.createIndex(nr.collectionReadTimeIndex,nr.collectionReadTimeIndexPath,{unique:!1})}(l)})),h<10&&m>=10&&(C=C.next(function(){return y.Ve(b)})),h<11&&m>=11&&(C=C.next(function(){(function(x){x.createObjectStore(Ec.store,{keyPath:Ec.keyPath})})(s),function(x){x.createObjectStore(gu.store,{keyPath:gu.keyPath})}(s)})),C},c.prototype.be=function(s){var l=0;return s.store(nr.store).$t(function(h,m){l+=dm(m)}).next(function(){var h=new ji(l);return s.store(ji.store).put(ji.key,h)})},c.prototype.Re=function(s){var l=this,h=s.store(Mo.store),m=s.store(tr.store);return h.Nt().next(function(y){return Te.forEach(y,function(b){var C=IDBKeyRange.bound([b.userId,-1],[b.userId,b.lastAcknowledgedBatchId]);return m.Nt(tr.userMutationsIndex,C).next(function(x){return Te.forEach(x,function(O){Ze(O.userId===b.userId);var P=El(l.R,O);return Zv(s,b.userId,P).next(function(){})})})})})},c.prototype.ve=function(s){var l=s.store(qr.store),h=s.store(nr.store);return s.store(Xr.store).get(Xr.key).next(function(m){var y=[];return h.$t(function(b,C){var x=new Wt(b),O=[0,Fi(x)];y.push(l.get(O).next(function(P){return P?Te.resolve():l.put(new qr(0,Fi(x),m.highestListenSequenceNumber))}))}).next(function(){return Te.waitFor(y)})})},c.prototype.Pe=function(s,l){s.createObjectStore(Da.store,{keyPath:Da.keyPath});var h=l.store(Da.store),m=new Sa,y=function(b){if(m.add(b)){var C=b.lastSegment(),x=b.popLast();return h.put({collectionId:C,parent:Fi(x)})}};return l.store(nr.store).$t({Ft:!0},function(b,C){var x=new Wt(b);return y(x.popLast())}).next(function(){return l.store(hi.store).$t({Ft:!0},function(b,C){var O=kr(b[1]);return y(O.popLast())})})},c.prototype.Ve=function(s){var l=this,h=s.store(Zr.store);return h.$t(function(m,y){var b=Cl(y),C=Dl(l.R,b);return h.put(C)})},c}();function Ng(c){c.createObjectStore(qr.store,{keyPath:qr.keyPath}).createIndex(qr.documentTargetsIndex,qr.documentTargetsKeyPath,{unique:!0}),c.createObjectStore(Zr.store,{keyPath:Zr.keyPath}).createIndex(Zr.queryTargetsIndexName,Zr.queryTargetsKeyPath,{unique:!0}),c.createObjectStore(Xr.store)}var jf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ny=function(){function c(s,l,h,m,y,b,C,x,O,P){if(this.allowTabSynchronization=s,this.persistenceKey=l,this.clientId=h,this.Se=y,this.window=b,this.document=C,this.De=O,this.Ce=P,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(B){return Promise.resolve()},!c.yt())throw new _e(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new R_(this,m),this.Le=l+"main",this.R=new Of(x),this.Be=new vu(this.Le,11,new ty(this.R)),this.qe=new Qv(this.referenceDelegate,this.R),this.Ut=new Rg,this.Ue=new fm(this.R,this.Ut),this.Ke=new Il,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===P&&it("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return c.prototype.start=function(){var s=this;return this.je().then(function(){if(!s.isPrimary&&!s.allowTabSynchronization)throw new _e(ue.FAILED_PRECONDITION,jf);return s.We(),s.Ge(),s.ze(),s.runTransaction("getHighestListenSequenceNumber","readonly",function(l){return s.qe.getHighestSequenceNumber(l)})}).then(function(l){s.Ne=new Hr(l,s.De)}).then(function(){s.xe=!0}).catch(function(l){return s.Be&&s.Be.close(),Promise.reject(l)})},c.prototype.He=function(s){var l=this;return this.Me=function(h){return(0,T.mG)(l,void 0,void 0,function(){return(0,T.Jh)(this,function(m){return this.started?[2,s(h)]:[2]})})},s(this.isPrimary)},c.prototype.setDatabaseDeletedListener=function(s){var l=this;this.Be.vt(function(h){return(0,T.mG)(l,void 0,void 0,function(){return(0,T.Jh)(this,function(m){switch(m.label){case 0:return null===h.newVersion?[4,s()]:[3,2];case 1:m.sent(),m.label=2;case 2:return[2]}})})})},c.prototype.setNetworkEnabled=function(s){var l=this;this.networkEnabled!==s&&(this.networkEnabled=s,this.Se.enqueueAndForget(function(){return(0,T.mG)(l,void 0,void 0,function(){return(0,T.Jh)(this,function(h){switch(h.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:h.sent(),h.label=2;case 2:return[2]}})})}))},c.prototype.je=function(){var s=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(l){return Al(l).put(new Zo(s.clientId,Date.now(),s.networkEnabled,s.inForeground)).next(function(){if(s.isPrimary)return s.Je(l).next(function(h){h||(s.isPrimary=!1,s.Se.enqueueRetryable(function(){return s.Me(!1)}))})}).next(function(){return s.Ye(l)}).next(function(h){return s.isPrimary&&!h?s.Xe(l).next(function(){return!1}):!!h&&s.Ze(l).next(function(){return!0})})}).catch(function(l){if(_u(l))return Se("IndexedDbPersistence","Failed to extend owner lease: ",l),s.isPrimary;if(!s.allowTabSynchronization)throw l;return Se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",l),!1}).then(function(l){s.isPrimary!==l&&s.Se.enqueueRetryable(function(){return s.Me(l)}),s.isPrimary=l})},c.prototype.Je=function(s){var l=this;return sh(s).get(Li.key).next(function(h){return Te.resolve(l.tn(h))})},c.prototype.en=function(s){return Al(s).delete(this.clientId)},c.prototype.nn=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l,h,y=this;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(C){var x=Ai(C,Zo.store);return x.Nt().next(function(O){var P=y.rn(O,18e5),B=O.filter(function(z){return-1===P.indexOf(z)});return Te.forEach(B,function(z){return x.delete(z.clientId)}).next(function(){return B})})}).catch(function(){return[]})]);case 1:if(s=b.sent(),this.Qe)for(l=0,h=s;l<h.length;l++)this.Qe.removeItem(this.on(h[l].clientId));b.label=2;case 2:return[2]}})})},c.prototype.ze=function(){var s=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return s.je().then(function(){return s.nn()}).then(function(){return s.ze()})})},c.prototype.tn=function(s){return!!s&&s.ownerId===this.clientId},c.prototype.Ye=function(s){var l=this;return this.Ce?Te.resolve(!0):sh(s).get(Li.key).next(function(h){if(null!==h&&l.sn(h.leaseTimestampMs,5e3)&&!l.cn(h.ownerId)){if(l.tn(h)&&l.networkEnabled)return!0;if(!l.tn(h)){if(!h.allowTabSynchronization)throw new _e(ue.FAILED_PRECONDITION,jf);return!1}}return!(!l.networkEnabled||!l.inForeground)||Al(s).Nt().next(function(m){return void 0===l.rn(m,5e3).find(function(y){return!(l.clientId===y.clientId||!(!l.networkEnabled&&y.networkEnabled||!l.inForeground&&y.inForeground&&l.networkEnabled===y.networkEnabled))})})}).next(function(h){return l.isPrimary!==h&&Se("IndexedDbPersistence","Client "+(h?"is":"is not")+" eligible for a primary lease."),h})},c.prototype.shutdown=function(){return(0,T.mG)(this,void 0,void 0,function(){var s=this;return(0,T.Jh)(this,function(l){switch(l.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Li.store,Zo.store],function(h){var m=new cm(h,Hr.o);return s.Xe(m).next(function(){return s.en(m)})})];case 1:return l.sent(),this.Be.close(),this.ln(),[2]}})})},c.prototype.rn=function(s,l){var h=this;return s.filter(function(m){return h.sn(m.updateTimeMs,l)&&!h.cn(m.clientId)})},c.prototype.fn=function(){var s=this;return this.runTransaction("getActiveClients","readonly",function(l){return Al(l).Nt().next(function(h){return s.rn(h,18e5).map(function(m){return m.clientId})})})},Object.defineProperty(c.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),c.prototype.getMutationQueue=function(s){return M_.Qt(s,this.R,this.Ut,this.referenceDelegate)},c.prototype.getTargetCache=function(){return this.qe},c.prototype.getRemoteDocumentCache=function(){return this.Ue},c.prototype.getIndexManager=function(){return this.Ut},c.prototype.getBundleCache=function(){return this.Ke},c.prototype.runTransaction=function(s,l,h){var y,m=this;return Se("IndexedDbPersistence","Starting transaction:",s),this.Be.runTransaction(s,"readonly"===l?"readonly":"readwrite",Ag,function(C){return y=new cm(C,m.Ne?m.Ne.next():Hr.o),"readwrite-primary"===l?m.Je(y).next(function(x){return!!x||m.Ye(y)}).next(function(x){if(!x)throw it("Failed to obtain primary lease for action '"+s+"'."),m.isPrimary=!1,m.Se.enqueueRetryable(function(){return m.Me(!1)}),new _e(ue.FAILED_PRECONDITION,Rf);return h(y)}).next(function(x){return m.Ze(y).next(function(){return x})}):m.dn(y).next(function(){return h(y)})}).then(function(C){return y.raiseOnCommittedEvent(),C})},c.prototype.dn=function(s){var l=this;return sh(s).get(Li.key).next(function(h){if(null!==h&&l.sn(h.leaseTimestampMs,5e3)&&!l.cn(h.ownerId)&&!l.tn(h)&&!(l.Ce||l.allowTabSynchronization&&h.allowTabSynchronization))throw new _e(ue.FAILED_PRECONDITION,jf)})},c.prototype.Ze=function(s){var l=new Li(this.clientId,this.allowTabSynchronization,Date.now());return sh(s).put(Li.key,l)},c.yt=function(){return vu.yt()},c.prototype.Xe=function(s){var l=this,h=sh(s);return h.get(Li.key).next(function(m){return l.tn(m)?(Se("IndexedDbPersistence","Releasing primary lease."),h.delete(Li.key)):Te.resolve()})},c.prototype.sn=function(s,l){var h=Date.now();return!(s<h-l||s>h&&(it("Detected an update time that is in the future: "+s+" > "+h),1))},c.prototype.We=function(){var s=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){s.Se.enqueueAndForget(function(){return s.inForeground="visible"===s.document.visibilityState,s.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},c.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},c.prototype.Ge=function(){var s,l=this;"function"==typeof(null===(s=this.window)||void 0===s?void 0:s.addEventListener)&&(this.ke=function(){l.un(),(0,Ge.G6)()&&navigator.appVersion.match("Version/14")&&l.Se.enterRestrictedMode(!0),l.Se.enqueueAndForget(function(){return l.shutdown()})},this.window.addEventListener("pagehide",this.ke))},c.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},c.prototype.cn=function(s){var l;try{var h=null!==(null===(l=this.Qe)||void 0===l?void 0:l.getItem(this.on(s)));return Se("IndexedDbPersistence","Client '"+s+"' "+(h?"is":"is not")+" zombied in LocalStorage"),h}catch(m){return it("IndexedDbPersistence","Failed to get zombied client id.",m),!1}},c.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(s){it("Failed to set zombie client id.",s)}},c.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},c.prototype.on=function(s){return"firestore_zombie_"+this.persistenceKey+"_"+s},c}();function sh(c){return Ai(c,Li.store)}function Al(c){return Ai(c,Zo.store)}function Ml(c,s){var l=c.projectId;return c.isDefaultDatabase||(l+="."+c.database),"firestore/"+s+"/"+l+"/"}var tn=function(c,s){this.progress=c,this.wn=s},xa=function(){function c(s,l,h){this.Ue=s,this._n=l,this.Ut=h}return c.prototype.mn=function(s,l){var h=this;return this._n.getAllMutationBatchesAffectingDocumentKey(s,l).next(function(m){return h.yn(s,l,m)})},c.prototype.yn=function(s,l,h){return this.Ue.getEntry(s,l).next(function(m){for(var y=0,b=h;y<b.length;y++)b[y].applyToLocalView(m);return m})},c.prototype.gn=function(s,l){s.forEach(function(h,m){for(var y=0,b=l;y<b.length;y++)b[y].applyToLocalView(m)})},c.prototype.pn=function(s,l){var h=this;return this.Ue.getEntries(s,l).next(function(m){return h.En(s,m).next(function(){return m})})},c.prototype.En=function(s,l){var h=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(s,l).next(function(m){return h.gn(l,m)})},c.prototype.getDocumentsMatchingQuery=function(s,l,h){return He.isDocumentKey((m=l).path)&&null===m.collectionGroup&&0===m.filters.length?this.Tn(s,l.path):ol(l)?this.In(s,l,h):this.An(s,l,h);var m},c.prototype.Tn=function(s,l){return this.mn(s,new He(l)).next(function(h){var m=Mr();return h.isFoundDocument()&&(m=m.insert(h.key,h)),m})},c.prototype.In=function(s,l,h){var m=this,y=l.collectionGroup,b=Mr();return this.Ut.getCollectionParents(s,y).next(function(C){return Te.forEach(C,function(x){var P,B,O=(P=l,B=x.child(y),new xo(B,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));return m.An(s,O,h).next(function(P){P.forEach(function(B,z){b=b.insert(B,z)})})}).next(function(){return b})})},c.prototype.An=function(s,l,h){var m,y,b=this;return this.Ue.getDocumentsMatchingQuery(s,l,h).next(function(C){return m=C,b._n.getAllMutationBatchesAffectingQuery(s,l)}).next(function(C){return b.Rn(s,y=C,m).next(function(x){m=x;for(var O=0,P=y;O<P.length;O++)for(var B=P[O],z=0,re=B.mutations;z<re.length;z++){var te=re[z],de=te.key,Me=m.get(de);null==Me&&(Me=ui.newInvalidDocument(de),m=m.insert(de,Me)),di(te,Me,B.localWriteTime),Me.isFoundDocument()||(m=m.remove(de))}})}).next(function(){return m.forEach(function(C,x){vc(l,x)||(m=m.remove(C))}),m})},c.prototype.Rn=function(s,l,h){for(var m=Dn(),y=0,b=l;y<b.length;y++)for(var C=0,x=b[y].mutations;C<x.length;C++){var O=x[C];O instanceof Ar&&null===h.get(O.key)&&(m=m.add(O.key))}var P=h;return this.Ue.getEntries(s,m).next(function(B){return B.forEach(function(z,re){re.isFoundDocument()&&(P=P.insert(z,re))}),P})},c}(),pm=function(){function c(s,l,h,m){this.targetId=s,this.fromCache=l,this.bn=h,this.vn=m}return c.Pn=function(s,l){for(var h=Dn(),m=Dn(),y=0,b=l.docChanges;y<b.length;y++){var C=b[y];switch(C.type){case 0:h=h.add(C.doc.key);break;case 1:m=m.add(C.doc.key)}}return new c(s,l.fromCache,h,m)},c}(),Rl=function(){function c(){}return c.prototype.Vn=function(s){this.Sn=s},c.prototype.getDocumentsMatchingQuery=function(s,l,h,m){var b,y=this;return 0===(b=l).filters.length&&null===b.limit&&null==b.startAt&&null==b.endAt&&(0===b.explicitOrderBy.length||1===b.explicitOrderBy.length&&b.explicitOrderBy[0].field.isKeyField())||h.isEqual(At.min())?this.Dn(s,l):this.Sn.pn(s,m).next(function(b){var C=y.Cn(l,b);return(Ud(l)||il(l))&&y.Nn(l.limitType,C,m,h)?y.Dn(s,l):(Ii()<=st.in.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),zd(l)),y.Sn.getDocumentsMatchingQuery(s,l,h).next(function(x){return C.forEach(function(O){x=x.insert(O.key,O)}),x}))})},c.prototype.Cn=function(s,l){var h=new Gn(va(s));return l.forEach(function(m,y){vc(s,y)&&(h=h.add(y))}),h},c.prototype.Nn=function(s,l,h,m){if(h.size!==l.size)return!0;var y="F"===s?l.last():l.first();return!!y&&(y.hasPendingWrites||y.version.compareTo(m)>0)},c.prototype.Dn=function(s,l){return Ii()<=st.in.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",zd(l)),this.Sn.getDocumentsMatchingQuery(s,l,At.min())},c}(),ry=function(){function c(s,l,h,m){this.persistence=s,this.xn=l,this.R=m,this.kn=new jn(Be),this.Fn=new Tl(function(y){return mc(y)},uu),this.$n=At.min(),this._n=s.getMutationQueue(h),this.On=s.getRemoteDocumentCache(),this.qe=s.getTargetCache(),this.Mn=new xa(this.On,this._n,this.persistence.getIndexManager()),this.Ke=s.getBundleCache(),this.xn.Vn(this.Mn)}return c.prototype.collectGarbage=function(s){var l=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(h){return s.collect(h,l.kn)})},c}();function mm(c,s,l,h){return new ry(c,s,l,h)}function Bf(c,s){return(0,T.mG)(this,void 0,void 0,function(){var l,h,m,y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return l=Pe(c),h=l._n,m=l.Mn,[4,l.persistence.runTransaction("Handle user change","readonly",function(C){var x;return l._n.getAllMutationBatches(C).next(function(O){return x=O,h=l.persistence.getMutationQueue(s),m=new xa(l.On,h,l.persistence.getIndexManager()),h.getAllMutationBatches(C)}).next(function(O){for(var P=[],B=[],z=Dn(),re=0,te=x;re<te.length;re++){var de=te[re];P.push(de.batchId);for(var Me=0,je=de.mutations;Me<je.length;Me++)z=z.add(je[Me].key)}for(var ht=0,Jt=O;ht<Jt.length;ht++){var En=Jt[ht];B.push(En.batchId);for(var Vn=0,_o=En.mutations;Vn<_o.length;Vn++)z=z.add(_o[Vn].key)}return m.pn(C,z).next(function(wp){return{Ln:wp,removedBatchIds:P,addedBatchIds:B}})})})];case 1:return y=b.sent(),[2,(l._n=h,l.Mn=m,l.xn.Vn(l.Mn),y)]}})})}function Vf(c,s){var l=Pe(c);return l.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(h){var b,C,x,O,P,B,z,m=s.batch.keys(),y=l.On.newChangeBuffer({trackRemovals:!0});return(b=l,C=h,x=s,O=y,P=x.batch,B=P.keys(),z=Te.resolve(),B.forEach(function(re){z=z.next(function(){return O.getEntry(C,re)}).next(function(te){var de=x.docVersions.get(re);Ze(null!==de),te.version.compareTo(de)<0&&(P.applyToRemoteDocument(te,x),te.isValidDocument()&&O.addEntry(te,x.commitVersion))})}),z.next(function(){return b._n.removeMutationBatch(C,P)})).next(function(){return y.apply(h)}).next(function(){return l._n.performConsistencyCheck(h)}).next(function(){return l.Mn.pn(h,m)})})}function gm(c){var s=Pe(c);return s.persistence.runTransaction("Get last remote snapshot version","readonly",function(l){return s.qe.getLastRemoteSnapshotVersion(l)})}function iy(c,s){var l=Pe(c),h=s.snapshotVersion,m=l.kn;return l.persistence.runTransaction("Apply remote event","readwrite-primary",function(y){var b=l.On.newChangeBuffer({trackRemovals:!0});m=l.kn;var C=[];s.targetChanges.forEach(function(P,B){var de,Me,je,z=m.get(B);if(z){C.push(l.qe.removeMatchingKeys(y,P.removedDocuments,B).next(function(){return l.qe.addMatchingKeys(y,P.addedDocuments,B)}));var re=P.resumeToken;if(re.approximateByteSize()>0){var te=z.withResumeToken(re,h).withSequenceNumber(y.currentSequenceNumber);m=m.insert(B,te),de=z,je=P,Ze((Me=te).resumeToken.approximateByteSize()>0),(0===de.resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-de.snapshotVersion.toMicroseconds()>=3e8||je.addedDocuments.size+je.modifiedDocuments.size+je.removedDocuments.size>0)&&C.push(l.qe.updateTargetData(y,te))}}});var x=Tn();if(s.documentUpdates.forEach(function(P,B){s.resolvedLimboDocuments.has(P)&&C.push(l.persistence.referenceDelegate.updateLimboDocument(y,P))}),C.push(ah(y,b,s.documentUpdates,h,void 0).next(function(P){x=P})),!h.isEqual(At.min())){var O=l.qe.getLastRemoteSnapshotVersion(y).next(function(P){return l.qe.setTargetsMetadata(y,y.currentSequenceNumber,h)});C.push(O)}return Te.waitFor(C).next(function(){return b.apply(y)}).next(function(){return l.Mn.En(y,x)}).next(function(){return x})}).then(function(y){return l.kn=m,y})}function ah(c,s,l,h,m){var y=Dn();return l.forEach(function(b){return y=y.add(b)}),s.getEntries(c,y).next(function(b){var C=Tn();return l.forEach(function(x,O){var P=b.get(x),B=m?.get(x)||h;O.isNoDocument()&&O.version.isEqual(At.min())?(s.removeEntry(x,B),C=C.insert(x,O)):!P.isValidDocument()||O.version.compareTo(P.version)>0||0===O.version.compareTo(P.version)&&P.hasPendingWrites?(s.addEntry(O,B),C=C.insert(x,O)):Se("LocalStore","Ignoring outdated watch update for ",x,". Current version:",P.version," Watch version:",O.version)}),C})}function kl(c,s){var l=Pe(c);return l.persistence.runTransaction("Get next mutation batch","readonly",function(h){return void 0===s&&(s=-1),l._n.getNextMutationBatchAfterBatchId(h,s)})}function ys(c,s){var l=Pe(c);return l.persistence.runTransaction("Allocate target","readwrite",function(h){var m;return l.qe.getTargetData(h,s).next(function(y){return y?Te.resolve(m=y):l.qe.allocateTargetId(h).next(function(b){return m=new nh(s,b,0,h.currentSequenceNumber),l.qe.addTargetData(h,m).next(function(){return m})})})}).then(function(h){var m=l.kn.get(h.targetId);return(null===m||h.snapshotVersion.compareTo(m.snapshotVersion)>0)&&(l.kn=l.kn.insert(h.targetId,h),l.Fn.set(s,h.targetId)),h})}function Cc(c,s,l){return(0,T.mG)(this,void 0,void 0,function(){var h,m,y,b;return(0,T.Jh)(this,function(C){switch(C.label){case 0:h=Pe(c),m=h.kn.get(s),y=l?"readwrite":"readwrite-primary",C.label=1;case 1:return C.trys.push([1,4,,5]),l?[3,3]:[4,h.persistence.runTransaction("Release target",y,function(x){return h.persistence.referenceDelegate.removeTarget(x,m)})];case 2:C.sent(),C.label=3;case 3:return[3,5];case 4:if(!_u(b=C.sent()))throw b;return Se("LocalStore","Failed to update sequence numbers for target "+s+": "+b),[3,5];case 5:return h.kn=h.kn.remove(s),h.Fn.delete(m.target),[2]}})})}function ch(c,s,l){var h=Pe(c),m=At.min(),y=Dn();return h.persistence.runTransaction("Execute query","readonly",function(b){return(C=h,x=b,O=xi(s),P=Pe(C),B=P.Fn.get(O),void 0!==B?Te.resolve(P.kn.get(B)):P.qe.getTargetData(x,O)).next(function(C){if(C)return m=C.lastLimboFreeSnapshotVersion,h.qe.getMatchingKeysForTargetId(b,C.targetId).next(function(x){y=x})}).next(function(){return h.xn.getDocumentsMatchingQuery(b,s,l?m:At.min(),l?y:Dn())}).next(function(C){return{documents:C,Bn:y}});var C,x,O,P,B})}function Uf(c,s){var l=Pe(c),h=Pe(l.qe),m=l.kn.get(s);return m?Promise.resolve(m.target):l.persistence.runTransaction("Get target data","readonly",function(y){return h.lt(y,s).next(function(b){return b?b.target:null})})}function vm(c){var s=Pe(c);return s.persistence.runTransaction("Get new document changes","readonly",function(l){return m=l,y=s.$n,b=Pe(s.On),C=Tn(),x=Mi(y),O=Ta(m),P=IDBKeyRange.lowerBound(x,!0),O.$t({index:nr.readTimeIndex,range:P},function(B,z){var re=Ro(b.R,z);C=C.insert(re.key,re),x=z.readTime}).next(function(){return{wn:C,readTime:Mg(x)}});var m,y,b,C,x,O,P}).then(function(l){var h=l.wn;return s.$n=l.readTime,h})}function oy(c){return(0,T.mG)(this,void 0,void 0,function(){var s;return(0,T.Jh)(this,function(l){return[2,(s=Pe(c)).persistence.runTransaction("Synchronize last document change read time","readonly",function(h){return y=Ta(h),b=At.min(),y.$t({index:nr.readTimeIndex,reverse:!0},function(C,x,O){x.readTime&&(b=Mg(x.readTime)),O.done()}).next(function(){return b});var y,b}).then(function(h){s.$n=h})]})})}function Pg(c,s,l,h){return(0,T.mG)(this,void 0,void 0,function(){var m,y,b,C,x,O,P,B,z,re;return(0,T.Jh)(this,function(te){switch(te.label){case 0:for(m=Pe(c),y=Dn(),b=Tn(),C=Pi(),x=0,O=l;x<O.length;x++)B=s.qn((P=O[x]).metadata.name),P.document&&(y=y.add(B)),b=b.insert(B,s.Un(P)),C=C.insert(B,s.Kn(P.metadata.readTime));return z=m.On.newChangeBuffer({trackRemovals:!0}),[4,ys(m,(de=h,xi(Vd(Wt.fromString("__bundle__/docs/"+de)))))];case 1:return re=te.sent(),[2,m.persistence.runTransaction("Apply bundle documents","readwrite",function(de){return ah(de,z,b,At.min(),C).next(function(Me){return z.apply(de),Me}).next(function(Me){return m.qe.removeMatchingKeysForTargetId(de,re.targetId).next(function(){return m.qe.addMatchingKeys(de,y,re.targetId)}).next(function(){return m.Mn.En(de,Me)}).next(function(){return Me})})})]}var de})})}function uh(c,s,l){return void 0===l&&(l=Dn()),(0,T.mG)(this,void 0,void 0,function(){var h,m;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return[4,ys(c,xi(Ia(s.bundledQuery)))];case 1:return h=y.sent(),[2,(m=Pe(c)).persistence.runTransaction("Save named query","readwrite",function(b){var C=Kr(s.readTime);if(h.snapshotVersion.compareTo(C)>=0)return m.Ke.saveNamedQuery(b,s);var x=h.withResumeToken(Si.EMPTY_BYTE_STRING,C);return m.kn=m.kn.insert(x.targetId,x),m.qe.updateTargetData(b,x).next(function(){return m.qe.removeMatchingKeysForTargetId(b,h.targetId)}).next(function(){return m.qe.addMatchingKeys(b,l,h.targetId)}).next(function(){return m.Ke.saveNamedQuery(b,s)})})]}})})}var sy=function(){function c(s){this.R=s,this.Qn=new Map,this.jn=new Map}return c.prototype.getBundleMetadata=function(s,l){return Te.resolve(this.Qn.get(l))},c.prototype.saveBundleMetadata=function(s,l){var h;return this.Qn.set(l.id,{id:(h=l).id,version:h.version,createTime:Kr(h.createTime)}),Te.resolve()},c.prototype.getNamedQuery=function(s,l){return Te.resolve(this.jn.get(l))},c.prototype.saveNamedQuery=function(s,l){return this.jn.set(l.name,{name:(h=l).name,query:Ia(h.bundledQuery),readTime:Kr(h.readTime)}),Te.resolve();var h},c}(),Ol=function(){function c(){this.Wn=new Gn(Wr.Gn),this.zn=new Gn(Wr.Hn)}return c.prototype.isEmpty=function(){return this.Wn.isEmpty()},c.prototype.addReference=function(s,l){var h=new Wr(s,l);this.Wn=this.Wn.add(h),this.zn=this.zn.add(h)},c.prototype.Jn=function(s,l){var h=this;s.forEach(function(m){return h.addReference(m,l)})},c.prototype.removeReference=function(s,l){this.Yn(new Wr(s,l))},c.prototype.Xn=function(s,l){var h=this;s.forEach(function(m){return h.removeReference(m,l)})},c.prototype.Zn=function(s){var l=this,h=new He(new Wt([])),m=new Wr(h,s),y=new Wr(h,s+1),b=[];return this.zn.forEachInRange([m,y],function(C){l.Yn(C),b.push(C.key)}),b},c.prototype.ts=function(){var s=this;this.Wn.forEach(function(l){return s.Yn(l)})},c.prototype.Yn=function(s){this.Wn=this.Wn.delete(s),this.zn=this.zn.delete(s)},c.prototype.es=function(s){var l=new He(new Wt([])),h=new Wr(l,s),m=new Wr(l,s+1),y=Dn();return this.zn.forEachInRange([h,m],function(b){y=y.add(b.key)}),y},c.prototype.containsKey=function(s){var l=new Wr(s,0),h=this.Wn.firstAfterOrEqual(l);return null!==h&&s.isEqual(h.key)},c}(),Wr=function(){function c(s,l){this.key=s,this.ns=l}return c.Gn=function(s,l){return He.comparator(s.key,l.key)||Be(s.ns,l.ns)},c.Hn=function(s,l){return Be(s.ns,l.ns)||He.comparator(s.key,l.key)},c}(),Fg=function(){function c(s,l){this.Ut=s,this.referenceDelegate=l,this._n=[],this.ss=1,this.rs=new Gn(Wr.Gn)}return c.prototype.checkEmpty=function(s){return Te.resolve(0===this._n.length)},c.prototype.addMutationBatch=function(s,l,h,m){var y=this.ss;this.ss++;var b=new $s(y,l,h,m);this._n.push(b);for(var C=0,x=m;C<x.length;C++){var O=x[C];this.rs=this.rs.add(new Wr(O.key,y)),this.Ut.addToCollectionParentIndex(s,O.key.path.popLast())}return Te.resolve(b)},c.prototype.lookupMutationBatch=function(s,l){return Te.resolve(this.os(l))},c.prototype.getNextMutationBatchAfterBatchId=function(s,l){var m=this.cs(l+1),y=m<0?0:m;return Te.resolve(this._n.length>y?this._n[y]:null)},c.prototype.getHighestUnacknowledgedBatchId=function(){return Te.resolve(0===this._n.length?-1:this.ss-1)},c.prototype.getAllMutationBatches=function(s){return Te.resolve(this._n.slice())},c.prototype.getAllMutationBatchesAffectingDocumentKey=function(s,l){var h=this,m=new Wr(l,0),y=new Wr(l,Number.POSITIVE_INFINITY),b=[];return this.rs.forEachInRange([m,y],function(C){var x=h.os(C.ns);b.push(x)}),Te.resolve(b)},c.prototype.getAllMutationBatchesAffectingDocumentKeys=function(s,l){var h=this,m=new Gn(Be);return l.forEach(function(y){var b=new Wr(y,0),C=new Wr(y,Number.POSITIVE_INFINITY);h.rs.forEachInRange([b,C],function(x){m=m.add(x.ns)})}),Te.resolve(this.us(m))},c.prototype.getAllMutationBatchesAffectingQuery=function(s,l){var h=l.path,m=h.length+1,y=h;He.isDocumentKey(y)||(y=y.child(""));var b=new Wr(new He(y),0),C=new Gn(Be);return this.rs.forEachWhile(function(x){var O=x.key.path;return!!h.isPrefixOf(O)&&(O.length===m&&(C=C.add(x.ns)),!0)},b),Te.resolve(this.us(C))},c.prototype.us=function(s){var l=this,h=[];return s.forEach(function(m){var y=l.os(m);null!==y&&h.push(y)}),h},c.prototype.removeMutationBatch=function(s,l){var h=this;Ze(0===this.hs(l.batchId,"removed")),this._n.shift();var m=this.rs;return Te.forEach(l.mutations,function(y){var b=new Wr(y.key,l.batchId);return m=m.delete(b),h.referenceDelegate.markPotentiallyOrphaned(s,y.key)}).next(function(){h.rs=m})},c.prototype.Gt=function(s){},c.prototype.containsKey=function(s,l){var h=new Wr(l,0),m=this.rs.firstAfterOrEqual(h);return Te.resolve(l.isEqual(m&&m.key))},c.prototype.performConsistencyCheck=function(s){return Te.resolve()},c.prototype.hs=function(s,l){return this.cs(s)},c.prototype.cs=function(s){return 0===this._n.length?0:s-this._n[0].batchId},c.prototype.os=function(s){var l=this.cs(s);return l<0||l>=this._n.length?null:this._n[l]},c}(),ym=function(){function c(s,l){this.Ut=s,this.ls=l,this.docs=new jn(He.comparator),this.size=0}return c.prototype.addEntry=function(s,l,h){var m=l.key,y=this.docs.get(m),b=y?y.size:0,C=this.ls(l);return this.docs=this.docs.insert(m,{document:l.clone(),size:C,readTime:h}),this.size+=C-b,this.Ut.addToCollectionParentIndex(s,m.path.popLast())},c.prototype.removeEntry=function(s){var l=this.docs.get(s);l&&(this.docs=this.docs.remove(s),this.size-=l.size)},c.prototype.getEntry=function(s,l){var h=this.docs.get(l);return Te.resolve(h?h.document.clone():ui.newInvalidDocument(l))},c.prototype.getEntries=function(s,l){var h=this,m=Tn();return l.forEach(function(y){var b=h.docs.get(y);m=m.insert(y,b?b.document.clone():ui.newInvalidDocument(y))}),Te.resolve(m)},c.prototype.getDocumentsMatchingQuery=function(s,l,h){for(var m=Tn(),y=new He(l.path.child("")),b=this.docs.getIteratorFrom(y);b.hasNext();){var C=b.getNext(),O=C.value,P=O.document,B=O.readTime;if(!l.path.isPrefixOf(C.key.path))break;B.compareTo(h)<=0||vc(l,P)&&(m=m.insert(P.key,P.clone()))}return Te.resolve(m)},c.prototype.fs=function(s,l){return Te.forEach(this.docs,function(h){return l(h)})},c.prototype.newChangeBuffer=function(s){return new k_(this)},c.prototype.getSize=function(s){return Te.resolve(this.size)},c}(),k_=function(c){function s(l){var h=this;return(h=c.call(this)||this).Ie=l,h}return(0,T.ZT)(s,c),s.prototype.applyChanges=function(l){var h=this,m=[];return this.changes.forEach(function(y,b){b.document.isValidDocument()?m.push(h.Ie.addEntry(l,b.document,h.getReadTime(y))):h.Ie.removeEntry(y)}),Te.waitFor(m)},s.prototype.getFromCache=function(l,h){return this.Ie.getEntry(l,h)},s.prototype.getAllFromCache=function(l,h){return this.Ie.getEntries(l,h)},s}(to),_m=function(){function c(s){this.persistence=s,this.ds=new Tl(function(l){return mc(l)},uu),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.ws=0,this._s=new Ol,this.targetCount=0,this.ys=_r.Jt()}return c.prototype.forEachTarget=function(s,l){return this.ds.forEach(function(h,m){return l(m)}),Te.resolve()},c.prototype.getLastRemoteSnapshotVersion=function(s){return Te.resolve(this.lastRemoteSnapshotVersion)},c.prototype.getHighestSequenceNumber=function(s){return Te.resolve(this.ws)},c.prototype.allocateTargetId=function(s){return this.highestTargetId=this.ys.next(),Te.resolve(this.highestTargetId)},c.prototype.setTargetsMetadata=function(s,l,h){return h&&(this.lastRemoteSnapshotVersion=h),l>this.ws&&(this.ws=l),Te.resolve()},c.prototype.te=function(s){this.ds.set(s.target,s);var l=s.targetId;l>this.highestTargetId&&(this.ys=new _r(l),this.highestTargetId=l),s.sequenceNumber>this.ws&&(this.ws=s.sequenceNumber)},c.prototype.addTargetData=function(s,l){return this.te(l),this.targetCount+=1,Te.resolve()},c.prototype.updateTargetData=function(s,l){return this.te(l),Te.resolve()},c.prototype.removeTargetData=function(s,l){return this.ds.delete(l.target),this._s.Zn(l.targetId),this.targetCount-=1,Te.resolve()},c.prototype.removeTargets=function(s,l,h){var m=this,y=0,b=[];return this.ds.forEach(function(C,x){x.sequenceNumber<=l&&null===h.get(x.targetId)&&(m.ds.delete(C),b.push(m.removeMatchingKeysForTargetId(s,x.targetId)),y++)}),Te.waitFor(b).next(function(){return y})},c.prototype.getTargetCount=function(s){return Te.resolve(this.targetCount)},c.prototype.getTargetData=function(s,l){var h=this.ds.get(l)||null;return Te.resolve(h)},c.prototype.addMatchingKeys=function(s,l,h){return this._s.Jn(l,h),Te.resolve()},c.prototype.removeMatchingKeys=function(s,l,h){this._s.Xn(l,h);var m=this.persistence.referenceDelegate,y=[];return m&&l.forEach(function(b){y.push(m.markPotentiallyOrphaned(s,b))}),Te.waitFor(y)},c.prototype.removeMatchingKeysForTargetId=function(s,l){return this._s.Zn(l),Te.resolve()},c.prototype.getMatchingKeysForTargetId=function(s,l){var h=this._s.es(l);return Te.resolve(h)},c.prototype.containsKey=function(s,l){return Te.resolve(this._s.containsKey(l))},c}(),ay=function(){function c(s,l){var h=this;this.gs={},this.Ne=new Hr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=s(this),this.qe=new _m(this),this.Ut=new ih,this.Ue=new ym(this.Ut,function(b){return h.referenceDelegate.ps(b)}),this.R=new Of(l),this.Ke=new sy(this.R)}return c.prototype.start=function(){return Promise.resolve()},c.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(c.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),c.prototype.setDatabaseDeletedListener=function(){},c.prototype.setNetworkEnabled=function(){},c.prototype.getIndexManager=function(){return this.Ut},c.prototype.getMutationQueue=function(s){var l=this.gs[s.toKey()];return l||(l=new Fg(this.Ut,this.referenceDelegate),this.gs[s.toKey()]=l),l},c.prototype.getTargetCache=function(){return this.qe},c.prototype.getRemoteDocumentCache=function(){return this.Ue},c.prototype.getBundleCache=function(){return this.Ke},c.prototype.runTransaction=function(s,l,h){var m=this;Se("MemoryPersistence","Starting transaction:",s);var y=new Lg(this.Ne.next());return this.referenceDelegate.Es(),h(y).next(function(b){return m.referenceDelegate.Ts(y).next(function(){return b})}).toPromise().then(function(b){return y.raiseOnCommittedEvent(),b})},c.prototype.Is=function(s,l){return Te.or(Object.values(this.gs).map(function(h){return function(){return h.containsKey(s,l)}}))},c}(),Lg=function(c){function s(l){var h=this;return(h=c.call(this)||this).currentSequenceNumber=l,h}return(0,T.ZT)(s,c),s}(mo),jg=function(){function c(s){this.persistence=s,this.As=new Ol,this.Rs=null}return c.bs=function(s){return new c(s)},Object.defineProperty(c.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw et()},enumerable:!1,configurable:!0}),c.prototype.addReference=function(s,l,h){return this.As.addReference(h,l),this.vs.delete(h.toString()),Te.resolve()},c.prototype.removeReference=function(s,l,h){return this.As.removeReference(h,l),this.vs.add(h.toString()),Te.resolve()},c.prototype.markPotentiallyOrphaned=function(s,l){return this.vs.add(l.toString()),Te.resolve()},c.prototype.removeTarget=function(s,l){var h=this;this.As.Zn(l.targetId).forEach(function(y){return h.vs.add(y.toString())});var m=this.persistence.getTargetCache();return m.getMatchingKeysForTargetId(s,l.targetId).next(function(y){y.forEach(function(b){return h.vs.add(b.toString())})}).next(function(){return m.removeTargetData(s,l)})},c.prototype.Es=function(){this.Rs=new Set},c.prototype.Ts=function(s){var l=this,h=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Te.forEach(this.vs,function(m){var y=He.fromPath(m);return l.Ps(s,y).next(function(b){b||h.removeEntry(y)})}).next(function(){return l.Rs=null,h.apply(s)})},c.prototype.updateLimboDocument=function(s,l){var h=this;return this.Ps(s,l).next(function(m){m?h.vs.delete(l.toString()):h.vs.add(l.toString())})},c.prototype.ps=function(s){return 0},c.prototype.Ps=function(s,l){var h=this;return Te.or([function(){return Te.resolve(h.As.containsKey(l))},function(){return h.persistence.getTargetCache().containsKey(s,l)},function(){return h.persistence.Is(s,l)}])},c}(),Or=function(){function c(s){this.uid=s}return c.prototype.isAuthenticated=function(){return null!=this.uid},c.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},c.prototype.isEqual=function(s){return s.uid===this.uid},c}();function Bg(c,s){return"firestore_clients_"+c+"_"+s}function bm(c,s,l){var h="firestore_mutations_"+c+"_"+l;return s.isAuthenticated()&&(h+="_"+s.uid),h}function lh(c,s){return"firestore_targets_"+c+"_"+s}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");var Vg=function(){function c(s,l,h,m){this.user=s,this.batchId=l,this.state=h,this.error=m}return c.Vs=function(s,l,h){var m,y=JSON.parse(h),b="object"==typeof y&&-1!==["pending","acknowledged","rejected"].indexOf(y.state)&&(void 0===y.error||"object"==typeof y.error);return b&&y.error&&(b="string"==typeof y.error.message&&"string"==typeof y.error.code)&&(m=new _e(y.error.code,y.error.message)),b?new c(s,l,y.state,m):(it("SharedClientState","Failed to parse mutation state for ID '"+l+"': "+h),null)},c.prototype.Ss=function(){var s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)},c}(),Hf=function(){function c(s,l,h){this.targetId=s,this.state=l,this.error=h}return c.Vs=function(s,l){var h,m=JSON.parse(l),y="object"==typeof m&&-1!==["not-current","current","rejected"].indexOf(m.state)&&(void 0===m.error||"object"==typeof m.error);return y&&m.error&&(y="string"==typeof m.error.message&&"string"==typeof m.error.code)&&(h=new _e(m.error.code,m.error.message)),y?new c(s,m.state,h):(it("SharedClientState","Failed to parse target state for ID '"+s+"': "+l),null)},c.prototype.Ss=function(){var s={state:this.state,updateTimeMs:Date.now()};return this.error&&(s.error={code:this.error.code,message:this.error.message}),JSON.stringify(s)},c}(),zf=function(){function c(s,l){this.clientId=s,this.activeTargetIds=l}return c.Vs=function(s,l){for(var h=JSON.parse(l),m="object"==typeof h&&h.activeTargetIds instanceof Array,y=Df(),b=0;m&&b<h.activeTargetIds.length;++b)m=Ye(h.activeTargetIds[b]),y=y.add(h.activeTargetIds[b]);return m?new c(s,y):(it("SharedClientState","Failed to parse client data for instance '"+s+"': "+l),null)},c}(),Ug=function(){function c(s,l){this.clientId=s,this.onlineState=l}return c.Vs=function(s){var l=JSON.parse(s);return"object"==typeof l&&-1!==["Unknown","Online","Offline"].indexOf(l.onlineState)&&"string"==typeof l.clientId?new c(l.clientId,l.onlineState):(it("SharedClientState","Failed to parse online state: "+s),null)},c}(),Nl=function(){function c(){this.activeTargetIds=Df()}return c.prototype.Ds=function(s){this.activeTargetIds=this.activeTargetIds.add(s)},c.prototype.Cs=function(s){this.activeTargetIds=this.activeTargetIds.delete(s)},c.prototype.Ss=function(){var s={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(s)},c}(),wu=function(){function c(s,l,h,m,y){this.window=s,this.Se=l,this.persistenceKey=h,this.Ns=m,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new jn(Be),this.started=!1,this.$s=[];var b=h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=y,this.Os=Bg(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Nl),this.Ls=new RegExp("^firestore_clients_"+b+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+b+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+b+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(C){return"firestore_bundle_loaded_"+C}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return c.yt=function(s){return!(!s||!s.localStorage)},c.prototype.start=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l,h,m,y,b,C,x,O,P,z=this;return(0,T.Jh)(this,function(re){switch(re.label){case 0:return[4,this.syncEngine.fn()];case 1:for(s=re.sent(),l=0,h=s;l<h.length;l++)(m=h[l])!==this.Ns&&(y=this.getItem(Bg(this.persistenceKey,m)))&&(b=zf.Vs(m,y))&&(this.Fs=this.Fs.insert(b.clientId,b));for(this.Qs(),(C=this.storage.getItem(this.Us))&&(x=this.js(C))&&this.Ws(x),O=0,P=this.$s;O<P.length;O++)this.ks(P[O]);return this.$s=[],this.window.addEventListener("pagehide",function(){return z.shutdown()}),this.started=!0,[2]}})})},c.prototype.writeSequenceNumber=function(s){this.setItem(this.Ms,JSON.stringify(s))},c.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},c.prototype.isActiveQueryTarget=function(s){var l=!1;return this.Fs.forEach(function(h,m){m.activeTargetIds.has(s)&&(l=!0)}),l},c.prototype.addPendingMutation=function(s){this.zs(s,"pending")},c.prototype.updateMutationState=function(s,l,h){this.zs(s,l,h),this.Hs(s)},c.prototype.addLocalQueryTarget=function(s){var l="not-current";if(this.isActiveQueryTarget(s)){var h=this.storage.getItem(lh(this.persistenceKey,s));if(h){var m=Hf.Vs(s,h);m&&(l=m.state)}}return this.Js.Ds(s),this.Qs(),l},c.prototype.removeLocalQueryTarget=function(s){this.Js.Cs(s),this.Qs()},c.prototype.isLocalQueryTarget=function(s){return this.Js.activeTargetIds.has(s)},c.prototype.clearQueryState=function(s){this.removeItem(lh(this.persistenceKey,s))},c.prototype.updateQueryState=function(s,l,h){this.Ys(s,l,h)},c.prototype.handleUserChange=function(s,l,h){var m=this;l.forEach(function(y){m.Hs(y)}),this.currentUser=s,h.forEach(function(y){m.addPendingMutation(y)})},c.prototype.setOnlineState=function(s){this.Xs(s)},c.prototype.notifyBundleLoaded=function(){this.Zs()},c.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},c.prototype.getItem=function(s){var l=this.storage.getItem(s);return Se("SharedClientState","READ",s,l),l},c.prototype.setItem=function(s,l){Se("SharedClientState","SET",s,l),this.storage.setItem(s,l)},c.prototype.removeItem=function(s){Se("SharedClientState","REMOVE",s),this.storage.removeItem(s)},c.prototype.ks=function(s){var l=this,h=s;if(h.storageArea===this.storage){if(Se("SharedClientState","EVENT",h.key,h.newValue),h.key===this.Os)return void it("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,T.mG)(l,void 0,void 0,function(){var m,y,b,C,x,O;return(0,T.Jh)(this,function(P){if(this.started){if(null!==h.key)if(this.Ls.test(h.key)){if(null==h.newValue)return m=this.ti(h.key),[2,this.ei(m,null)];if(y=this.ni(h.key,h.newValue))return[2,this.ei(y.clientId,y)]}else if(this.Bs.test(h.key)){if(null!==h.newValue&&(b=this.si(h.key,h.newValue)))return[2,this.ii(b)]}else if(this.qs.test(h.key)){if(null!==h.newValue&&(C=this.ri(h.key,h.newValue)))return[2,this.oi(C)]}else if(h.key===this.Us){if(null!==h.newValue&&(x=this.js(h.newValue)))return[2,this.Ws(x)]}else if(h.key===this.Ms)(O=function(B){var z=Hr.o;if(null!=B)try{var re=JSON.parse(B);Ze("number"==typeof re),z=re}catch(te){it("SharedClientState","Failed to read sequence number from WebStorage",te)}return z}(h.newValue))!==Hr.o&&this.sequenceNumberHandler(O);else if(h.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(h);return[2]})})})}},Object.defineProperty(c.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),c.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},c.prototype.zs=function(s,l,h){var m=new Vg(this.currentUser,s,l,h),y=bm(this.persistenceKey,this.currentUser,s);this.setItem(y,m.Ss())},c.prototype.Hs=function(s){var l=bm(this.persistenceKey,this.currentUser,s);this.removeItem(l)},c.prototype.Xs=function(s){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:s}))},c.prototype.Ys=function(s,l,h){var m=lh(this.persistenceKey,s),y=new Hf(s,l,h);this.setItem(m,y.Ss())},c.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},c.prototype.ti=function(s){var l=this.Ls.exec(s);return l?l[1]:null},c.prototype.ni=function(s,l){var h=this.ti(s);return zf.Vs(h,l)},c.prototype.si=function(s,l){var h=this.Bs.exec(s),m=Number(h[1]);return Vg.Vs(new Or(void 0!==h[2]?h[2]:null),m,l)},c.prototype.ri=function(s,l){var h=this.qs.exec(s),m=Number(h[1]);return Hf.Vs(m,l)},c.prototype.js=function(s){return Ug.Vs(s)},c.prototype.ii=function(s){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(l){return s.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(s.batchId,s.state,s.error)]:(Se("SharedClientState","Ignoring mutation for non-active user "+s.user.uid),[2])})})},c.prototype.oi=function(s){return this.syncEngine.ai(s.targetId,s.state,s.error)},c.prototype.ei=function(s,l){var h=this,m=l?this.Fs.insert(s,l):this.Fs.remove(s),y=this.Gs(this.Fs),b=this.Gs(m),C=[],x=[];return b.forEach(function(O){y.has(O)||C.push(O)}),y.forEach(function(O){b.has(O)||x.push(O)}),this.syncEngine.hi(C,x).then(function(){h.Fs=m})},c.prototype.Ws=function(s){this.Fs.get(s.clientId)&&this.onlineStateHandler(s.onlineState)},c.prototype.Gs=function(s){var l=Df();return s.forEach(function(h,m){l=l.unionWith(m.activeTargetIds)}),l},c}(),Ws=function(){function c(){this.li=new Nl,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return c.prototype.addPendingMutation=function(s){},c.prototype.updateMutationState=function(s,l,h){},c.prototype.addLocalQueryTarget=function(s){return this.li.Ds(s),this.fi[s]||"not-current"},c.prototype.updateQueryState=function(s,l,h){this.fi[s]=l},c.prototype.removeLocalQueryTarget=function(s){this.li.Cs(s)},c.prototype.isLocalQueryTarget=function(s){return this.li.activeTargetIds.has(s)},c.prototype.clearQueryState=function(s){delete this.fi[s]},c.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},c.prototype.isActiveQueryTarget=function(s){return this.li.activeTargetIds.has(s)},c.prototype.start=function(){return this.li=new Nl,Promise.resolve()},c.prototype.handleUserChange=function(s,l,h){},c.prototype.setOnlineState=function(s){},c.prototype.shutdown=function(){},c.prototype.writeSequenceNumber=function(s){},c.prototype.notifyBundleLoaded=function(){},c}(),dh=function(){function c(){}return c.prototype.di=function(s){},c.prototype.shutdown=function(){},c}(),$f=function(){function c(){var s=this;this.wi=function(){return s._i()},this.mi=function(){return s.yi()},this.gi=[],this.pi()}return c.prototype.di=function(s){this.gi.push(s)},c.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},c.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},c.prototype._i=function(){Se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var s=0,l=this.gi;s<l.length;s++)(0,l[s])(0)},c.prototype.yi=function(){Se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var s=0,l=this.gi;s<l.length;s++)(0,l[s])(1)},c.yt=function(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},c}(),Hg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},wm=function(){function c(s){this.Ei=s.Ei,this.Ti=s.Ti}return c.prototype.Ii=function(s){this.Ai=s},c.prototype.Ri=function(s){this.bi=s},c.prototype.onMessage=function(s){this.vi=s},c.prototype.close=function(){this.Ti()},c.prototype.send=function(s){this.Ei(s)},c.prototype.Pi=function(){this.Ai()},c.prototype.Vi=function(s){this.bi(s)},c.prototype.Si=function(s){this.vi(s)},c}(),Eu=function(c){function s(l){var h=this;return(h=c.call(this,l)||this).forceLongPolling=l.forceLongPolling,h.autoDetectLongPolling=l.autoDetectLongPolling,h.useFetchStreams=l.useFetchStreams,h}return(0,T.ZT)(s,c),s.prototype.Fi=function(l,h,m,y){return new Promise(function(b,C){var x=new el;x.listenOnce(St.COMPLETE,function(){try{switch(x.getLastErrorCode()){case js.NO_ERROR:var P=x.getResponseJson();Se("Connection","XHR received:",JSON.stringify(P)),b(P);break;case js.TIMEOUT:Se("Connection",'RPC "'+l+'" timed out'),C(new _e(ue.DEADLINE_EXCEEDED,"Request time out"));break;case js.HTTP_ERROR:var B=x.getStatus();if(Se("Connection",'RPC "'+l+'" failed with status:',B,"response text:",x.getResponseText()),B>0){var z=x.getResponseJson().error;if(z&&z.status&&z.message){var re=(de=z.status.toLowerCase().replace(/_/g,"-"),Object.values(ue).indexOf(de)>=0?de:ue.UNKNOWN);C(new _e(re,z.message))}else C(new _e(ue.UNKNOWN,"Server responded with status "+x.getStatus()))}else C(new _e(ue.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Se("Connection",'RPC "'+l+'" completed.')}var de});var O=JSON.stringify(y);x.send(h,"POST",O,m,15)})},s.prototype.Oi=function(l,h){var m=[this.Di,"/","google.firestore.v1.Firestore","/",l,"/channel"],y=new Ln,b=nc(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new Do({})),this.ki(C.initMessageHeaders,h),(0,Ge.uI)()||(0,Ge.b$)()||(0,Ge.d)()||(0,Ge.w1)()||(0,Ge.Mn)()||(0,Ge.ru)()||(C.httpHeadersOverwriteParam="$httpHeaders");var x=m.join("");Se("Connection","Creating WebChannel: "+x,C);var O=y.createWebChannel(x,C),P=!1,B=!1,z=new wm({Ei:function(te){B?Se("Connection","Not sending because WebChannel is closed:",te):(P||(Se("Connection","Opening WebChannel transport."),O.open(),P=!0),Se("Connection","WebChannel sending:",te),O.send(te))},Ti:function(){return O.close()}}),re=function(te,de,Me){te.listen(de,function(je){try{Me(je)}catch(at){setTimeout(function(){throw at},0)}})};return re(O,qn.EventType.OPEN,function(){B||Se("Connection","WebChannel transport opened.")}),re(O,qn.EventType.CLOSE,function(){B||(B=!0,Se("Connection","WebChannel transport closed"),z.Vi())}),re(O,qn.EventType.ERROR,function(te){B||(B=!0,df("Connection","WebChannel transport errored:",te),z.Vi(new _e(ue.UNAVAILABLE,"The operation could not be completed")))}),re(O,qn.EventType.MESSAGE,function(te){var de;if(!B){var Me=te.data[0];Ze(!!Me);var at=Me.error||(null===(de=Me[0])||void 0===de?void 0:de.error);if(at){Se("Connection","WebChannel received error:",at);var ht=at.status,Jt=function(Vn){var _o=$r[Vn];if(void 0!==_o)return Sg(_o)}(ht),En=at.message;void 0===Jt&&(Jt=ue.INTERNAL,En="Unknown error status: "+ht+" with message "+at.message),B=!0,z.Vi(new _e(Jt,En)),O.close()}else Se("Connection","WebChannel received:",Me),z.Si(Me)}}),re(b,Ju.STAT_EVENT,function(te){te.stat===Rd_PROXY?Se("Connection","Detected buffering proxy"):te.stat===Rd_NOPROXY&&Se("Connection","Detected no buffering proxy")}),setTimeout(function(){z.Pi()},0),z},s}(function(){function c(s){this.databaseInfo=s,this.databaseId=s.databaseId,this.Di=(s.ssl?"https":"http")+"://"+s.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return c.prototype.Ni=function(s,l,h,m){var y=this.xi(s,l);Se("RestConnection","Sending: ",y,h);var b={};return this.ki(b,m),this.Fi(s,y,b,h).then(function(C){return Se("RestConnection","Received: ",C),C},function(C){throw df("RestConnection",s+" failed with error: ",C,"url: ",y,"request:",h),C})},c.prototype.$i=function(s,l,h,m){return this.Ni(s,l,h,m)},c.prototype.ki=function(s,l){if(s["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),l)for(var h in l.authHeaders)l.authHeaders.hasOwnProperty(h)&&(s[h]=l.authHeaders[h])},c.prototype.xi=function(s,l){return this.Di+"/v1/"+l+":"+Hg[s]},c}());function Cu(){return typeof window<"u"?window:null}function Dc(){return typeof document<"u"?document:null}function Aa(c){return new Yd(c,!0)}var Pl=function(){function c(s,l,h,m,y){void 0===h&&(h=1e3),void 0===m&&(m=1.5),void 0===y&&(y=6e4),this.Se=s,this.timerId=l,this.Mi=h,this.Li=m,this.Bi=y,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return c.prototype.reset=function(){this.qi=0},c.prototype.Qi=function(){this.qi=this.Bi},c.prototype.ji=function(s){var l=this;this.cancel();var h=Math.floor(this.qi+this.Wi()),m=Math.max(0,Date.now()-this.Ki),y=Math.max(0,h-m);y>0&&Se("ExponentialBackoff","Backing off for "+y+" ms (base delay: "+this.qi+" ms, delay with jitter: "+h+" ms, last attempt: "+m+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,y,function(){return l.Ki=Date.now(),s()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},c.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},c.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},c.prototype.Wi=function(){return(Math.random()-.5)*this.qi},c}(),_s=function(){function c(s,l,h,m,y,b){this.Se=s,this.zi=h,this.Hi=m,this.Ji=y,this.listener=b,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Pl(s,l)}return c.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},c.prototype.er=function(){return 2===this.state},c.prototype.start=function(){3!==this.state?this.auth():this.nr()},c.prototype.stop=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){switch(s.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},c.prototype.sr=function(){this.state=0,this.Zi.reset()},c.prototype.ir=function(){var s=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return s.rr()}))},c.prototype.cr=function(s){this.ur(),this.stream.send(s)},c.prototype.rr=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){return this.er()?[2,this.close(0)]:[2]})})},c.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},c.prototype.close=function(s,l){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(h){switch(h.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==s?this.Zi.reset():l&&l.code===ue.RESOURCE_EXHAUSTED?(it(l.toString()),it("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):l&&l.code===ue.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=s,[4,this.listener.Ri(l)];case 1:return h.sent(),[2]}})})},c.prototype.ar=function(){},c.prototype.auth=function(){var s=this;this.state=1;var l=this.hr(this.Yi),h=this.Yi;this.Ji.getToken().then(function(m){s.Yi===h&&s.lr(m)},function(m){l(function(){var y=new _e(ue.UNKNOWN,"Fetching auth token failed: "+m.message);return s.dr(y)})})},c.prototype.lr=function(s){var l=this,h=this.hr(this.Yi);this.stream=this.wr(s),this.stream.Ii(function(){h(function(){return l.state=2,l.listener.Ii()})}),this.stream.Ri(function(m){h(function(){return l.dr(m)})}),this.stream.onMessage(function(m){h(function(){return l.onMessage(m)})})},c.prototype.nr=function(){var s=this;this.state=4,this.Zi.ji(function(){return(0,T.mG)(s,void 0,void 0,function(){return(0,T.Jh)(this,function(l){return this.state=0,this.start(),[2]})})})},c.prototype.dr=function(s){return Se("PersistentStream","close with error: "+s),this.stream=null,this.close(3,s)},c.prototype.hr=function(s){var l=this;return function(h){l.Se.enqueueAndForget(function(){return l.Yi===s?h():(Se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},c}(),Em=function(c){function s(l,h,m,y,b){var C=this;return(C=c.call(this,l,"listen_stream_connection_backoff","listen_stream_idle",h,m,b)||this).R=y,C}return(0,T.ZT)(s,c),s.prototype.wr=function(l){return this.Hi.Oi("Listen",l)},s.prototype.onMessage=function(l){this.Zi.reset();var h=function(y,b){var C,Me;if("targetChange"in b){var x="NO_CHANGE"===(Me=b.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Me?1:"REMOVE"===Me?2:"CURRENT"===Me?3:"RESET"===Me?4:et(),O=b.targetChange.targetIds||[],P=function(Me,je){return Me.I?(Ze(void 0===je||"string"==typeof je),Si.fromBase64String(je||"")):(Ze(void 0===je||je instanceof Uint8Array),Si.fromUint8Array(je||new Uint8Array))}(y,b.targetChange.resumeToken),B=(z=b.targetChange.cause)&&function(Me){var je=void 0===Me.code?ue.UNKNOWN:Sg(Me.code);return new _e(je,Me.message||"")}(z);C=new Sf(x,O,P,B||null)}else if("documentChange"in b){O=Ko(y,(x=b.documentChange).document.name),P=Kr(x.document.updateTime);var z=new ci({mapValue:{fields:x.document.fields}}),re=(B=ui.newFoundDocument(O,P,z),x.targetIds||[]);C=new Rr(re,x.removedTargetIds||[],B.key,B)}else if("documentDelete"in b)O=Ko(y,(x=b.documentDelete).document),P=x.readTime?Kr(x.readTime):At.min(),z=ui.newNoDocument(O,P),C=new Rr([],B=x.removedTargetIds||[],z.key,z);else if("documentRemove"in b)O=Ko(y,(x=b.documentRemove).document),C=new Rr([],P=x.removedTargetIds||[],O,null);else{if(!("filter"in b))return et();var de=b.filter;O=new tm(x=de.count||0),C=new po(P=de.targetId,O)}return C}(this.R,l),m=function(y){if(!("targetChange"in y))return At.min();var b=y.targetChange;return b.targetIds&&b.targetIds.length?At.min():b.readTime?Kr(b.readTime):At.min()}(l);return this.listener._r(h,m)},s.prototype.mr=function(l){var y,b,C,x,h={};h.database=Ca(this.R),h.addTarget=(y=this.R,(C=Fd(x=(b=l).target)?{documents:vl(y,x)}:{query:yl(y,x)}).targetId=b.targetId,b.resumeToken.approximateByteSize()>0?C.resumeToken=Zd(y,b.resumeToken):b.snapshotVersion.compareTo(At.min())>0&&(C.readTime=hu(y,b.snapshotVersion.toTimestamp())),C);var m=function(y,b){var C=function(x,O){switch(O){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}}(0,b.purpose);return null==C?null:{"goog-listen-tags":C}}(0,l);m&&(h.labels=m),this.cr(h)},s.prototype.yr=function(l){var h={};h.database=Ca(this.R),h.removeTarget=l,this.cr(h)},s}(_s),zg=function(c){function s(l,h,m,y,b){var C=this;return(C=c.call(this,l,"write_stream_connection_backoff","write_stream_idle",h,m,b)||this).R=y,C.gr=!1,C}return(0,T.ZT)(s,c),Object.defineProperty(s.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),s.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,c.prototype.start.call(this)},s.prototype.ar=function(){this.gr&&this.Er([])},s.prototype.wr=function(l){return this.Hi.Oi("Write",l)},s.prototype.onMessage=function(l){if(Ze(!!l.streamToken),this.lastStreamToken=l.streamToken,this.gr){this.Zi.reset();var h=(b=l.commitTime,(y=l.writeResults)&&y.length>0?(Ze(void 0!==b),y.map(function(C){return O=b,(P=Kr((x=C).updateTime?x.updateTime:O)).isEqual(At.min())&&(P=Kr(O)),new fs(P,x.transformResults||[]);var x,O,P})):[]),m=Kr(l.commitTime);return this.listener.Tr(m,h)}var y,b;return Ze(!l.writeResults||0===l.writeResults.length),this.gr=!0,this.listener.Ir()},s.prototype.Ar=function(){var l={};l.database=Ca(this.R),this.cr(l)},s.prototype.Er=function(l){var h=this,m={streamToken:this.lastStreamToken,writes:l.map(function(y){return Yo(h.R,y)})};this.cr(m)},s}(_s),cy=function(c){function s(l,h,m){var y=this;return(y=c.call(this)||this).credentials=l,y.Hi=h,y.R=m,y.Rr=!1,y}return(0,T.ZT)(s,c),s.prototype.br=function(){if(this.Rr)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.")},s.prototype.Ni=function(l,h,m){var y=this;return this.br(),this.credentials.getToken().then(function(b){return y.Hi.Ni(l,h,m,b)}).catch(function(b){throw"FirebaseError"===b.name?(b.code===ue.UNAUTHENTICATED&&y.credentials.invalidateToken(),b):new _e(ue.UNKNOWN,b.toString())})},s.prototype.$i=function(l,h,m){var y=this;return this.br(),this.credentials.getToken().then(function(b){return y.Hi.$i(l,h,m,b)}).catch(function(b){throw"FirebaseError"===b.name?(b.code===ue.UNAUTHENTICATED&&y.credentials.invalidateToken(),b):new _e(ue.UNKNOWN,b.toString())})},s.prototype.terminate=function(){this.Rr=!0},s}(function(){}),$g=function(){function c(s,l){this.asyncQueue=s,this.onlineStateHandler=l,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return c.prototype.Sr=function(){var s=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return s.Pr=null,s.Cr("Backend didn't respond within 10 seconds."),s.Dr("Offline"),Promise.resolve()}))},c.prototype.Nr=function(s){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+s.toString()),this.Dr("Offline")))},c.prototype.set=function(s){this.kr(),this.vr=0,"Online"===s&&(this.Vr=!1),this.Dr(s)},c.prototype.Dr=function(s){s!==this.state&&(this.state=s,this.onlineStateHandler(s))},c.prototype.Cr=function(s){var l="Could not reach Cloud Firestore backend. "+s+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(it(l),this.Vr=!1):Se("OnlineStateTracker",l)},c.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},c}(),hh=function(c,s,l,h,m){var y=this;this.localStore=c,this.datastore=s,this.asyncQueue=l,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=m,this.Lr.di(function(b){l.enqueueAndForget(function(){return(0,T.mG)(y,void 0,void 0,function(){return(0,T.Jh)(this,function(C){switch(C.label){case 0:return Oo(this)?(Se("RemoteStore","Restarting streams for network reachability change."),[4,function(x){return(0,T.mG)(this,void 0,void 0,function(){var O;return(0,T.Jh)(this,function(P){switch(P.label){case 0:return(O=Pe(x)).Or.add(4),[4,Fl(O)];case 1:return P.sent(),O.Br.set("Unknown"),O.Or.delete(4),[4,fh(O)];case 2:return P.sent(),[2]}})})}(this)]):[3,2];case 1:C.sent(),C.label=2;case 2:return[2]}})})})}),this.Br=new $g(l,h)};function fh(c){return(0,T.mG)(this,void 0,void 0,function(){var s,l;return(0,T.Jh)(this,function(h){switch(h.label){case 0:if(!Oo(c))return[3,4];s=0,l=c.Mr,h.label=1;case 1:return s<l.length?[4,(0,l[s])(!0)]:[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2]}})})}function Fl(c){return(0,T.mG)(this,void 0,void 0,function(){var s,l;return(0,T.Jh)(this,function(h){switch(h.label){case 0:s=0,l=c.Mr,h.label=1;case 1:return s<l.length?[4,(0,l[s])(!1)]:[3,4];case 2:h.sent(),h.label=3;case 3:return s++,[3,1];case 4:return[2]}})})}function qf(c,s){var l=Pe(c);l.$r.has(s.targetId)||(l.$r.set(s.targetId,s),Du(l)?Ri(l):Sc(l).er()&&Ic(l,s))}function Ll(c,s){var l=Pe(c),h=Sc(l);l.$r.delete(s),h.er()&&qg(l,s),0===l.$r.size&&(h.er()?h.ir():Oo(l)&&l.Br.set("Unknown"))}function Ic(c,s){c.qr.U(s.targetId),Sc(c).mr(s)}function qg(c,s){c.qr.U(s),Sc(c).yr(s)}function Ri(c){c.qr=new Wo({getRemoteKeysForTarget:function(s){return c.remoteSyncer.getRemoteKeysForTarget(s)},lt:function(s){return c.$r.get(s)||null}}),Sc(c).start(),c.Br.Sr()}function Du(c){return Oo(c)&&!Sc(c).tr()&&c.$r.size>0}function Oo(c){return 0===Pe(c).Or.size}function Ks(c){c.qr=void 0}function Nr(c){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){return c.$r.forEach(function(l,h){Ic(c,l)}),[2]})})}function ph(c,s){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(l){return Ks(c),Du(c)?(c.Br.Nr(s),Ri(c)):c.Br.set("Unknown"),[2]})})}function Iu(c,s,l){return(0,T.mG)(this,void 0,void 0,function(){var h,m,y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:if(c.Br.set("Online"),!(s instanceof Sf&&2===s.state&&s.cause))return[3,6];b.label=1;case 1:return b.trys.push([1,3,,5]),[4,function(C,x){return(0,T.mG)(this,void 0,void 0,function(){var O,P,B,z;return(0,T.Jh)(this,function(re){switch(re.label){case 0:O=x.cause,P=0,B=x.targetIds,re.label=1;case 1:return P<B.length?C.$r.has(z=B[P])?[4,C.remoteSyncer.rejectListen(z,O)]:[3,3]:[3,5];case 2:re.sent(),C.$r.delete(z),C.qr.removeTarget(z),re.label=3;case 3:re.label=4;case 4:return P++,[3,1];case 5:return[2]}})})}(c,s)];case 2:return b.sent(),[3,5];case 3:return h=b.sent(),Se("RemoteStore","Failed to remove targets %s: %s ",s.targetIds.join(","),h),[4,mh(c,h)];case 4:return b.sent(),[3,5];case 5:return[3,13];case 6:if(s instanceof Rr?c.qr.X(s):s instanceof po?c.qr.rt(s):c.qr.et(s),l.isEqual(At.min()))return[3,13];b.label=7;case 7:return b.trys.push([7,11,,13]),[4,gm(c.localStore)];case 8:return m=b.sent(),l.compareTo(m)>=0?[4,(C=c,x=l,O=C.qr.ut(x),O.targetChanges.forEach(function(P,B){if(P.resumeToken.approximateByteSize()>0){var z=C.$r.get(B);z&&C.$r.set(B,z.withResumeToken(P.resumeToken,x))}}),O.targetMismatches.forEach(function(P){var B=C.$r.get(P);if(B){C.$r.set(P,B.withResumeToken(Si.EMPTY_BYTE_STRING,B.snapshotVersion)),qg(C,P);var z=new nh(B.target,P,1,B.sequenceNumber);Ic(C,z)}}),C.remoteSyncer.applyRemoteEvent(O))]:[3,10];case 9:b.sent(),b.label=10;case 10:return[3,13];case 11:return Se("RemoteStore","Failed to raise snapshot:",y=b.sent()),[4,mh(c,y)];case 12:return b.sent(),[3,13];case 13:return[2]}var C,x,O})})}function mh(c,s,l){return(0,T.mG)(this,void 0,void 0,function(){var h=this;return(0,T.Jh)(this,function(m){switch(m.label){case 0:if(!_u(s))throw s;return c.Or.add(1),[4,Fl(c)];case 1:return m.sent(),c.Br.set("Offline"),l||(l=function(){return gm(c.localStore)}),c.asyncQueue.enqueueRetryable(function(){return(0,T.mG)(h,void 0,void 0,function(){return(0,T.Jh)(this,function(y){switch(y.label){case 0:return Se("RemoteStore","Retrying IndexedDB access"),[4,l()];case 1:return y.sent(),c.Or.delete(1),[4,fh(c)];case 2:return y.sent(),[2]}})})}),[2]}})})}function Gf(c,s){return s().catch(function(l){return mh(c,l,s)})}function Su(c){return(0,T.mG)(this,void 0,void 0,function(){var s,l,h,m,y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:s=Pe(c),l=Ma(s),h=s.Fr.length>0?s.Fr[s.Fr.length-1].batchId:-1,b.label=1;case 1:if(!(Oo(C=s)&&C.Fr.length<10))return[3,7];b.label=2;case 2:return b.trys.push([2,4,,6]),[4,kl(s.localStore,h)];case 3:return null===(m=b.sent())?(0===s.Fr.length&&l.ir(),[3,7]):(h=m.batchId,function(C,x){C.Fr.push(x);var O=Ma(C);O.er()&&O.pr&&O.Er(x.mutations)}(s,m),[3,6]);case 4:return y=b.sent(),[4,mh(s,y)];case 5:return b.sent(),[3,6];case 6:return[3,1];case 7:return Wf(s)&&Cm(s),[2]}var C})})}function Wf(c){return Oo(c)&&!Ma(c).tr()&&c.Fr.length>0}function Cm(c){Ma(c).start()}function uy(c){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){return Ma(c).Ar(),[2]})})}function Gg(c){return(0,T.mG)(this,void 0,void 0,function(){var s,l,h;return(0,T.Jh)(this,function(y){for(s=Ma(c),l=0,h=c.Fr;l<h.length;l++)s.Er(h[l].mutations);return[2]})})}function Kf(c,s,l){return(0,T.mG)(this,void 0,void 0,function(){var h,m;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return h=c.Fr.shift(),m=Yv.from(h,s,l),[4,Gf(c,function(){return c.remoteSyncer.applySuccessfulWrite(m)})];case 1:return y.sent(),[4,Su(c)];case 2:return y.sent(),[2]}})})}function Yf(c,s){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(l){switch(l.label){case 0:return s&&Ma(c).pr?[4,function(h,m){return(0,T.mG)(this,void 0,void 0,function(){var y,b;return(0,T.Jh)(this,function(C){switch(C.label){case 0:return fo(b=m.code)&&b!==ue.ABORTED?(y=h.Fr.shift(),Ma(h).sr(),[4,Gf(h,function(){return h.remoteSyncer.rejectFailedWrite(y.batchId,m)})]):[3,3];case 1:return C.sent(),[4,Su(h)];case 2:C.sent(),C.label=3;case 3:return[2]}})})}(c,s)]:[3,2];case 1:l.sent(),l.label=2;case 2:return Wf(c)&&Cm(c),[2]}})})}function jl(c,s){return(0,T.mG)(this,void 0,void 0,function(){var l;return(0,T.Jh)(this,function(h){switch(h.label){case 0:return l=Pe(c),s?(l.Or.delete(2),[4,fh(l)]):[3,2];case 1:return h.sent(),[3,5];case 2:return s?[3,4]:(l.Or.add(2),[4,Fl(l)]);case 3:h.sent(),l.Br.set("Unknown"),h.label=4;case 4:h.label=5;case 5:return[2]}})})}function Sc(c){var l,h,m,y,s=this;return c.Ur||(c.Ur=(l=c.datastore,h=c.asyncQueue,m={Ii:Nr.bind(null,c),Ri:ph.bind(null,c),_r:Iu.bind(null,c)},(y=Pe(l)).br(),new Em(h,y.Hi,y.credentials,y.R,m)),c.Mr.push(function(l){return(0,T.mG)(s,void 0,void 0,function(){return(0,T.Jh)(this,function(h){switch(h.label){case 0:return l?(c.Ur.sr(),Du(c)?Ri(c):c.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,c.Ur.stop()];case 2:h.sent(),Ks(c),h.label=3;case 3:return[2]}})})})),c.Ur}function Ma(c){var l,h,m,y,s=this;return c.Kr||(c.Kr=(l=c.datastore,h=c.asyncQueue,m={Ii:uy.bind(null,c),Ri:Yf.bind(null,c),Ir:Gg.bind(null,c),Tr:Kf.bind(null,c)},(y=Pe(l)).br(),new zg(h,y.Hi,y.credentials,y.R,m)),c.Mr.push(function(l){return(0,T.mG)(s,void 0,void 0,function(){return(0,T.Jh)(this,function(h){switch(h.label){case 0:return l?(c.Kr.sr(),[4,Su(c)]):[3,2];case 1:return h.sent(),[3,4];case 2:return[4,c.Kr.stop()];case 3:h.sent(),c.Fr.length>0&&(Se("RemoteStore","Stopping write stream with "+c.Fr.length+" pending writes"),c.Fr=[]),h.label=4;case 4:return[2]}})})})),c.Kr}var Tu=function(){function c(s,l,h,m,y){this.asyncQueue=s,this.timerId=l,this.targetTimeMs=h,this.op=m,this.removalCallback=y,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(b){})}return c.createAndSchedule=function(s,l,h,m,y){var b=new c(s,l,Date.now()+h,m,y);return b.start(h),b},c.prototype.start=function(s){var l=this;this.timerHandle=setTimeout(function(){return l.handleDelayElapsed()},s)},c.prototype.skipDelay=function(){return this.handleDelayElapsed()},c.prototype.cancel=function(s){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(ue.CANCELLED,"Operation cancelled"+(s?": "+s:""))))},c.prototype.handleDelayElapsed=function(){var s=this;this.asyncQueue.enqueueAndForget(function(){return null!==s.timerHandle?(s.clearTimeout(),s.op().then(function(l){return s.deferred.resolve(l)})):Promise.resolve()})},c.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},c}();function xu(c,s){if(it("AsyncQueue",s+": "+c),_u(c))return new _e(ue.UNAVAILABLE,s+": "+c);throw c}var Zf=function(){function c(s){this.comparator=s?function(l,h){return s(l,h)||He.comparator(l.key,h.key)}:function(l,h){return He.comparator(l.key,h.key)},this.keyedMap=Mr(),this.sortedSet=new jn(this.comparator)}return c.emptySet=function(s){return new c(s.comparator)},c.prototype.has=function(s){return null!=this.keyedMap.get(s)},c.prototype.get=function(s){return this.keyedMap.get(s)},c.prototype.first=function(){return this.sortedSet.minKey()},c.prototype.last=function(){return this.sortedSet.maxKey()},c.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},c.prototype.indexOf=function(s){var l=this.keyedMap.get(s);return l?this.sortedSet.indexOf(l):-1},Object.defineProperty(c.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(s){this.sortedSet.inorderTraversal(function(l,h){return s(l),!1})},c.prototype.add=function(s){var l=this.delete(s.key);return l.copy(l.keyedMap.insert(s.key,s),l.sortedSet.insert(s,null))},c.prototype.delete=function(s){var l=this.get(s);return l?this.copy(this.keyedMap.remove(s),this.sortedSet.remove(l)):this},c.prototype.isEqual=function(s){if(!(s instanceof c)||this.size!==s.size)return!1;for(var l=this.sortedSet.getIterator(),h=s.sortedSet.getIterator();l.hasNext();){var m=l.getNext().key,y=h.getNext().key;if(!m.isEqual(y))return!1}return!0},c.prototype.toString=function(){var s=[];return this.forEach(function(l){s.push(l.toString())}),0===s.length?"DocumentSet ()":"DocumentSet (\n  "+s.join("  \n")+"\n)"},c.prototype.copy=function(s,l){var h=new c;return h.comparator=this.comparator,h.keyedMap=s,h.sortedSet=l,h},c}(),gh=function(){function c(){this.Qr=new jn(He.comparator)}return c.prototype.track=function(s){var l=s.doc.key,h=this.Qr.get(l);h?0!==s.type&&3===h.type?this.Qr=this.Qr.insert(l,s):3===s.type&&1!==h.type?this.Qr=this.Qr.insert(l,{type:h.type,doc:s.doc}):2===s.type&&2===h.type?this.Qr=this.Qr.insert(l,{type:2,doc:s.doc}):2===s.type&&0===h.type?this.Qr=this.Qr.insert(l,{type:0,doc:s.doc}):1===s.type&&0===h.type?this.Qr=this.Qr.remove(l):1===s.type&&2===h.type?this.Qr=this.Qr.insert(l,{type:1,doc:h.doc}):0===s.type&&1===h.type?this.Qr=this.Qr.insert(l,{type:2,doc:s.doc}):et():this.Qr=this.Qr.insert(l,s)},c.prototype.jr=function(){var s=[];return this.Qr.inorderTraversal(function(l,h){s.push(h)}),s},c}(),Bl=function(){function c(s,l,h,m,y,b,C,x){this.query=s,this.docs=l,this.oldDocs=h,this.docChanges=m,this.mutatedKeys=y,this.fromCache=b,this.syncStateChanged=C,this.excludesMetadataChanges=x}return c.fromInitialDocuments=function(s,l,h,m){var y=[];return l.forEach(function(b){y.push({type:0,doc:b})}),new c(s,l,Zf.emptySet(l),y,h,m,!0,!1)},Object.defineProperty(c.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(s){if(!(this.fromCache===s.fromCache&&this.syncStateChanged===s.syncStateChanged&&this.mutatedKeys.isEqual(s.mutatedKeys)&&al(this.query,s.query)&&this.docs.isEqual(s.docs)&&this.oldDocs.isEqual(s.oldDocs)))return!1;var l=this.docChanges,h=s.docChanges;if(l.length!==h.length)return!1;for(var m=0;m<l.length;m++)if(l[m].type!==h[m].type||!l[m].doc.isEqual(h[m].doc))return!1;return!0},c}(),Dm=function(){this.Wr=void 0,this.listeners=[]},Vl=function(){this.queries=new Tl(function(c){return Dg(c)},al),this.onlineState="Unknown",this.Gr=new Set};function Au(c,s){return(0,T.mG)(this,void 0,void 0,function(){var l,h,m,y,b,C,x;return(0,T.Jh)(this,function(O){switch(O.label){case 0:if(l=Pe(c),m=!1,(y=l.queries.get(h=s.query))||(m=!0,y=new Dm),!m)return[3,4];O.label=1;case 1:return O.trys.push([1,3,,4]),b=y,[4,l.onListen(h)];case 2:return b.Wr=O.sent(),[3,4];case 3:return C=O.sent(),x=xu(C,"Initialization of query '"+zd(s.query)+"' failed"),[2,void s.onError(x)];case 4:return l.queries.set(h,y),y.listeners.push(s),s.zr(l.onlineState),y.Wr&&s.Hr(y.Wr)&&Sm(l),[2]}})})}function Mu(c,s){return(0,T.mG)(this,void 0,void 0,function(){var l,h,m,y,b;return(0,T.Jh)(this,function(C){return l=Pe(c),m=!1,(y=l.queries.get(h=s.query))&&(b=y.listeners.indexOf(s))>=0&&(y.listeners.splice(b,1),m=0===y.listeners.length),m?[2,(l.queries.delete(h),l.onUnlisten(h))]:[2]})})}function Im(c,s){for(var l=Pe(c),h=!1,m=0,y=s;m<y.length;m++){var b=y[m],x=l.queries.get(b.query);if(x){for(var O=0,P=x.listeners;O<P.length;O++)P[O].Hr(b)&&(h=!0);x.Wr=b}}h&&Sm(l)}function Xf(c,s,l){var h=Pe(c),m=h.queries.get(s);if(m)for(var y=0,b=m.listeners;y<b.length;y++)b[y].onError(l);h.queries.delete(s)}function Sm(c){c.Gr.forEach(function(s){s.next()})}var Qf=function(){function c(s,l,h){this.query=s,this.Jr=l,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=h||{}}return c.prototype.Hr=function(s){if(!this.options.includeMetadataChanges){for(var l=[],h=0,m=s.docChanges;h<m.length;h++){var y=m[h];3!==y.type&&l.push(y)}s=new Bl(s.query,s.docs,s.oldDocs,l,s.mutatedKeys,s.fromCache,s.syncStateChanged,!0)}var b=!1;return this.Yr?this.Zr(s)&&(this.Jr.next(s),b=!0):this.eo(s,this.onlineState)&&(this.no(s),b=!0),this.Xr=s,b},c.prototype.onError=function(s){this.Jr.error(s)},c.prototype.zr=function(s){this.onlineState=s;var l=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,s)&&(this.no(this.Xr),l=!0),l},c.prototype.eo=function(s,l){return!s.fromCache||!(this.options.so&&"Offline"!==l||s.docs.isEmpty()&&"Offline"!==l)},c.prototype.Zr=function(s){return s.docChanges.length>0||!!(s.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==s.hasPendingWrites)&&!0===this.options.includeMetadataChanges},c.prototype.no=function(s){s=Bl.fromInitialDocuments(s.query,s.docs,s.mutatedKeys,s.fromCache),this.Yr=!0,this.Jr.next(s)},c}(),Wg=function(){function c(s,l){this.payload=s,this.byteLength=l}return c.prototype.io=function(){return"metadata"in this.payload},c}(),Jf=function(){function c(s){this.R=s}return c.prototype.qn=function(s){return Ko(this.R,s)},c.prototype.Un=function(s){return s.metadata.exists?Yr(this.R,s.document,!1):ui.newNoDocument(this.qn(s.metadata.name),this.Kn(s.metadata.readTime))},c.prototype.Kn=function(s){return Kr(s)},c}();!function(){function c(s,l,h){this.ro=s,this.localStore=l,this.R=h,this.queries=[],this.documents=[],this.progress=function Kg(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}(s)}c.prototype.oo=function(s){this.progress.bytesLoaded+=s.byteLength;var l=this.progress.documentsLoaded;return s.payload.namedQuery?this.queries.push(s.payload.namedQuery):s.payload.documentMetadata?(this.documents.push({metadata:s.payload.documentMetadata}),s.payload.documentMetadata.exists||++l):s.payload.document&&(this.documents[this.documents.length-1].document=s.payload.document,++l),l!==this.progress.documentsLoaded?(this.progress.documentsLoaded=l,Object.assign({},this.progress)):null},c.prototype.co=function(s){for(var l=new Map,h=new Jf(this.R),m=0,y=s;m<y.length;m++){var b=y[m];if(b.metadata.queries)for(var C=h.qn(b.metadata.name),x=0,O=b.metadata.queries;x<O.length;x++){var P=O[x],B=(l.get(P)||Dn()).add(C);l.set(P,B)}}return l},c.prototype.complete=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l,h,m,y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return[4,Pg(this.localStore,new Jf(this.R),this.documents,this.ro.id)];case 1:s=b.sent(),l=this.co(this.documents),h=0,m=this.queries,b.label=2;case 2:return h<m.length?[4,uh(this.localStore,y=m[h],l.get(y.name))]:[3,5];case 3:b.sent(),b.label=4;case 4:return h++,[3,2];case 5:return[2,(this.progress.taskState="Success",new tn(Object.assign({},this.progress),s))]}})})}}();var vh=function(c){this.key=c},yh=function(c){this.key=c},Ul=function(){function c(s,l){this.query=s,this.uo=l,this.ao=null,this.current=!1,this.ho=Dn(),this.mutatedKeys=Dn(),this.lo=va(s),this.fo=new Zf(this.lo)}return Object.defineProperty(c.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),c.prototype._o=function(s,l){var h=this,m=l?l.mo:new gh,y=l?l.fo:this.fo,b=l?l.mutatedKeys:this.mutatedKeys,C=y,x=!1,O=Ud(this.query)&&y.size===this.query.limit?y.last():null,P=il(this.query)&&y.size===this.query.limit?y.first():null;if(s.inorderTraversal(function(z,re){var te=y.get(z),de=vc(h.query,re)?re:null,Me=!!te&&h.mutatedKeys.has(te.key),je=!!de&&(de.hasLocalMutations||h.mutatedKeys.has(de.key)&&de.hasCommittedMutations),at=!1;te&&de?te.data.isEqual(de.data)?Me!==je&&(m.track({type:3,doc:de}),at=!0):h.yo(te,de)||(m.track({type:2,doc:de}),at=!0,(O&&h.lo(de,O)>0||P&&h.lo(de,P)<0)&&(x=!0)):!te&&de?(m.track({type:0,doc:de}),at=!0):te&&!de&&(m.track({type:1,doc:te}),at=!0,(O||P)&&(x=!0)),at&&(de?(C=C.add(de),b=je?b.add(z):b.delete(z)):(C=C.delete(z),b=b.delete(z)))}),Ud(this.query)||il(this.query))for(;C.size>this.query.limit;){var B=Ud(this.query)?C.last():C.first();C=C.delete(B.key),b=b.delete(B.key),m.track({type:1,doc:B})}return{fo:C,mo:m,Nn:x,mutatedKeys:b}},c.prototype.yo=function(s,l){return s.hasLocalMutations&&l.hasCommittedMutations&&!l.hasLocalMutations},c.prototype.applyChanges=function(s,l,h){var m=this,y=this.fo;this.fo=s.fo,this.mutatedKeys=s.mutatedKeys;var b=s.mo.jr();b.sort(function(P,B){return re=B.type,(te=function(de){switch(de){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}})(P.type)-te(re)||m.lo(P.doc,B.doc);var re,te}),this.po(h);var C=l?this.Eo():[],x=0===this.ho.size&&this.current?1:0,O=x!==this.ao;return this.ao=x,0!==b.length||O?{snapshot:new Bl(this.query,s.fo,y,b,s.mutatedKeys,0===x,O,!1),To:C}:{To:C}},c.prototype.zr=function(s){return this.current&&"Offline"===s?(this.current=!1,this.applyChanges({fo:this.fo,mo:new gh,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},c.prototype.Io=function(s){return!this.uo.has(s)&&!!this.fo.has(s)&&!this.fo.get(s).hasLocalMutations},c.prototype.po=function(s){var l=this;s&&(s.addedDocuments.forEach(function(h){return l.uo=l.uo.add(h)}),s.modifiedDocuments.forEach(function(h){}),s.removedDocuments.forEach(function(h){return l.uo=l.uo.delete(h)}),this.current=s.current)},c.prototype.Eo=function(){var s=this;if(!this.current)return[];var l=this.ho;this.ho=Dn(),this.fo.forEach(function(m){s.Io(m.key)&&(s.ho=s.ho.add(m.key))});var h=[];return l.forEach(function(m){s.ho.has(m)||h.push(new yh(m))}),this.ho.forEach(function(m){l.has(m)||h.push(new vh(m))}),h},c.prototype.Ao=function(s){this.uo=s.Bn,this.ho=Dn();var l=this._o(s.documents);return this.applyChanges(l,!0)},c.prototype.Ro=function(){return Bl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},c}(),Tm=function(c,s,l){this.query=c,this.targetId=s,this.view=l},ep=function(c){this.key=c,this.bo=!1},Yg=function(){function c(s,l,h,m,y,b){this.localStore=s,this.remoteStore=l,this.eventManager=h,this.sharedClientState=m,this.currentUser=y,this.maxConcurrentLimboResolutions=b,this.vo={},this.Po=new Tl(function(C){return Dg(C)},al),this.Vo=new Map,this.So=new Set,this.Do=new jn(He.comparator),this.Co=new Map,this.No=new Ol,this.xo={},this.ko=new Map,this.Fo=_r.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(c.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),c}();function tp(c,s){return(0,T.mG)(this,void 0,void 0,function(){var l,m,y,b,C;return(0,T.Jh)(this,function(x){switch(x.label){case 0:return l=ku(c),(y=l.Po.get(s))?(l.sharedClientState.addLocalQueryTarget(y.targetId),m=y.view.Ro(),[3,4]):[3,1];case 1:return[4,ys(l.localStore,xi(s))];case 2:return b=x.sent(),C=l.sharedClientState.addLocalQueryTarget(b.targetId),[4,_h(l,s,b.targetId,"current"===C)];case 3:m=x.sent(),l.isPrimaryClient&&qf(l.remoteStore,b),x.label=4;case 4:return[2,m]}})})}function _h(c,s,l,h){return(0,T.mG)(this,void 0,void 0,function(){var m,y,b,C,x,O;return(0,T.Jh)(this,function(P){switch(P.label){case 0:return c.Oo=function(B,z,re){return function(te,de,Me,je){return(0,T.mG)(this,void 0,void 0,function(){var at,ht,Jt;return(0,T.Jh)(this,function(En){switch(En.label){case 0:return(at=de.view._o(Me)).Nn?[4,ch(te.localStore,de.query,!1).then(function(Vn){return de.view._o(Vn.documents,at)})]:[3,2];case 1:at=En.sent(),En.label=2;case 2:return ht=je&&je.targetChanges.get(de.targetId),Jt=de.view.applyChanges(at,te.isPrimaryClient,ht),[2,(Ru(te,de.targetId,Jt.To),Jt.snapshot)]}})})}(c,B,z,re)},[4,ch(c.localStore,s,!0)];case 1:return m=P.sent(),y=new Ul(s,m.Bn),b=y._o(m.documents),C=bc.createSynthesizedTargetChangeForCurrentChange(l,h&&"Offline"!==c.onlineState),x=y.applyChanges(b,c.isPrimaryClient,C),Ru(c,l,x.To),O=new Tm(s,l,y),[2,(c.Po.set(s,O),c.Vo.has(l)?c.Vo.get(l).push(s):c.Vo.set(l,[s]),x.snapshot)]}})})}function Ys(c,s){return(0,T.mG)(this,void 0,void 0,function(){var l,h,m;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return l=Pe(c),h=l.Po.get(s),(m=l.Vo.get(h.targetId)).length>1?[2,(l.Vo.set(h.targetId,m.filter(function(b){return!al(b,s)})),void l.Po.delete(s))]:l.isPrimaryClient?(l.sharedClientState.removeLocalQueryTarget(h.targetId),l.sharedClientState.isActiveQueryTarget(h.targetId)?[3,2]:[4,Cc(l.localStore,h.targetId,!1).then(function(){l.sharedClientState.clearQueryState(h.targetId),Ll(l.remoteStore,h.targetId),Zs(l,h.targetId)}).catch(Xo)]):[3,3];case 1:y.sent(),y.label=2;case 2:return[3,5];case 3:return Zs(l,h.targetId),[4,Cc(l.localStore,h.targetId,!0)];case 4:y.sent(),y.label=5;case 5:return[2]}})})}function np(c,s,l){return(0,T.mG)(this,void 0,void 0,function(){var h,m,y,b;return(0,T.Jh)(this,function(C){switch(C.label){case 0:h=Ou(c),C.label=1;case 1:return C.trys.push([1,5,,6]),[4,(x=h.localStore,O=s,B=Pe(x),z=Cn.now(),re=O.reduce(function(te,de){return te.add(de.key)},Dn()),B.persistence.runTransaction("Locally write mutations","readwrite",function(te){return B.Mn.pn(te,re).next(function(de){P=de;for(var Me=[],je=0,at=O;je<at.length;je++){var ht=at[je],Jt=Ef(ht,P.get(ht.key));null!=Jt&&Me.push(new Ar(ht.key,Jt,Kp(Jt.value.mapValue),yn.exists(!0)))}return B._n.addMutationBatch(te,z,Me,O)})}).then(function(te){return te.applyToLocalDocumentSet(P),{batchId:te.batchId,changes:P}}))];case 2:return m=C.sent(),h.sharedClientState.addPendingMutation(m.batchId),function(x,O,P){var B=x.xo[x.currentUser.toKey()];B||(B=new jn(Be)),B=B.insert(O,P),x.xo[x.currentUser.toKey()]=B}(h,m.batchId,l),[4,bs(h,m.changes)];case 3:return C.sent(),[4,Su(h.remoteStore)];case 4:return C.sent(),[3,6];case 5:return y=C.sent(),b=xu(y,"Failed to persist write"),l.reject(b),[3,6];case 6:return[2]}var x,O,P,B,z,re})})}function xm(c,s){return(0,T.mG)(this,void 0,void 0,function(){var l,h;return(0,T.Jh)(this,function(m){switch(m.label){case 0:l=Pe(c),m.label=1;case 1:return m.trys.push([1,4,,6]),[4,iy(l.localStore,s)];case 2:return h=m.sent(),s.targetChanges.forEach(function(y,b){var C=l.Co.get(b);C&&(Ze(y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size<=1),y.addedDocuments.size>0?C.bo=!0:y.modifiedDocuments.size>0?Ze(C.bo):y.removedDocuments.size>0&&(Ze(C.bo),C.bo=!1))}),[4,bs(l,h,s)];case 3:return m.sent(),[3,6];case 4:return[4,Xo(m.sent())];case 5:return m.sent(),[3,6];case 6:return[2]}})})}function Zg(c,s,l){var h=Pe(c);if(h.isPrimaryClient&&0===l||!h.isPrimaryClient&&1===l){var m=[];h.Po.forEach(function(y,b){var C=b.view.zr(s);C.snapshot&&m.push(C.snapshot)}),function(y,b){var C=Pe(y);C.onlineState=b;var x=!1;C.queries.forEach(function(O,P){for(var B=0,z=P.listeners;B<z.length;B++)z[B].zr(b)&&(x=!0)}),x&&Sm(C)}(h.eventManager,s),m.length&&h.vo._r(m),h.onlineState=s,h.isPrimaryClient&&h.sharedClientState.setOnlineState(s)}}function dy(c,s,l){return(0,T.mG)(this,void 0,void 0,function(){var h,m,y,b,C,x;return(0,T.Jh)(this,function(O){switch(O.label){case 0:return(h=Pe(c)).sharedClientState.updateQueryState(s,"rejected",l),m=h.Co.get(s),(y=m&&m.key)?(b=(b=new jn(He.comparator)).insert(y,ui.newNoDocument(y,At.min())),C=Dn().add(y),x=new If(At.min(),new Map,new Gn(Be),b,C),[4,xm(h,x)]):[3,2];case 1:return O.sent(),h.Do=h.Do.remove(y),h.Co.delete(s),rp(h),[3,4];case 2:return[4,Cc(h.localStore,s,!1).then(function(){return Zs(h,s,l)}).catch(Xo)];case 3:O.sent(),O.label=4;case 4:return[2]}})})}function Hl(c,s){return(0,T.mG)(this,void 0,void 0,function(){var l,h,m;return(0,T.Jh)(this,function(y){switch(y.label){case 0:l=Pe(c),h=s.batch.batchId,y.label=1;case 1:return y.trys.push([1,4,,6]),[4,Vf(l.localStore,s)];case 2:return m=y.sent(),bh(l,h,null),zl(l,h),l.sharedClientState.updateMutationState(h,"acknowledged"),[4,bs(l,m)];case 3:return y.sent(),[3,6];case 4:return[4,Xo(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}})})}function Xg(c,s,l){return(0,T.mG)(this,void 0,void 0,function(){var h,m;return(0,T.Jh)(this,function(y){switch(y.label){case 0:h=Pe(c),y.label=1;case 1:return y.trys.push([1,4,,6]),[4,(b=h.localStore,C=s,x=Pe(b),x.persistence.runTransaction("Reject batch","readwrite-primary",function(O){var P;return x._n.lookupMutationBatch(O,C).next(function(B){return Ze(null!==B),P=B.keys(),x._n.removeMutationBatch(O,B)}).next(function(){return x._n.performConsistencyCheck(O)}).next(function(){return x.Mn.pn(O,P)})}))];case 2:return m=y.sent(),bh(h,s,l),zl(h,s),h.sharedClientState.updateMutationState(s,"rejected",l),[4,bs(h,m)];case 3:return y.sent(),[3,6];case 4:return[4,Xo(y.sent())];case 5:return y.sent(),[3,6];case 6:return[2]}var b,C,x})})}function Am(c,s){return(0,T.mG)(this,void 0,void 0,function(){var l,h,m,y,b;return(0,T.Jh)(this,function(C){switch(C.label){case 0:Oo((l=Pe(c)).remoteStore)||Se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),C.label=1;case 1:return C.trys.push([1,3,,4]),[4,(x=l.localStore,O=Pe(x),O.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(P){return O._n.getHighestUnacknowledgedBatchId(P)}))];case 2:return-1===(h=C.sent())?[2,void s.resolve()]:((m=l.ko.get(h)||[]).push(s),l.ko.set(h,m),[3,4]);case 3:return y=C.sent(),b=xu(y,"Initialization of waitForPendingWrites() operation failed"),s.reject(b),[3,4];case 4:return[2]}var x,O})})}function zl(c,s){(c.ko.get(s)||[]).forEach(function(l){l.resolve()}),c.ko.delete(s)}function bh(c,s,l){var h=Pe(c),m=h.xo[h.currentUser.toKey()];if(m){var y=m.get(s);y&&(l?y.reject(l):y.resolve(),m=m.remove(s)),h.xo[h.currentUser.toKey()]=m}}function Zs(c,s,l){void 0===l&&(l=null),c.sharedClientState.removeLocalQueryTarget(s);for(var h=0,m=c.Vo.get(s);h<m.length;h++){var y=m[h];c.Po.delete(y),l&&c.vo.Mo(y,l)}c.Vo.delete(s),c.isPrimaryClient&&c.No.Zn(s).forEach(function(b){c.No.containsKey(b)||$l(c,b)})}function $l(c,s){c.So.delete(s.path.canonicalString());var l=c.Do.get(s);null!==l&&(Ll(c.remoteStore,l),c.Do=c.Do.remove(s),c.Co.delete(l),rp(c))}function Ru(c,s,l){for(var h=0,m=l;h<m.length;h++){var y=m[h];y instanceof vh?(c.No.addReference(y.key,s),Tc(c,y)):y instanceof yh?(Se("SyncEngine","Document no longer in limbo: "+y.key),c.No.removeReference(y.key,s),c.No.containsKey(y.key)||$l(c,y.key)):et()}}function Tc(c,s){var l=s.key,h=l.path.canonicalString();c.Do.get(l)||c.So.has(h)||(Se("SyncEngine","New document in limbo: "+l),c.So.add(h),rp(c))}function rp(c){for(;c.So.size>0&&c.Do.size<c.maxConcurrentLimboResolutions;){var s=c.So.values().next().value;c.So.delete(s);var l=new He(Wt.fromString(s)),h=c.Fo.next();c.Co.set(h,new ep(l)),c.Do=c.Do.insert(l,h),qf(c.remoteStore,new nh(xi(Vd(l.path)),h,2,Hr.o))}}function bs(c,s,l){return(0,T.mG)(this,void 0,void 0,function(){var h,m,y,b;return(0,T.Jh)(this,function(C){switch(C.label){case 0:return h=Pe(c),m=[],y=[],b=[],h.Po.isEmpty()?[3,3]:(h.Po.forEach(function(x,O){b.push(h.Oo(O,s,l).then(function(P){if(P){h.isPrimaryClient&&h.sharedClientState.updateQueryState(O.targetId,P.fromCache?"not-current":"current"),m.push(P);var B=pm.Pn(O.targetId,P);y.push(B)}}))}),[4,Promise.all(b)]);case 1:return C.sent(),h.vo._r(m),[4,function(x,O){return(0,T.mG)(this,void 0,void 0,function(){var P,B,z,re,te,de,Me,at;return(0,T.Jh)(this,function(ht){switch(ht.label){case 0:P=Pe(x),ht.label=1;case 1:return ht.trys.push([1,3,,4]),[4,P.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Jt){return Te.forEach(O,function(En){return Te.forEach(En.bn,function(Vn){return P.persistence.referenceDelegate.addReference(Jt,En.targetId,Vn)}).next(function(){return Te.forEach(En.vn,function(Vn){return P.persistence.referenceDelegate.removeReference(Jt,En.targetId,Vn)})})})})];case 2:return ht.sent(),[3,4];case 3:if(!_u(B=ht.sent()))throw B;return Se("LocalStore","Failed to update sequence numbers: "+B),[3,4];case 4:for(z=0,re=O;z<re.length;z++)de=(te=re[z]).targetId,te.fromCache||(Me=P.kn.get(de),at=Me.withLastLimboFreeSnapshotVersion(Me.snapshotVersion),P.kn=P.kn.insert(de,at));return[2]}})})}(h.localStore,y)];case 2:C.sent(),C.label=3;case 3:return[2]}})})}function wh(c,s){return(0,T.mG)(this,void 0,void 0,function(){var l,h;return(0,T.Jh)(this,function(m){switch(m.label){case 0:return(l=Pe(c)).currentUser.isEqual(s)?[3,3]:(Se("SyncEngine","User change. New user:",s.toKey()),[4,Bf(l.localStore,s)]);case 1:return h=m.sent(),l.currentUser=s,(y=l).ko.forEach(function(C){C.forEach(function(x){x.reject(new _e(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),y.ko.clear(),l.sharedClientState.handleUserChange(s,h.removedBatchIds,h.addedBatchIds),[4,bs(l,h.Ln)];case 2:m.sent(),m.label=3;case 3:return[2]}var y})})}function xc(c,s){var l=Pe(c),h=l.Co.get(s);if(h&&h.bo)return Dn().add(h.key);var m=Dn(),y=l.Vo.get(s);if(!y)return m;for(var b=0,C=y;b<C.length;b++){var O=l.Po.get(C[b]);m=m.unionWith(O.view.wo)}return m}function Mm(c,s){return(0,T.mG)(this,void 0,void 0,function(){var l,h,m;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return[4,ch((l=Pe(c)).localStore,s.query,!0)];case 1:return h=y.sent(),m=s.view.Ao(h),[2,(l.isPrimaryClient&&Ru(l,s.targetId,m.To),m)]}})})}function ql(c){return(0,T.mG)(this,void 0,void 0,function(){var s;return(0,T.Jh)(this,function(l){return[2,vm((s=Pe(c)).localStore).then(function(h){return bs(s,h)})]})})}function hy(c,s,l,h){return(0,T.mG)(this,void 0,void 0,function(){var m,y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return[4,(C=(m=Pe(c)).localStore,x=s,O=Pe(C),P=Pe(O._n),O.persistence.runTransaction("Lookup mutation documents","readonly",function(B){return P.jt(B,x).next(function(z){return z?O.Mn.pn(B,z):Te.resolve(null)})}))];case 1:return null===(y=b.sent())?[3,6]:"pending"!==l?[3,3]:[4,Su(m.remoteStore)];case 2:return b.sent(),[3,4];case 3:"acknowledged"===l||"rejected"===l?(bh(m,s,h||null),zl(m,s),function(C,x){Pe(Pe(C)._n).Gt(x)}(m.localStore,s)):et(),b.label=4;case 4:return[4,bs(m,y)];case 5:return b.sent(),[3,7];case 6:Se("SyncEngine","Cannot apply mutation batch with id: "+s),b.label=7;case 7:return[2]}var C,x,O,P})})}function Rm(c,s){return(0,T.mG)(this,void 0,void 0,function(){var l,h,m,y,b,x,O;return(0,T.Jh)(this,function(P){switch(P.label){case 0:return ku(l=Pe(c)),Ou(l),!0!==s||!0===l.$o?[3,3]:(h=l.sharedClientState.getAllActiveQueryTargets(),[4,ip(l,h.toArray())]);case 1:return m=P.sent(),l.$o=!0,[4,jl(l.remoteStore,!0)];case 2:for(P.sent(),y=0,b=m;y<b.length;y++)qf(l.remoteStore,b[y]);return[3,7];case 3:return!1!==s||!1===l.$o?[3,7]:(x=[],O=Promise.resolve(),l.Vo.forEach(function(B,z){l.sharedClientState.isLocalQueryTarget(z)?x.push(z):O=O.then(function(){return Zs(l,z),Cc(l.localStore,z,!0)}),Ll(l.remoteStore,z)}),[4,O]);case 4:return P.sent(),[4,ip(l,x)];case 5:return P.sent(),(z=Pe(l)).Co.forEach(function(re,te){Ll(z.remoteStore,te)}),z.No.ts(),z.Co=new Map,z.Do=new jn(He.comparator),l.$o=!1,[4,jl(l.remoteStore,!1)];case 6:P.sent(),P.label=7;case 7:return[2]}var z})})}function ip(c,s,l){return(0,T.mG)(this,void 0,void 0,function(){var h,m,y,b,C,x,O,P,B,z,te,de,Me;return(0,T.Jh)(this,function(je){switch(je.label){case 0:h=Pe(c),m=[],y=[],b=0,C=s,je.label=1;case 1:return b<C.length?(O=void 0,(P=h.Vo.get(x=C[b]))&&0!==P.length?[4,ys(h.localStore,xi(P[0]))]:[3,7]):[3,13];case 2:O=je.sent(),B=0,z=P,je.label=3;case 3:return B<z.length?(te=h.Po.get(z[B]),[4,Mm(h,te)]):[3,6];case 4:(de=je.sent()).snapshot&&y.push(de.snapshot),je.label=5;case 5:return B++,[3,3];case 6:return[3,11];case 7:return[4,Uf(h.localStore,x)];case 8:return Me=je.sent(),[4,ys(h.localStore,Me)];case 9:return O=je.sent(),[4,_h(h,op(Me),x,!1)];case 10:je.sent(),je.label=11;case 11:m.push(O),je.label=12;case 12:return b++,[3,1];case 13:return[2,(h.vo._r(y),m)]}})})}function op(c){return Eg(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function fy(c){var s=Pe(c);return Pe(Pe(s.localStore).persistence).fn()}function sp(c,s,l,h){return(0,T.mG)(this,void 0,void 0,function(){var m,y,b;return(0,T.Jh)(this,function(C){switch(C.label){case 0:return(m=Pe(c)).$o?(Se("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!m.Vo.has(s))return[3,8];switch(l){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,vm(m.localStore)];case 3:return y=C.sent(),b=If.createSynthesizedRemoteEventForCurrentChange(s,"current"===l),[4,bs(m,y,b)];case 4:return C.sent(),[3,8];case 5:return[4,Cc(m.localStore,s,!0)];case 6:return C.sent(),Zs(m,s,h),[3,8];case 7:et(),C.label=8;case 8:return[2]}})})}function km(c,s,l){return(0,T.mG)(this,void 0,void 0,function(){var h,m,y,b,C,x,O,P,B;return(0,T.Jh)(this,function(re){switch(re.label){case 0:if(!(h=ku(c)).$o)return[3,10];m=0,y=s,re.label=1;case 1:return m<y.length?h.Vo.has(b=y[m])?(Se("SyncEngine","Adding an already active target "+b),[3,5]):[4,Uf(h.localStore,b)]:[3,6];case 2:return C=re.sent(),[4,ys(h.localStore,C)];case 3:return x=re.sent(),[4,_h(h,op(C),x.targetId,!1)];case 4:re.sent(),qf(h.remoteStore,x),re.label=5;case 5:return m++,[3,1];case 6:O=function(te){return(0,T.Jh)(this,function(de){switch(de.label){case 0:return h.Vo.has(te)?[4,Cc(h.localStore,te,!1).then(function(){Ll(h.remoteStore,te),Zs(h,te)}).catch(Xo)]:[3,2];case 1:de.sent(),de.label=2;case 2:return[2]}})},P=0,B=l,re.label=7;case 7:return P<B.length?[5,O(B[P])]:[3,10];case 8:re.sent(),re.label=9;case 9:return P++,[3,7];case 10:return[2]}})})}function ku(c){var s=Pe(c);return s.remoteStore.remoteSyncer.applyRemoteEvent=xm.bind(null,s),s.remoteStore.remoteSyncer.getRemoteKeysForTarget=xc.bind(null,s),s.remoteStore.remoteSyncer.rejectListen=dy.bind(null,s),s.vo._r=Im.bind(null,s.eventManager),s.vo.Mo=Xf.bind(null,s.eventManager),s}function Ou(c){var s=Pe(c);return s.remoteStore.remoteSyncer.applySuccessfulWrite=Hl.bind(null,s),s.remoteStore.remoteSyncer.rejectFailedWrite=Xg.bind(null,s),s}var Om=function(){function c(){this.synchronizeTabs=!1}return c.prototype.initialize=function(s){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(l){switch(l.label){case 0:return this.R=Aa(s.databaseInfo.databaseId),this.sharedClientState=this.Bo(s),this.persistence=this.qo(s),[4,this.persistence.start()];case 1:return l.sent(),this.gcScheduler=this.Uo(s),this.localStore=this.Ko(s),[2]}})})},c.prototype.Uo=function(s){return null},c.prototype.Ko=function(s){return mm(this.persistence,new Rl,s.initialUser,this.R)},c.prototype.qo=function(s){return new ay(jg.bs,this.R)},c.prototype.Bo=function(s){return new Ws},c.prototype.terminate=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){switch(s.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return s.sent(),[4,this.persistence.shutdown()];case 2:return s.sent(),[2]}})})},c}(),Qg=function(c){function s(l,h,m){var y=this;return(y=c.call(this)||this).Qo=l,y.cacheSizeBytes=h,y.forceOwnership=m,y.synchronizeTabs=!1,y}return(0,T.ZT)(s,c),s.prototype.initialize=function(l){return(0,T.mG)(this,void 0,void 0,function(){var h=this;return(0,T.Jh)(this,function(m){switch(m.label){case 0:return[4,c.prototype.initialize.call(this,l)];case 1:return m.sent(),[4,oy(this.localStore)];case 2:return m.sent(),[4,this.Qo.initialize(this,l)];case 3:return m.sent(),[4,Ou(this.Qo.syncEngine)];case 4:return m.sent(),[4,Su(this.Qo.remoteStore)];case 5:return m.sent(),[4,this.persistence.He(function(){return h.gcScheduler&&!h.gcScheduler.started&&h.gcScheduler.start(h.localStore),Promise.resolve()})];case 6:return m.sent(),[2]}})})},s.prototype.Ko=function(l){return mm(this.persistence,new Rl,l.initialUser,this.R)},s.prototype.Uo=function(l){return new oh(this.persistence.referenceDelegate.garbageCollector,l.asyncQueue)},s.prototype.qo=function(l){var h=Ml(l.databaseInfo.databaseId,l.databaseInfo.persistenceKey),m=void 0!==this.cacheSizeBytes?vs.withCacheSize(this.cacheSizeBytes):vs.DEFAULT;return new ny(this.synchronizeTabs,h,l.clientId,m,l.asyncQueue,Cu(),Dc(),this.R,this.sharedClientState,!!this.forceOwnership)},s.prototype.Bo=function(l){return new Ws},s}(Om),O_=function(c){function s(l,h){var m=this;return(m=c.call(this,l,h,!1)||this).Qo=l,m.cacheSizeBytes=h,m.synchronizeTabs=!0,m}return(0,T.ZT)(s,c),s.prototype.initialize=function(l){return(0,T.mG)(this,void 0,void 0,function(){var h,m=this;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return[4,c.prototype.initialize.call(this,l)];case 1:return y.sent(),h=this.Qo.syncEngine,this.sharedClientState instanceof wu?(this.sharedClientState.syncEngine={ui:hy.bind(null,h),ai:sp.bind(null,h),hi:km.bind(null,h),fn:fy.bind(null,h),ci:ql.bind(null,h)},[4,this.sharedClientState.start()]):[3,3];case 2:y.sent(),y.label=3;case 3:return[4,this.persistence.He(function(b){return(0,T.mG)(m,void 0,void 0,function(){return(0,T.Jh)(this,function(C){switch(C.label){case 0:return[4,Rm(this.Qo.syncEngine,b)];case 1:return C.sent(),this.gcScheduler&&(b&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):b||this.gcScheduler.stop()),[2]}})})})];case 4:return y.sent(),[2]}})})},s.prototype.Bo=function(l){var h=Cu();if(!wu.yt(h))throw new _e(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var m=Ml(l.databaseInfo.databaseId,l.databaseInfo.persistenceKey);return new wu(h,l.asyncQueue,m,l.clientId,l.initialUser)},s}(Qg),Eh=function(){function c(){}return c.prototype.initialize=function(s,l){return(0,T.mG)(this,void 0,void 0,function(){var h=this;return(0,T.Jh)(this,function(m){switch(m.label){case 0:return this.localStore?[3,2]:(this.localStore=s.localStore,this.sharedClientState=s.sharedClientState,this.datastore=this.createDatastore(l),this.remoteStore=this.createRemoteStore(l),this.eventManager=this.createEventManager(l),this.syncEngine=this.createSyncEngine(l,!s.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(y){return Zg(h.syncEngine,y,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wh.bind(null,this.syncEngine),[4,jl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:m.sent(),m.label=2;case 2:return[2]}})})},c.prototype.createEventManager=function(s){return new Vl},c.prototype.createDatastore=function(s){var h=Aa(s.databaseInfo.databaseId),m=new Eu(s.databaseInfo);return new cy(s.credentials,m,h)},c.prototype.createRemoteStore=function(s){var l,h,m,y,b,C=this;return l=this.localStore,h=this.datastore,m=s.asyncQueue,y=function(x){return Zg(C.syncEngine,x,0)},b=$f.yt()?new $f:new dh,new hh(l,h,m,y,b)},c.prototype.createSyncEngine=function(s,l){return O=l,P=new Yg(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,s.initialUser,s.maxConcurrentLimboResolutions),O&&(P.$o=!0),P;var O,P},c.prototype.terminate=function(){return function(s){return(0,T.mG)(this,void 0,void 0,function(){var l;return(0,T.Jh)(this,function(h){switch(h.label){case 0:return l=Pe(s),Se("RemoteStore","RemoteStore shutting down."),l.Or.add(5),[4,Fl(l)];case 1:return h.sent(),l.Lr.shutdown(),l.Br.set("Unknown"),[2]}})})}(this.remoteStore)},c}(),Ra=function(){function c(s){this.observer=s,this.muted=!1}return c.prototype.next=function(s){this.observer.next&&this.jo(this.observer.next,s)},c.prototype.error=function(s){this.observer.error?this.jo(this.observer.error,s):console.error("Uncaught Error in snapshot listener:",s)},c.prototype.Wo=function(){this.muted=!0},c.prototype.jo=function(s,l){var h=this;this.muted||setTimeout(function(){h.muted||s(l)},0)},c}(),ap=(function(){function c(s,l){var h=this;this.Go=s,this.R=l,this.metadata=new Wn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(m){m&&m.io()?h.metadata.resolve(m.payload.metadata):h.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(m?.payload)))},function(m){return h.metadata.reject(m)})}c.prototype.close=function(){return this.Go.cancel()},c.prototype.getMetadata=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){return[2,this.metadata.promise]})})},c.prototype.Lo=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){switch(s.label){case 0:return[4,this.getMetadata()];case 1:return[2,(s.sent(),this.Ho())]}})})},c.prototype.Ho=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l,h,m;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return[4,this.Jo()];case 1:return null===(s=y.sent())?[2,null]:(l=this.zo.decode(s),h=Number(l),isNaN(h)&&this.Yo("length string ("+l+") is not valid number"),[4,this.Xo(h)]);case 2:return m=y.sent(),[2,new Wg(JSON.parse(m),s.length+h)]}})})},c.prototype.Zo=function(){return this.buffer.findIndex(function(s){return s==="{".charCodeAt(0)})},c.prototype.Jo=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l;return(0,T.Jh)(this,function(h){switch(h.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(h.sent())return[3,3];h.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((s=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),l=this.buffer.slice(0,s),[2,(this.buffer=this.buffer.slice(s),l)])}})})},c.prototype.Xo=function(s){return(0,T.mG)(this,void 0,void 0,function(){var l;return(0,T.Jh)(this,function(h){switch(h.label){case 0:return this.buffer.length<s?[4,this.tc()]:[3,3];case 1:h.sent()&&this.Yo("Reached the end of bundle when more is expected."),h.label=2;case 2:return[3,0];case 3:return l=this.zo.decode(this.buffer.slice(0,s)),[2,(this.buffer=this.buffer.slice(s),l)]}})})},c.prototype.Yo=function(s){throw this.Go.cancel(),new Error("Invalid bundle format: "+s)},c.prototype.tc=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l;return(0,T.Jh)(this,function(h){switch(h.label){case 0:return[4,this.Go.read()];case 1:return(s=h.sent()).done||((l=new Uint8Array(this.buffer.length+s.value.length)).set(this.buffer),l.set(s.value,this.buffer.length),this.buffer=l),[2,s.done]}})})}}(),function(){function c(s){this.datastore=s,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return c.prototype.lookup=function(s){return(0,T.mG)(this,void 0,void 0,function(){var l,h=this;return(0,T.Jh)(this,function(m){switch(m.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new _e(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(y,b){return(0,T.mG)(this,void 0,void 0,function(){var C,x,O,P,B,z;return(0,T.Jh)(this,function(re){switch(re.label){case 0:return C=Pe(y),x=Ca(C.R)+"/documents",O={documents:b.map(function(te){return pl(C.R,te)})},[4,C.$i("BatchGetDocuments",x,O)];case 1:return P=re.sent(),B=new Map,P.forEach(function(te){var Me,je,de=(Me=C.R,"found"in(je=te)?function(at,ht){Ze(!!ht.found);var Jt=Ko(at,ht.found.name),En=Kr(ht.found.updateTime),Vn=new ci({mapValue:{fields:ht.found.fields}});return ui.newFoundDocument(Jt,En,Vn)}(Me,je):"missing"in je?function(at,ht){Ze(!!ht.missing),Ze(!!ht.readTime);var Jt=Ko(at,ht.missing),En=Kr(ht.readTime);return ui.newNoDocument(Jt,En)}(Me,je):et());B.set(de.key.toString(),de)}),z=[],[2,(b.forEach(function(te){var de=B.get(te.toString());Ze(!!de),z.push(de)}),z)]}})})}(this.datastore,s)];case 1:return[2,((l=m.sent()).forEach(function(y){return h.recordVersion(y)}),l)]}})})},c.prototype.set=function(s,l){this.write(l.toMutation(s,this.precondition(s))),this.writtenDocs.add(s.toString())},c.prototype.update=function(s,l){try{this.write(l.toMutation(s,this.preconditionForUpdate(s)))}catch(h){this.lastWriteError=h}this.writtenDocs.add(s.toString())},c.prototype.delete=function(s){this.write(new dl(s,this.precondition(s))),this.writtenDocs.add(s.toString())},c.prototype.commit=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l=this;return(0,T.Jh)(this,function(h){switch(h.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return s=this.readVersions,this.mutations.forEach(function(m){s.delete(m.key.toString())}),s.forEach(function(m,y){var b=He.fromPath(y);l.mutations.push(new _c(b,l.precondition(b)))}),[4,function(m,y){return(0,T.mG)(this,void 0,void 0,function(){var b,C,x;return(0,T.Jh)(this,function(O){switch(O.label){case 0:return b=Pe(m),C=Ca(b.R)+"/documents",x={writes:y.map(function(P){return Yo(b.R,P)})},[4,b.Ni("Commit",C,x)];case 1:return O.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return h.sent(),this.committed=!0,[2]}})})},c.prototype.recordVersion=function(s){var l;if(s.isFoundDocument())l=s.version;else{if(!s.isNoDocument())throw et();l=At.min()}var h=this.readVersions.get(s.key.toString());if(h){if(!l.isEqual(h))throw new _e(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(s.key.toString(),l)},c.prototype.precondition=function(s){var l=this.readVersions.get(s.toString());return!this.writtenDocs.has(s.toString())&&l?yn.updateTime(l):yn.none()},c.prototype.preconditionForUpdate=function(s){var l=this.readVersions.get(s.toString());if(!this.writtenDocs.has(s.toString())&&l){if(l.isEqual(At.min()))throw new _e(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yn.updateTime(l)}return yn.exists(!0)},c.prototype.write=function(s){this.ensureCommitNotCalled(),this.mutations.push(s)},c.prototype.ensureCommitNotCalled=function(){},c}()),Gl=function(){function c(s,l,h,m){this.asyncQueue=s,this.datastore=l,this.updateFunction=h,this.deferred=m,this.ec=5,this.Zi=new Pl(this.asyncQueue,"transaction_retry")}return c.prototype.run=function(){this.ec-=1,this.nc()},c.prototype.nc=function(){var s=this;this.Zi.ji(function(){return(0,T.mG)(s,void 0,void 0,function(){var l,h,m=this;return(0,T.Jh)(this,function(y){return l=new ap(this.datastore),(h=this.sc(l))&&h.then(function(b){m.asyncQueue.enqueueAndForget(function(){return l.commit().then(function(){m.deferred.resolve(b)}).catch(function(C){m.ic(C)})})}).catch(function(b){m.ic(b)}),[2]})})})},c.prototype.sc=function(s){try{var l=this.updateFunction(s);return!pc(l)&&l.catch&&l.then?l:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(h){return this.deferred.reject(h),null}},c.prototype.ic=function(s){var l=this;this.ec>0&&this.rc(s)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return l.nc(),Promise.resolve()})):this.deferred.reject(s)},c.prototype.rc=function(s){if("FirebaseError"===s.name){var l=s.code;return"aborted"===l||"failed-precondition"===l||!fo(l)}return!1},c}(),cp=function(){function c(s,l,h){var m=this;this.credentials=s,this.asyncQueue=l,this.databaseInfo=h,this.user=Or.UNAUTHENTICATED,this.clientId=vr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(l,function(y){return(0,T.mG)(m,void 0,void 0,function(){return(0,T.Jh)(this,function(b){switch(b.label){case 0:return Se("FirestoreClient","Received user=",y.uid),[4,this.credentialListener(y)];case 1:return b.sent(),this.user=y,[2]}})})})}return c.prototype.getConfiguration=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},c.prototype.setCredentialChangeListener=function(s){this.credentialListener=s},c.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.")},c.prototype.terminate=function(){var s=this;this.asyncQueue.enterRestrictedMode();var l=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,T.mG)(s,void 0,void 0,function(){var h,m;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return y.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:y.sent(),y.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:y.sent(),y.label=4;case 4:return this.credentials.removeChangeListener(),l.resolve(),[3,6];case 5:return h=y.sent(),m=xu(h,"Failed to shutdown persistence"),l.reject(m),[3,6];case 6:return[2]}})})}),l.promise},c}();function Nm(c,s){return(0,T.mG)(this,void 0,void 0,function(){var l,h,m=this;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return c.asyncQueue.verifyOperationInProgress(),Se("FirestoreClient","Initializing OfflineComponentProvider"),[4,c.getConfiguration()];case 1:return l=y.sent(),[4,s.initialize(l)];case 2:return y.sent(),h=l.initialUser,c.setCredentialChangeListener(function(b){return(0,T.mG)(m,void 0,void 0,function(){return(0,T.Jh)(this,function(C){switch(C.label){case 0:return h.isEqual(b)?[3,2]:[4,Bf(s.localStore,b)];case 1:C.sent(),h=b,C.label=2;case 2:return[2]}})})}),s.persistence.setDatabaseDeletedListener(function(){return c.terminate()}),c.offlineComponents=s,[2]}})})}function Dh(c,s){return(0,T.mG)(this,void 0,void 0,function(){var l,h;return(0,T.Jh)(this,function(m){switch(m.label){case 0:return c.asyncQueue.verifyOperationInProgress(),[4,ws(c)];case 1:return l=m.sent(),Se("FirestoreClient","Initializing OnlineComponentProvider"),[4,c.getConfiguration()];case 2:return h=m.sent(),[4,s.initialize(l,h)];case 3:return m.sent(),c.setCredentialChangeListener(function(y){return function(b,C){return(0,T.mG)(this,void 0,void 0,function(){var x,O;return(0,T.Jh)(this,function(P){switch(P.label){case 0:return(x=Pe(b)).asyncQueue.verifyOperationInProgress(),Se("RemoteStore","RemoteStore received new credentials"),O=Oo(x),x.Or.add(3),[4,Fl(x)];case 1:return P.sent(),O&&x.Br.set("Unknown"),[4,x.remoteSyncer.handleCredentialChange(C)];case 2:return P.sent(),x.Or.delete(3),[4,fh(x)];case 3:return P.sent(),[2]}})})}(s.remoteStore,y)}),c.onlineComponents=s,[2]}})})}function ws(c){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){switch(s.label){case 0:return c.offlineComponents?[3,2]:(Se("FirestoreClient","Using default OfflineComponentProvider"),[4,Nm(c,new Om)]);case 1:s.sent(),s.label=2;case 2:return[2,c.offlineComponents]}})})}function Ih(c){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(s){switch(s.label){case 0:return c.onlineComponents?[3,2]:(Se("FirestoreClient","Using default OnlineComponentProvider"),[4,Dh(c,new Eh)]);case 1:s.sent(),s.label=2;case 2:return[2,c.onlineComponents]}})})}function Pm(c){return ws(c).then(function(s){return s.persistence})}function Fm(c){return ws(c).then(function(s){return s.localStore})}function Jg(c){return Ih(c).then(function(s){return s.remoteStore})}function Wl(c){return Ih(c).then(function(s){return s.syncEngine})}function fi(c){return(0,T.mG)(this,void 0,void 0,function(){var s,l;return(0,T.Jh)(this,function(h){switch(h.label){case 0:return[4,Ih(c)];case 1:return s=h.sent(),[2,((l=s.eventManager).onListen=tp.bind(null,s.syncEngine),l.onUnlisten=Ys.bind(null,s.syncEngine),l)]}})})}function Es(c,s,l){var h=this;void 0===l&&(l={});var m=new Wn;return c.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(h,void 0,void 0,function(){var y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return y=function(C,x,O,P,B){var z=new Ra({next:function(te){x.enqueueAndForget(function(){return Mu(C,re)});var de=te.docs.has(O);!de&&te.fromCache?B.reject(new _e(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):de&&te.fromCache&&P&&"server"===P.source?B.reject(new _e(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(te)},error:function(te){return B.reject(te)}}),re=new Qf(Vd(O.path),z,{includeMetadataChanges:!0,so:!0});return Au(C,re)},[4,fi(c)];case 1:return[2,y.apply(void 0,[b.sent(),c.asyncQueue,s,l,m])]}})})}),m.promise}function vo(c,s,l){var h=this;void 0===l&&(l={});var m=new Wn;return c.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(h,void 0,void 0,function(){var y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return y=function(C,x,O,P,B){var z=new Ra({next:function(te){x.enqueueAndForget(function(){return Mu(C,re)}),te.fromCache&&"server"===P.source?B.reject(new _e(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(te)},error:function(te){return B.reject(te)}}),re=new Qf(O,z,{includeMetadataChanges:!0,so:!0});return Au(C,re)},[4,fi(c)];case 1:return[2,y.apply(void 0,[b.sent(),c.asyncQueue,s,l,m])]}})})}),m.promise}var Lm=function(c,s,l,h,m,y,b,C){this.databaseId=c,this.appId=s,this.persistenceKey=l,this.host=h,this.ssl=m,this.forceLongPolling=y,this.autoDetectLongPolling=b,this.useFetchStreams=C},Kl=function(){function c(s,l){this.projectId=s,this.database=l||"(default)"}return Object.defineProperty(c.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(s){return s instanceof c&&s.projectId===this.projectId&&s.database===this.database},c}(),up=new Map,Yl=function(c,s){this.user=s,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+c},lp=function(){function c(){this.changeListener=null}return c.prototype.getToken=function(){return Promise.resolve(null)},c.prototype.invalidateToken=function(){},c.prototype.setChangeListener=function(s,l){this.changeListener=l,s.enqueueRetryable(function(){return l(Or.UNAUTHENTICATED)})},c.prototype.removeChangeListener=function(){this.changeListener=null},c}(),dp=function(){function c(s){this.token=s,this.changeListener=null}return c.prototype.getToken=function(){return Promise.resolve(this.token)},c.prototype.invalidateToken=function(){},c.prototype.setChangeListener=function(s,l){var h=this;this.changeListener=l,s.enqueueRetryable(function(){return l(h.token.user)})},c.prototype.removeChangeListener=function(){this.changeListener=null},c}(),py=function(){function c(s){var l=this;this.currentUser=Or.UNAUTHENTICATED,this.oc=new Wn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){l.cc++,l.currentUser=l.ac(),l.oc.resolve(),l.changeListener&&l.asyncQueue.enqueueRetryable(function(){return l.changeListener(l.currentUser)})};var h=function(m){Se("FirebaseCredentialsProvider","Auth detected"),l.auth=m,l.auth.addAuthTokenListener(l.uc)};s.onInit(function(m){return h(m)}),setTimeout(function(){if(!l.auth){var m=s.getImmediate({optional:!0});m?h(m):(Se("FirebaseCredentialsProvider","Auth not yet detected"),l.oc.resolve())}},0)}return c.prototype.getToken=function(){var s=this,l=this.cc,h=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(h).then(function(m){return s.cc!==l?(Se("FirebaseCredentialsProvider","getToken aborted due to token change."),s.getToken()):m?(Ze("string"==typeof m.accessToken),new Yl(m.accessToken,s.currentUser)):null}):Promise.resolve(null)},c.prototype.invalidateToken=function(){this.forceRefresh=!0},c.prototype.setChangeListener=function(s,l){var h=this;this.asyncQueue=s,this.asyncQueue.enqueueRetryable(function(){return(0,T.mG)(h,void 0,void 0,function(){return(0,T.Jh)(this,function(m){switch(m.label){case 0:return[4,this.oc.promise];case 1:return m.sent(),[4,l(this.currentUser)];case 2:return m.sent(),this.changeListener=l,[2]}})})})},c.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},c.prototype.ac=function(){var s=this.auth&&this.auth.getUid();return Ze(null===s||"string"==typeof s),new Or(s)},c}(),ev=function(){function c(s,l,h){this.hc=s,this.lc=l,this.fc=h,this.type="FirstParty",this.user=Or.FIRST_PARTY}return Object.defineProperty(c.prototype,"authHeaders",{get:function(){var s={"X-Goog-AuthUser":this.lc},l=this.hc.auth.getAuthHeaderValueForFirstParty([]);return l&&(s.Authorization=l),this.fc&&(s["X-Goog-Iam-Authorization-Token"]=this.fc),s},enumerable:!1,configurable:!0}),c}(),jm=function(){function c(s,l,h){this.hc=s,this.lc=l,this.fc=h}return c.prototype.getToken=function(){return Promise.resolve(new ev(this.hc,this.lc,this.fc))},c.prototype.setChangeListener=function(s,l){s.enqueueRetryable(function(){return l(Or.FIRST_PARTY)})},c.prototype.removeChangeListener=function(){},c.prototype.invalidateToken=function(){},c}();function Sh(c,s,l){if(!l)throw new _e(ue.INVALID_ARGUMENT,"Function "+c+"() cannot be called with an empty "+s+".")}function Zl(c,s){if(void 0===s)return{merge:!1};if(void 0!==s.mergeFields&&void 0!==s.merge)throw new _e(ue.INVALID_ARGUMENT,"Invalid options passed to function "+c+'(): You cannot specify both "merge" and "mergeFields".');return s}function Bi(c,s,l,h){if(!0===s&&!0===h)throw new _e(ue.INVALID_ARGUMENT,c+" and "+l+" cannot be used together.")}function Xs(c){if(!He.isDocumentKey(c))throw new _e(ue.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+c+" has "+c.length+".")}function hp(c){if(He.isDocumentKey(c))throw new _e(ue.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+c+" has "+c.length+".")}function Xl(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=c.substring(0,20)+"..."),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";var s=function(l){if(l.constructor){var h=/function\s+([^\s(]+)\s*\(/.exec(l.constructor.toString());if(h&&h.length>1)return h[1]}return null}(c);return s?"a custom "+s+" object":"an object"}return"function"==typeof c?"a function":et()}function an(c,s){if("_delegate"in c&&(c=c._delegate),!(c instanceof s)){if(s.name===c.constructor.name)throw new _e(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var l=Xl(c);throw new _e(ue.INVALID_ARGUMENT,"Expected type '"+s.name+"', but it was: "+l)}return c}function Bm(c,s){if(s<=0)throw new _e(ue.INVALID_ARGUMENT,"Function "+c+"() requires a positive number, but it was: "+s+".")}var Vm=function(){function c(s){var l;if(void 0===s.host){if(void 0!==s.ssl)throw new _e(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=s.host,this.ssl=null===(l=s.ssl)||void 0===l||l;if(this.credentials=s.credentials,this.ignoreUndefinedProperties=!!s.ignoreUndefinedProperties,void 0===s.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==s.cacheSizeBytes&&s.cacheSizeBytes<1048576)throw new _e(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=s.cacheSizeBytes}this.experimentalForceLongPolling=!!s.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!s.experimentalAutoDetectLongPolling,this.useFetchStreams=!!s.useFetchStreams,Bi("experimentalForceLongPolling",s.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",s.experimentalAutoDetectLongPolling)}return c.prototype.isEqual=function(s){return this.host===s.host&&this.ssl===s.ssl&&this.credentials===s.credentials&&this.cacheSizeBytes===s.cacheSizeBytes&&this.experimentalForceLongPolling===s.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===s.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===s.ignoreUndefinedProperties&&this.useFetchStreams===s.useFetchStreams},c}(),Th=function(){function c(s,l){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vm({}),this._settingsFrozen=!1,s instanceof Kl?(this._databaseId=s,this._credentials=new lp):(this._app=s,this._databaseId=function(h){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new _e(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kl(h.options.projectId)}(s),this._credentials=new py(l))}return Object.defineProperty(c.prototype,"app",{get:function(){if(!this._app)throw new _e(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),c.prototype._setSettings=function(s){if(this._settingsFrozen)throw new _e(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vm(s),void 0!==s.credentials&&(this._credentials=function(l){if(!l)return new lp;switch(l.type){case"gapi":var h=l.client;return Ze(!("object"!=typeof h||null===h||!h.auth||!h.auth.getAuthHeaderValueForFirstParty)),new jm(h,l.sessionIndex||"0",l.iamToken||null);case"provider":return l.client;default:throw new _e(ue.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(s.credentials))},c.prototype._getSettings=function(){return this._settings},c.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},c.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},c.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},c.prototype._terminate=function(){return(l=up.get(this))&&(Se("ComponentProvider","Removing Datastore"),up.delete(this),l.terminate()),Promise.resolve();var l},c}(),bn=function(){function c(s,l,h){this.converter=l,this._key=h,this.type="document",this.firestore=s}return Object.defineProperty(c.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"parent",{get:function(){return new ka(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),c.prototype.withConverter=function(s){return new c(this.firestore,s,this._key)},c}(),Jr=function(){function c(s,l,h){this.converter=l,this._query=h,this.type="query",this.firestore=s}return c.prototype.withConverter=function(s){return new c(this.firestore,s,this._query)},c}(),ka=function(c){function s(l,h,m){var y=this;return(y=c.call(this,l,h,Vd(m))||this)._path=m,y.type="collection",y}return(0,T.ZT)(s,c),Object.defineProperty(s.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){var l=this._path.popLast();return l.isEmpty()?null:new bn(this.firestore,null,new He(l))},enumerable:!1,configurable:!0}),s.prototype.withConverter=function(l){return new s(this.firestore,l,this._path)},s}(Jr);function Qs(c,s){for(var l,h=[],m=2;m<arguments.length;m++)h[m-2]=arguments[m];if(c=(0,Ge.m9)(c),Sh("collection","path",s),c instanceof Th)return hp(l=Wt.fromString.apply(Wt,(0,T.ev)([s],h))),new ka(c,null,l);if(!(c instanceof bn||c instanceof ka))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return hp(l=Wt.fromString.apply(Wt,(0,T.ev)([c.path],h)).child(Wt.fromString(s))),new ka(c.firestore,null,l)}function xh(c,s){for(var l,h=[],m=2;m<arguments.length;m++)h[m-2]=arguments[m];if(c=(0,Ge.m9)(c),1===arguments.length&&(s=vr.u()),Sh("doc","path",s),c instanceof Th)return Xs(l=Wt.fromString.apply(Wt,(0,T.ev)([s],h))),new bn(c,null,new He(l));if(!(c instanceof bn||c instanceof ka))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Xs(l=c._path.child(Wt.fromString.apply(Wt,(0,T.ev)([s],h)))),new bn(c.firestore,c instanceof ka?c.converter:null,new He(l))}function tv(c,s){return c=(0,Ge.m9)(c),s=(0,Ge.m9)(s),(c instanceof bn||c instanceof ka)&&(s instanceof bn||s instanceof ka)&&c.firestore===s.firestore&&c.path===s.path&&c.converter===s.converter}function Ah(c,s){return c=(0,Ge.m9)(c),s=(0,Ge.m9)(s),c instanceof Jr&&s instanceof Jr&&c.firestore===s.firestore&&al(c._query,s._query)&&c.converter===s.converter}var Mh=function(){function c(){var s=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Pl(this,"async_queue_retry"),this.Ic=function(){var h=Dc();h&&Se("AsyncQueue","Visibility state changed to "+h.visibilityState),s.Zi.Gi()};var l=Dc();l&&"function"==typeof l.addEventListener&&l.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(c.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),c.prototype.enqueueAndForget=function(s){this.enqueue(s)},c.prototype.enqueueAndForgetEvenWhileRestricted=function(s){this.Ac(),this.Rc(s)},c.prototype.enterRestrictedMode=function(s){if(!this._c){this._c=!0,this.Ec=s||!1;var l=Dc();l&&"function"==typeof l.removeEventListener&&l.removeEventListener("visibilitychange",this.Ic)}},c.prototype.enqueue=function(s){var l=this;if(this.Ac(),this._c)return new Promise(function(){});var h=new Wn;return this.Rc(function(){return l._c&&l.Ec?Promise.resolve():(s().then(h.resolve,h.reject),h.promise)}).then(function(){return h.promise})},c.prototype.enqueueRetryable=function(s){var l=this;this.enqueueAndForget(function(){return l.wc.push(s),l.bc()})},c.prototype.bc=function(){return(0,T.mG)(this,void 0,void 0,function(){var s,l=this;return(0,T.Jh)(this,function(h){switch(h.label){case 0:if(0===this.wc.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return h.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!_u(s=h.sent()))throw s;return Se("AsyncQueue","Operation failed with retryable error: "+s),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return l.bc()}),h.label=5;case 5:return[2]}})})},c.prototype.Rc=function(s){var l=this,h=this.dc.then(function(){return l.gc=!0,s().catch(function(m){throw l.yc=m,l.gc=!1,it("INTERNAL UNHANDLED ERROR: ",(b=(y=m).message||"",y.stack&&(b=y.stack.includes(y.message)?y.stack:y.message+"\n"+y.stack),b)),m;var y,b}).then(function(m){return l.gc=!1,m})});return this.dc=h,h},c.prototype.enqueueAfterDelay=function(s,l,h){var m=this;this.Ac(),this.Tc.indexOf(s)>-1&&(l=0);var y=Tu.createAndSchedule(this,s,l,h,function(b){return m.vc(b)});return this.mc.push(y),y},c.prototype.Ac=function(){this.yc&&et()},c.prototype.verifyOperationInProgress=function(){},c.prototype.Pc=function(){return(0,T.mG)(this,void 0,void 0,function(){var s;return(0,T.Jh)(this,function(l){switch(l.label){case 0:return[4,s=this.dc];case 1:l.sent(),l.label=2;case 2:if(s!==this.dc)return[3,0];l.label=3;case 3:return[2]}})})},c.prototype.Vc=function(s){for(var l=0,h=this.mc;l<h.length;l++)if(h[l].timerId===s)return!0;return!1},c.prototype.Sc=function(s){var l=this;return this.Pc().then(function(){l.mc.sort(function(b,C){return b.targetTimeMs-C.targetTimeMs});for(var h=0,m=l.mc;h<m.length;h++){var y=m[h];if(y.skipDelay(),"all"!==s&&y.timerId===s)break}return l.Pc()})},c.prototype.Dc=function(s){this.Tc.push(s)},c.prototype.vc=function(s){var l=this.mc.indexOf(s);this.mc.splice(l,1)},c}();function Pu(c){return function(s,l){if("object"!=typeof s||null===s)return!1;for(var h=s,m=0,y=["next","error","complete"];m<y.length;m++){var b=y[m];if(b in h&&"function"==typeof h[b])return!0}return!1}(c)}!function(){function c(){this._progressObserver={},this._taskCompletionResolver=new Wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}c.prototype.onProgress=function(s,l,h){this._progressObserver={next:s,error:l,complete:h}},c.prototype.catch=function(s){return this._taskCompletionResolver.promise.catch(s)},c.prototype.then=function(s,l){return this._taskCompletionResolver.promise.then(s,l)},c.prototype._completeWith=function(s){this._updateProgress(s),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(s)},c.prototype._failWith=function(s){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(s),this._taskCompletionResolver.reject(s)},c.prototype._updateProgress=function(s){this._lastProgress=s,this._progressObserver.next&&this._progressObserver.next(s)}}();var ur=function(c){function s(l,h){var m=this;return(m=c.call(this,l,h)||this).type="firestore",m._queue=new Mh,m._persistenceKey="name"in l?l.name:"[DEFAULT]",m}return(0,T.ZT)(s,c),s.prototype._terminate=function(){return this._firestoreClient||nv(this),this._firestoreClient.terminate()},s}(Th);function Yt(c){return c._firestoreClient||nv(c),c._firestoreClient.verifyNotTerminated(),c._firestoreClient}function nv(c){var s,y,C,l=c._freezeSettings(),h=(y=(null===(s=c._app)||void 0===s?void 0:s.options.appId)||"",new Lm(c._databaseId,y,c._persistenceKey,(C=l).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));c._firestoreClient=new cp(c._credentials,c._queue,h)}function ei(c,s,l){var h=this,m=new Wn;return c.asyncQueue.enqueue(function(){return(0,T.mG)(h,void 0,void 0,function(){var y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return b.trys.push([0,3,,4]),[4,Nm(c,l)];case 1:return b.sent(),[4,Dh(c,s)];case 2:return b.sent(),m.resolve(),[3,4];case 3:if(!("FirebaseError"===(C=y=b.sent()).name?C.code===ue.FAILED_PRECONDITION||C.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&C instanceof DOMException)||22===C.code||20===C.code||11===C.code))throw y;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+y),m.reject(y),[3,4];case 4:return[2]}var C})})}).then(function(){return m.promise})}function rv(c){if(c._initialized||c._terminated)throw new _e(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Js=function(){function c(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];for(var h=0;h<s.length;++h)if(0===s[h].length)throw new _e(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ls(s)}return c.prototype.isEqual=function(s){return this._internalPath.isEqual(s._internalPath)},c}(),Oa=function(){function c(s){this._byteString=s}return c.fromBase64String=function(s){try{return new c(Si.fromBase64String(s))}catch(l){throw new _e(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+l)}},c.fromUint8Array=function(s){return new c(Si.fromUint8Array(s))},c.prototype.toBase64=function(){return this._byteString.toBase64()},c.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},c.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},c.prototype.isEqual=function(s){return this._byteString.isEqual(s._byteString)},c}(),ea=function(c){this._methodName=c},kh=function(){function c(s,l){if(!isFinite(s)||s<-90||s>90)throw new _e(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+s);if(!isFinite(l)||l<-180||l>180)throw new _e(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+l);this._lat=s,this._long=l}return Object.defineProperty(c.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),c.prototype.isEqual=function(s){return this._lat===s._lat&&this._long===s._long},c.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},c.prototype._compareTo=function(s){return Be(this._lat,s._lat)||Be(this._long,s._long)},c}(),my=/^__.*__$/,Hm=function(){function c(s,l,h){this.data=s,this.fieldMask=l,this.fieldTransforms=h}return c.prototype.toMutation=function(s,l){return null!==this.fieldMask?new Ar(s,this.data,this.fieldMask,l,this.fieldTransforms):new du(s,this.data,l,this.fieldTransforms)},c}(),fp=function(){function c(s,l,h){this.data=s,this.fieldMask=l,this.fieldTransforms=h}return c.prototype.toMutation=function(s,l){return new Ar(s,this.data,this.fieldMask,l,this.fieldTransforms)},c}();function zm(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}var $m=function(){function c(s,l,h,m,y,b){this.settings=s,this.databaseId=l,this.R=h,this.ignoreUndefinedProperties=m,void 0===y&&this.Cc(),this.fieldTransforms=y||[],this.fieldMask=b||[]}return Object.defineProperty(c.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),c.prototype.xc=function(s){return new c(Object.assign(Object.assign({},this.settings),s),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},c.prototype.kc=function(s){var l,h=null===(l=this.path)||void 0===l?void 0:l.child(s),m=this.xc({path:h,Fc:!1});return m.$c(s),m},c.prototype.Oc=function(s){var l,h=null===(l=this.path)||void 0===l?void 0:l.child(s),m=this.xc({path:h,Fc:!1});return m.Cc(),m},c.prototype.Mc=function(s){return this.xc({path:void 0,Fc:!0})},c.prototype.Lc=function(s){return Jl(s,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},c.prototype.contains=function(s){return void 0!==this.fieldMask.find(function(l){return s.isPrefixOf(l)})||void 0!==this.fieldTransforms.find(function(l){return s.isPrefixOf(l.field)})},c.prototype.Cc=function(){if(this.path)for(var s=0;s<this.path.length;s++)this.$c(this.path.get(s))},c.prototype.$c=function(s){if(0===s.length)throw this.Lc("Document fields must not be empty");if(zm(this.Nc)&&my.test(s))throw this.Lc('Document fields cannot begin and end with "__"')},c}(),Na=function(){function c(s,l,h){this.databaseId=s,this.ignoreUndefinedProperties=l,this.R=h||Aa(s)}return c.prototype.Uc=function(s,l,h,m){return void 0===m&&(m=!1),new $m({Nc:s,methodName:l,qc:h,path:ls.emptyPath(),Fc:!1,Bc:m},this.databaseId,this.R,this.ignoreUndefinedProperties)},c}();function Cs(c){var s=c._freezeSettings(),l=Aa(c._databaseId);return new Na(c._databaseId,!!s.ignoreUndefinedProperties,l)}function Pa(c,s,l,h,m,y){void 0===y&&(y={});var b=c.Uc(y.merge||y.mergeFields?2:0,s,l,m);mp("Data must be an object, but it was:",b,h);var C,x,O=ov(h,b);if(y.merge)C=new So(b.fieldMask),x=b.fieldTransforms;else if(y.mergeFields){for(var P=[],B=0,z=y.mergeFields;B<z.length;B++){var re=Fa(s,z[B],l);if(!b.contains(re))throw new _e(ue.INVALID_ARGUMENT,"Field '"+re+"' is specified in your field mask but missing from your input data.");Is(P,re)||P.push(re)}C=new So(P),x=b.fieldTransforms.filter(function(te){return C.covers(te.field)})}else C=null,x=b.fieldTransforms;return new Hm(new ci(O),C,x)}var Oh=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,T.ZT)(s,c),s.prototype._toFieldTransform=function(l){if(2!==l.Nc)throw l.Lc(1===l.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return l.fieldMask.push(l.path),null},s.prototype.isEqual=function(l){return l instanceof s},s}(ea);function pp(c,s,l){return new $m({Nc:3,qc:s.settings.qc,methodName:c._methodName,Fc:l},s.databaseId,s.R,s.ignoreUndefinedProperties)}var Mc=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,T.ZT)(s,c),s.prototype._toFieldTransform=function(l){return new _a(l.path,new er)},s.prototype.isEqual=function(l){return l instanceof s},s}(ea),Qo=function(c){function s(l,h){var m=this;return(m=c.call(this,l)||this).Kc=h,m}return(0,T.ZT)(s,c),s.prototype._toFieldTransform=function(l){var h=pp(this,l,!0),m=this.Kc.map(function(b){return Ds(b,h)}),y=new ya(m);return new _a(l.path,y)},s.prototype.isEqual=function(l){return this===l},s}(ea),iv=function(c){function s(l,h){var m=this;return(m=c.call(this,l)||this).Kc=h,m}return(0,T.ZT)(s,c),s.prototype._toFieldTransform=function(l){var h=pp(this,l,!0),m=this.Kc.map(function(b){return Ds(b,h)}),y=new vn(m);return new _a(l.path,y)},s.prototype.isEqual=function(l){return this===l},s}(ea),qm=function(c){function s(l,h){var m=this;return(m=c.call(this,l)||this).Qc=h,m}return(0,T.ZT)(s,c),s.prototype._toFieldTransform=function(l){var h=new Vs(l.R,qd(l.R,this.Qc));return new _a(l.path,h)},s.prototype.isEqual=function(l){return this===l},s}(ea);function Nh(c,s,l,h){var m=c.Uc(1,s,l);mp("Data must be an object, but it was:",m,h);var y=[],b=ci.empty();ho(h,function(x,O){var P=Gm(s,x,l);O=(0,Ge.m9)(O);var B=m.Oc(P);if(O instanceof Oh)y.push(P);else{var z=Ds(O,B);null!=z&&(y.push(P),b.set(P,z))}});var C=new So(y);return new fp(b,C,m.fieldTransforms)}function Ql(c,s,l,h,m,y){var b=c.Uc(1,s,l),C=[Fa(s,h,l)],x=[m];if(y.length%2!=0)throw new _e(ue.INVALID_ARGUMENT,"Function "+s+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var O=0;O<y.length;O+=2)C.push(Fa(s,y[O])),x.push(y[O+1]);for(var P=[],B=ci.empty(),z=C.length-1;z>=0;--z)if(!Is(P,C[z])){var re=C[z],te=x[z];te=(0,Ge.m9)(te);var de=b.Oc(re);if(te instanceof Oh)P.push(re);else{var Me=Ds(te,de);null!=Me&&(P.push(re),B.set(re,Me))}}var je=new So(P);return new fp(B,je,b.fieldTransforms)}function gy(c,s,l,h){return void 0===h&&(h=!1),Ds(l,c.Uc(h?4:3,s))}function Ds(c,s){if(Ph(c=(0,Ge.m9)(c)))return mp("Unsupported field value:",s,c),ov(c,s);if(c instanceof ea)return function(l,h){if(!zm(h.Nc))throw h.Lc(l._methodName+"() can only be used with update() and set()");if(!h.path)throw h.Lc(l._methodName+"() is not currently supported inside arrays");var m=l._toFieldTransform(h);m&&h.fieldTransforms.push(m)}(c,s),null;if(void 0===c&&s.ignoreUndefinedProperties)return null;if(s.path&&s.fieldMask.push(s.path),c instanceof Array){if(s.settings.Fc&&4!==s.Nc)throw s.Lc("Nested arrays are not supported");return function(l,h){for(var m=[],y=0,b=0,C=l;b<C.length;b++){var x=Ds(C[b],h.Mc(y));null==x&&(x={nullValue:"NULL_VALUE"}),m.push(x),y++}return{arrayValue:{values:m}}}(c,s)}return function(l,h){if(null===(l=(0,Ge.m9)(l)))return{nullValue:"NULL_VALUE"};if("number"==typeof l)return qd(h.R,l);if("boolean"==typeof l)return{booleanValue:l};if("string"==typeof l)return{stringValue:l};if(l instanceof Date){var m=Cn.fromDate(l);return{timestampValue:hu(h.R,m)}}if(l instanceof Cn)return m=new Cn(l.seconds,1e3*Math.floor(l.nanoseconds/1e3)),{timestampValue:hu(h.R,m)};if(l instanceof kh)return{geoPointValue:{latitude:l.latitude,longitude:l.longitude}};if(l instanceof Oa)return{bytesValue:Zd(h.R,l._byteString)};if(l instanceof bn){var y=l.firestore._databaseId;if(!y.isEqual(m=h.databaseId))throw h.Lc("Document reference is for database "+y.projectId+"/"+y.database+" but should be for database "+m.projectId+"/"+m.database);return{referenceValue:fl(l.firestore._databaseId||h.databaseId,l._key.path)}}throw h.Lc("Unsupported field value: "+Xl(l))}(c,s)}function ov(c,s){var l={};return Io(c)?s.path&&s.path.length>0&&s.fieldMask.push(s.path):ho(c,function(h,m){var y=Ds(m,s.kc(h));null!=y&&(l[h]=y)}),{mapValue:{fields:l}}}function Ph(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof Cn||c instanceof kh||c instanceof Oa||c instanceof bn||c instanceof ea)}function mp(c,s,l){if(!Ph(l)||"object"!=typeof(m=l)||null===m||Object.getPrototypeOf(m)!==Object.prototype&&null!==Object.getPrototypeOf(m)){var h=Xl(l);throw s.Lc("an object"===h?c+" a custom object":c+" "+h)}var m}function Fa(c,s,l){if((s=(0,Ge.m9)(s))instanceof Js)return s._internalPath;if("string"==typeof s)return Gm(c,s);throw Jl("Field path arguments must be of type string or FieldPath.",c,!1,void 0,l)}var Fu=new RegExp("[~\\*/\\[\\]]");function Gm(c,s,l){if(s.search(Fu)>=0)throw Jl("Invalid field path ("+s+"). Paths must not contain '~', '*', '/', '[', or ']'",c,!1,void 0,l);try{return(new(Js.bind.apply(Js,(0,T.ev)([void 0],s.split(".")))))._internalPath}catch{throw Jl("Invalid field path ("+s+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",c,!1,void 0,l)}}function Jl(c,s,l,h,m){var y=h&&!h.isEmpty(),b=void 0!==m,C="Function "+s+"() called with invalid data";l&&(C+=" (via `toFirestore()`)");var x="";return(y||b)&&(x+=" (found",y&&(x+=" in field "+h),b&&(x+=" in document "+m),x+=")"),new _e(ue.INVALID_ARGUMENT,(C+=". ")+c+x)}function Is(c,s){return c.some(function(l){return l.isEqual(s)})}var wn=function(){function c(s,l,h,m,y){this._firestore=s,this._userDataWriter=l,this._key=h,this._document=m,this._converter=y}return Object.defineProperty(c.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"ref",{get:function(){return new bn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),c.prototype.exists=function(){return null!==this._document},c.prototype.data=function(){if(this._document){if(this._converter){var s=new Ft(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(s)}return this._userDataWriter.convertValue(this._document.data.value)}},c.prototype.get=function(s){if(this._document){var l=this._document.data.field(ta("DocumentSnapshot.get",s));if(null!==l)return this._userDataWriter.convertValue(l)}},c}(),Ft=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,T.ZT)(s,c),s.prototype.data=function(){return c.prototype.data.call(this)},s}(wn);function ta(c,s){return"string"==typeof s?Gm(c,s):s instanceof Js?s._internalPath:s._delegate._internalPath}var br=function(){function c(s,l){this.hasPendingWrites=s,this.fromCache=l}return c.prototype.isEqual=function(s){return this.hasPendingWrites===s.hasPendingWrites&&this.fromCache===s.fromCache},c}(),yo=function(c){function s(l,h,m,y,b,C){var x=this;return(x=c.call(this,l,h,m,y,C)||this)._firestore=l,x._firestoreImpl=l,x.metadata=b,x}return(0,T.ZT)(s,c),s.prototype.exists=function(){return c.prototype.exists.call(this)},s.prototype.data=function(l){if(void 0===l&&(l={}),this._document){if(this._converter){var h=new kn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(h,l)}return this._userDataWriter.convertValue(this._document.data.value,l.serverTimestamps)}},s.prototype.get=function(l,h){if(void 0===h&&(h={}),this._document){var m=this._document.data.field(ta("DocumentSnapshot.get",l));if(null!==m)return this._userDataWriter.convertValue(m,h.serverTimestamps)}},s}(wn),kn=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,T.ZT)(s,c),s.prototype.data=function(l){return void 0===l&&(l={}),c.prototype.data.call(this,l)},s}(yo),Jo=function(){function c(s,l,h,m){this._firestore=s,this._userDataWriter=l,this._snapshot=m,this.metadata=new br(m.hasPendingWrites,m.fromCache),this.query=h}return Object.defineProperty(c.prototype,"docs",{get:function(){var s=[];return this.forEach(function(l){return s.push(l)}),s},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),c.prototype.forEach=function(s,l){var h=this;this._snapshot.docs.forEach(function(m){s.call(l,new kn(h._firestore,h._userDataWriter,m.key,m,new br(h._snapshot.mutatedKeys.has(m.key),h._snapshot.fromCache),h.query.converter))})},c.prototype.docChanges=function(s){void 0===s&&(s={});var l=!!s.includeMetadataChanges;if(l&&this._snapshot.excludesMetadataChanges)throw new _e(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===l||(this._cachedChanges=function(h,m){if(h._snapshot.oldDocs.isEmpty()){var y=0;return h._snapshot.docChanges.map(function(C){return{type:"added",doc:new kn(h._firestore,h._userDataWriter,C.doc.key,C.doc,new br(h._snapshot.mutatedKeys.has(C.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:y++}})}var b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(function(C){return m||3!==C.type}).map(function(C){var x=new kn(h._firestore,h._userDataWriter,C.doc.key,C.doc,new br(h._snapshot.mutatedKeys.has(C.doc.key),h._snapshot.fromCache),h.query.converter),O=-1,P=-1;return 0!==C.type&&(O=b.indexOf(C.doc.key),b=b.delete(C.doc.key)),1!==C.type&&(P=(b=b.add(C.doc)).indexOf(C.doc.key)),{type:ed(C.type),doc:x,oldIndex:O,newIndex:P}})}(this,l),this._cachedChangesIncludeMetadataChanges=l),this._cachedChanges},c}();function ed(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function Fh(c,s){return c instanceof yo&&s instanceof yo?c._firestore===s._firestore&&c._key.isEqual(s._key)&&(null===c._document?null===s._document:c._document.isEqual(s._document))&&c._converter===s._converter:c instanceof Jo&&s instanceof Jo&&c._firestore===s._firestore&&Ah(c.query,s.query)&&c.metadata.isEqual(s.metadata)&&c._snapshot.isEqual(s._snapshot)}function La(c){if(il(c)&&0===c.explicitOrderBy.length)throw new _e(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var td=function(){};function Ss(c){for(var s=[],l=1;l<arguments.length;l++)s[l-1]=arguments[l];for(var h=0,m=s;h<m.length;h++)c=m[h]._apply(c);return c}var Wm=function(c){function s(l,h,m){var y=this;return(y=c.call(this)||this).jc=l,y.Wc=h,y.Gc=m,y.type="where",y}return(0,T.ZT)(s,c),s.prototype._apply=function(l){var y,C,h=Cs(l.firestore),m=function(y,b,C,x,O,P,B){var z;if(O.isKeyField()){if("array-contains"===P||"array-contains-any"===P)throw new _e(ue.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+P+"' queries on FieldPath.documentId().");if("in"===P||"not-in"===P){No(B,P);for(var re=[],te=0,de=B;te<de.length;te++)re.push(vy(x,y,de[te]));z={arrayValue:{values:re}}}else z=vy(x,y,B)}else"in"!==P&&"not-in"!==P&&"array-contains-any"!==P||No(B,P),z=gy(C,"where",B,"in"===P||"not-in"===P);var je=eo.create(O,P,z);return function(at,ht){if(ht.g()){var Jt=vf(at);if(null!==Jt&&!Jt.isEqual(ht.field))throw new _e(ue.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Jt.toString()+"' and '"+ht.field.toString()+"'");var En=Hd(at);null!==En&&nd(0,ht.field,En)}var Vn=function(_o,sv){for(var wp=0,ti=_o.filters;wp<ti.length;wp++){var by=ti[wp];if(sv.indexOf(by.op)>=0)return by.op}return null}(at,function(_o){switch(_o){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ht.op));if(null!==Vn)throw new _e(ue.INVALID_ARGUMENT,Vn===ht.op?"Invalid query. You cannot use more than one '"+ht.op.toString()+"' filter.":"Invalid query. You cannot use '"+ht.op.toString()+"' filters with '"+Vn.toString()+"' filters.")}(y,je),je}(l._query,0,h,l.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Jr(l.firestore,l.converter,(C=(y=l._query).filters.concat([m]),new xo(y.path,y.collectionGroup,y.explicitOrderBy.slice(),C,y.limit,y.limitType,y.startAt,y.endAt)))},s}(td),Lh=function(c){function s(l,h){var m=this;return(m=c.call(this)||this).jc=l,m.zc=h,m.type="orderBy",m}return(0,T.ZT)(s,c),s.prototype._apply=function(l){var m,b,h=function(m,y,b){if(null!==m.startAt)throw new _e(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==m.endAt)throw new _e(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var C=new rl(y,b);return function(x,O){if(null===Hd(x)){var P=vf(x);null!==P&&nd(0,P,O.field)}}(m,C),C}(l._query,this.jc,this.zc);return new Jr(l.firestore,l.converter,(b=(m=l._query).explicitOrderBy.concat([h]),new xo(m.path,m.collectionGroup,b,m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)))},s}(td),Lu=function(c){function s(l,h,m){var y=this;return(y=c.call(this)||this).type=l,y.Hc=h,y.Jc=m,y}return(0,T.ZT)(s,c),s.prototype._apply=function(l){return new Jr(l.firestore,l.converter,Cg(l._query,this.Hc,this.Jc))},s}(td),gp=function(c){function s(l,h,m){var y=this;return(y=c.call(this)||this).type=l,y.Yc=h,y.Xc=m,y}return(0,T.ZT)(s,c),s.prototype._apply=function(l){var m,y,h=Rc(l,this.type,this.Yc,this.Xc);return new Jr(l.firestore,l.converter,(y=h,new xo((m=l._query).path,m.collectionGroup,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,y,m.endAt)))},s}(td),jh=function(c){function s(l,h,m){var y=this;return(y=c.call(this)||this).type=l,y.Yc=h,y.Xc=m,y}return(0,T.ZT)(s,c),s.prototype._apply=function(l){var m,y,h=Rc(l,this.type,this.Yc,this.Xc);return new Jr(l.firestore,l.converter,(y=h,new xo((m=l._query).path,m.collectionGroup,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,y)))},s}(td);function Rc(c,s,l,h){if(l[0]=(0,Ge.m9)(l[0]),l[0]instanceof wn)return function(y,b,C,x,O){if(!x)throw new _e(ue.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+C+"().");for(var P=[],B=0,z=sl(y);B<z.length;B++){var re=z[B];if(re.field.isKeyField())P.push(To(b,x.key));else{var te=x.data.field(re.field);if(_g(te))throw new _e(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+re.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===te){var de=re.field.canonicalString();throw new _e(ue.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+de+"' (used as the orderBy) does not exist.")}P.push(te)}}return new Ld(P,O)}(c._query,c.firestore._databaseId,s,l[0]._document,h);var m=Cs(c.firestore);return function(y,b,C,x,O,P){var B=y.explicitOrderBy;if(O.length>B.length)throw new _e(ue.INVALID_ARGUMENT,"Too many arguments provided to "+x+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var z=[],re=0;re<O.length;re++){var te=O[re];if(B[re].field.isKeyField()){if("string"!=typeof te)throw new _e(ue.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+x+"(), but got a "+typeof te);if(!ol(y)&&-1!==te.indexOf("/"))throw new _e(ue.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+x+"() must be a plain document ID, but '"+te+"' contains a slash.");var de=y.path.child(Wt.fromString(te));if(!He.isDocumentKey(de))throw new _e(ue.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+x+"() must result in a valid document path, but '"+de+"' is not because it contains an odd number of segments.");var Me=new He(de);z.push(To(b,Me))}else{var je=gy(C,x,te);z.push(je)}}return new Ld(z,P)}(c._query,c.firestore._databaseId,m,s,l,h)}function vy(c,s,l){if("string"==typeof(l=(0,Ge.m9)(l))){if(""===l)throw new _e(ue.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ol(s)&&-1!==l.indexOf("/"))throw new _e(ue.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+l+"' contains a '/' character.");var h=s.path.child(Wt.fromString(l));if(!He.isDocumentKey(h))throw new _e(ue.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+h+"' is not because it has an odd number of segments ("+h.length+").");return To(c,new He(h))}if(l instanceof bn)return To(c,l._key);throw new _e(ue.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Xl(l)+".")}function No(c,s){if(!Array.isArray(c)||0===c.length)throw new _e(ue.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+s.toString()+"' filters.");if(c.length>10)throw new _e(ue.INVALID_ARGUMENT,"Invalid Query. '"+s.toString()+"' filters support a maximum of 10 elements in the value array.")}function nd(c,s,l){if(!l.isEqual(s))throw new _e(ue.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+s.toString()+"' and so you must also use '"+s.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+l.toString()+"' instead.")}var vp=function(){function c(){}return c.prototype.convertValue=function(s,l){switch(void 0===l&&(l="none"),Ji(s)){case 0:return null;case 1:return s.booleanValue;case 2:return zr(s.integerValue||s.doubleValue);case 3:return this.convertTimestamp(s.timestampValue);case 4:return this.convertServerTimestamp(s,l);case 5:return s.stringValue;case 6:return this.convertBytes(Od(s.bytesValue));case 7:return this.convertReference(s.referenceValue);case 8:return this.convertGeoPoint(s.geoPointValue);case 9:return this.convertArray(s.arrayValue,l);case 10:return this.convertObject(s.mapValue,l);default:throw et()}},c.prototype.convertObject=function(s,l){var h=this,m={};return ho(s.fields,function(y,b){m[y]=h.convertValue(b,l)}),m},c.prototype.convertGeoPoint=function(s){return new kh(zr(s.latitude),zr(s.longitude))},c.prototype.convertArray=function(s,l){var h=this;return(s.values||[]).map(function(m){return h.convertValue(m,l)})},c.prototype.convertServerTimestamp=function(s,l){switch(l){case"previous":var h=bg(s);return null==h?null:this.convertValue(h,l);case"estimate":return this.convertTimestamp(tl(s));default:return null}},c.prototype.convertTimestamp=function(s){var l=ds(s);return new Cn(l.seconds,l.nanos)},c.prototype.convertDocumentKey=function(s,l){var h=Wt.fromString(s);Ze(Af(h));var m=new Kl(h.get(1),h.get(3)),y=new He(h.popFirst(5));return m.isEqual(l)||it("Document "+y+" contains a document reference within a different database ("+m.projectId+"/"+m.database+") which is not supported. It will be treated as a reference in the current database ("+l.projectId+"/"+l.database+") instead."),y},c}();function yp(c,s,l){return c?l&&(l.merge||l.mergeFields)?c.toFirestore(s,l):c.toFirestore(s):s}var yy=function(c){function s(l){var h=this;return(h=c.call(this)||this).firestore=l,h}return(0,T.ZT)(s,c),s.prototype.convertBytes=function(l){return new Oa(l)},s.prototype.convertReference=function(l){var h=this.convertDocumentKey(l,this.firestore._databaseId);return new bn(this.firestore,null,h)},s}(vp),_p=function(){function c(s,l){this._firestore=s,this._commitHandler=l,this._mutations=[],this._committed=!1,this._dataReader=Cs(s)}return c.prototype.set=function(s,l,h){this._verifyNotCommitted();var m=ja(s,this._firestore),y=yp(m.converter,l,h),b=Pa(this._dataReader,"WriteBatch.set",m._key,y,null!==m.converter,h);return this._mutations.push(b.toMutation(m._key,yn.none())),this},c.prototype.update=function(s,l,h){for(var m=[],y=3;y<arguments.length;y++)m[y-3]=arguments[y];this._verifyNotCommitted();var b,C=ja(s,this._firestore);return b="string"==typeof(l=(0,Ge.m9)(l))||l instanceof Js?Ql(this._dataReader,"WriteBatch.update",C._key,l,h,m):Nh(this._dataReader,"WriteBatch.update",C._key,l),this._mutations.push(b.toMutation(C._key,yn.exists(!0))),this},c.prototype.delete=function(s){this._verifyNotCommitted();var l=ja(s,this._firestore);return this._mutations=this._mutations.concat(new dl(l._key,yn.none())),this},c.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},c.prototype._verifyNotCommitted=function(){if(this._committed)throw new _e(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},c}();function ja(c,s){if((c=(0,Ge.m9)(c)).firestore!==s)throw new _e(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}var Ba=function(c){function s(l){var h=this;return(h=c.call(this)||this).firestore=l,h}return(0,T.ZT)(s,c),s.prototype.convertBytes=function(l){return new Oa(l)},s.prototype.convertReference=function(l){var h=this.convertDocumentKey(l,this.firestore._databaseId);return new bn(this.firestore,null,h)},s}(vp);function rd(c,s,l){c=an(c,bn);var h=an(c.firestore,ur),m=yp(c.converter,s,l);return kc(h,[Pa(Cs(h),"setDoc",c._key,m,null!==c.converter,l).toMutation(c._key,yn.none())])}function na(c,s,l){for(var h=[],m=3;m<arguments.length;m++)h[m-3]=arguments[m];c=an(c,bn);var y=an(c.firestore,ur),b=Cs(y);return kc(y,[("string"==typeof(s=(0,Ge.m9)(s))||s instanceof Js?Ql(b,"updateDoc",c._key,s,l,h):Nh(b,"updateDoc",c._key,s)).toMutation(c._key,yn.exists(!0))])}function id(c){for(var s,l,h,m=[],y=1;y<arguments.length;y++)m[y-1]=arguments[y];c=(0,Ge.m9)(c);var b={includeMetadataChanges:!1},C=0;"object"!=typeof m[C]||Pu(m[C])||(b=m[C],C++);var x,O,P,B={includeMetadataChanges:b.includeMetadataChanges};if(Pu(m[C])){var z=m[C];m[C]=null===(s=z.next)||void 0===s?void 0:s.bind(z),m[C+1]=null===(l=z.error)||void 0===l?void 0:l.bind(z),m[C+2]=null===(h=z.complete)||void 0===h?void 0:h.bind(z)}if(c instanceof bn)O=an(c.firestore,ur),P=Vd(c._key.path),x={next:function(de){m[C]&&m[C](Oc(O,c,de))},error:m[C+1],complete:m[C+2]};else{var re=an(c,Jr);O=an(re.firestore,ur),P=re._query;var te=new Ba(O);x={next:function(de){m[C]&&m[C](new Jo(O,te,re,de))},error:m[C+1],complete:m[C+2]},La(c._query)}return function(de,Me,je,at){var ht=this,Jt=new Ra(at),En=new Qf(Me,Jt,je);return de.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(ht,void 0,void 0,function(){var Vn;return(0,T.Jh)(this,function(_o){switch(_o.label){case 0:return Vn=Au,[4,fi(de)];case 1:return[2,Vn.apply(void 0,[_o.sent(),En])]}})})}),function(){Jt.Wo(),de.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(ht,void 0,void 0,function(){var Vn;return(0,T.Jh)(this,function(_o){switch(_o.label){case 0:return Vn=Mu,[4,fi(de)];case 1:return[2,Vn.apply(void 0,[_o.sent(),En])]}})})})}}(Yt(O),P,B,x)}function kc(c,s){return function(l,h){var m=this,y=new Wn;return l.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(m,void 0,void 0,function(){var b;return(0,T.Jh)(this,function(C){switch(C.label){case 0:return b=np,[4,Wl(l)];case 1:return[2,b.apply(void 0,[C.sent(),h,y])]}})})}),y.promise}(Yt(c),s)}function Oc(c,s,l){var h=l.docs.get(s._key),m=new Ba(c);return new yo(c,m,s._key,h,new br(l.hasPendingWrites,l.fromCache),s.converter)}var $e=function(c){function s(l,h){var m=this;return(m=c.call(this,l,h)||this)._firestore=l,m}return(0,T.ZT)(s,c),s.prototype.get=function(l){var h=this,m=ja(l,this._firestore),y=new Ba(this._firestore);return c.prototype.get.call(this,l).then(function(b){return new yo(h._firestore,y,m._key,b._document,new br(!1,!1),m.converter)})},s}(function(){function c(s,l){this._firestore=s,this._transaction=l,this._dataReader=Cs(s)}return c.prototype.get=function(s){var l=this,h=ja(s,this._firestore),m=new yy(this._firestore);return this._transaction.lookup([h._key]).then(function(y){if(!y||1!==y.length)return et();var b=y[0];if(b.isFoundDocument())return new wn(l._firestore,m,b.key,b,h.converter);if(b.isNoDocument())return new wn(l._firestore,m,h._key,null,h.converter);throw et()})},c.prototype.set=function(s,l,h){var m=ja(s,this._firestore),y=yp(m.converter,l,h),b=Pa(this._dataReader,"Transaction.set",m._key,y,null!==m.converter,h);return this._transaction.set(m._key,b),this},c.prototype.update=function(s,l,h){for(var m=[],y=3;y<arguments.length;y++)m[y-3]=arguments[y];var b,C=ja(s,this._firestore);return b="string"==typeof(l=(0,Ge.m9)(l))||l instanceof Js?Ql(this._dataReader,"Transaction.update",C._key,l,h,m):Nh(this._dataReader,"Transaction.update",C._key,l),this._transaction.update(C._key,b),this},c.prototype.delete=function(s){var l=ja(s,this._firestore);return this._transaction.delete(l._key),this},c}());function Va(){if(typeof Uint8Array>"u")throw new _e(ue.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function lr(){if(typeof atob>"u")throw new _e(ue.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ua=function(){function c(s){this._delegate=s}return c.fromBase64String=function(s){return lr(),new c(Oa.fromBase64String(s))},c.fromUint8Array=function(s){return Va(),new c(Oa.fromUint8Array(s))},c.prototype.toBase64=function(){return lr(),this._delegate.toBase64()},c.prototype.toUint8Array=function(){return Va(),this._delegate.toUint8Array()},c.prototype.isEqual=function(s){return this._delegate.isEqual(s._delegate)},c.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},c}(),Po=function(){function c(){}return c.prototype.enableIndexedDbPersistence=function(s,l){return function(h,m){rv(h=an(h,ur));var y=Yt(h),b=h._freezeSettings(),C=new Eh;return ei(y,C,new Qg(C,b.cacheSizeBytes,m?.forceOwnership))}(s._delegate,{forceOwnership:l})},c.prototype.enableMultiTabIndexedDbPersistence=function(s){return function(l){rv(l=an(l,ur));var h=Yt(l),m=l._freezeSettings(),y=new Eh;return ei(h,y,new O_(y,m.cacheSizeBytes))}(s._delegate)},c.prototype.clearIndexedDbPersistence=function(s){return function(l){var h=this;if(l._initialized&&!l._terminated)throw new _e(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var m=new Wn;return l._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,T.mG)(h,void 0,void 0,function(){var y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return b.trys.push([0,2,,3]),[4,function(C){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(O){switch(O.label){case 0:return vu.yt()?[4,vu.delete(C+"main")]:[2,Promise.resolve()];case 1:return O.sent(),[2]}})})}(Ml(l._databaseId,l._persistenceKey))];case 1:return b.sent(),m.resolve(),[3,3];case 2:return y=b.sent(),m.reject(y),[3,3];case 3:return[2]}})})}),m.promise}(s._delegate)},c}(),_y=function(){function c(s,l,h){var m=this;this._delegate=l,this.Zc=h,this.INTERNAL={delete:function(){return m.terminate()}},s instanceof Kl||(this.tu=s)}return Object.defineProperty(c.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),c.prototype.settings=function(s){var l=this._delegate._getSettings();s.merge||l.host===s.host||df("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),s.merge&&delete(s=Object.assign(Object.assign({},l),s)).merge,this._delegate._setSettings(s)},c.prototype.useEmulator=function(s,l,h){void 0===h&&(h={}),function(m,y,b,C){var x;void 0===C&&(C={});var O=(m=an(m,Th))._getSettings();if("firestore.googleapis.com"!==O.host&&O.host!==y&&df("Host has been set in both settings() and useEmulator(), emulator host will be used"),m._setSettings(Object.assign(Object.assign({},O),{host:y+":"+b,ssl:!1})),C.mockUserToken){var P,B;if("string"==typeof C.mockUserToken)P=C.mockUserToken,B=Or.MOCK_USER;else{P=(0,Ge.Sg)(C.mockUserToken,null===(x=m._app)||void 0===x?void 0:x.options.projectId);var z=C.mockUserToken.sub||C.mockUserToken.user_id;if(!z)throw new _e(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");B=new Or(z)}m._credentials=new dp(new Yl(P,B))}}(this._delegate,s,l,h)},c.prototype.enableNetwork=function(){return function(s){var l=this;return s.asyncQueue.enqueue(function(){return(0,T.mG)(l,void 0,void 0,function(){var h,m;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return[4,Pm(s)];case 1:return h=y.sent(),[4,Jg(s)];case 2:return m=y.sent(),[2,(h.setNetworkEnabled(!0),b=m,C=Pe(b),C.Or.delete(0),fh(C))]}var b,C})})})}(Yt(an(this._delegate,ur)))},c.prototype.disableNetwork=function(){return function(s){var l=this;return s.asyncQueue.enqueue(function(){return(0,T.mG)(l,void 0,void 0,function(){var h,m;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return[4,Pm(s)];case 1:return h=y.sent(),[4,Jg(s)];case 2:return m=y.sent(),[2,(h.setNetworkEnabled(!1),function(b){return(0,T.mG)(this,void 0,void 0,function(){var C;return(0,T.Jh)(this,function(x){switch(x.label){case 0:return(C=Pe(b)).Or.add(0),[4,Fl(C)];case 1:return x.sent(),C.Br.set("Offline"),[2]}})})}(m))]}})})})}(Yt(an(this._delegate,ur)))},c.prototype.enablePersistence=function(s){var l=!1,h=!1;return s&&Bi("synchronizeTabs",l=!!s.synchronizeTabs,"experimentalForceOwningTab",h=!!s.experimentalForceOwningTab),l?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,h)},c.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},c.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},c.prototype.waitForPendingWrites=function(){return function(s){var l=this,h=new Wn;return s.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(l,void 0,void 0,function(){var m;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return m=Am,[4,Wl(s)];case 1:return[2,m.apply(void 0,[y.sent(),h])]}})})}),h.promise}(Yt(an(this._delegate,ur)))},c.prototype.onSnapshotsInSync=function(s){return h=s,function(m,y){var b=this,C=new Ra(y);return m.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(b,void 0,void 0,function(){var x;return(0,T.Jh)(this,function(O){switch(O.label){case 0:return x=function(P,B){Pe(P).Gr.add(B),B.next()},[4,fi(m)];case 1:return[2,x.apply(void 0,[O.sent(),C])]}})})}),function(){C.Wo(),m.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(b,void 0,void 0,function(){var x;return(0,T.Jh)(this,function(O){switch(O.label){case 0:return x=function(P,B){Pe(P).Gr.delete(B)},[4,fi(m)];case 1:return[2,x.apply(void 0,[O.sent(),C])]}})})})}}(Yt(an(this._delegate,ur)),Pu(h)?h:{next:h});var h},Object.defineProperty(c.prototype,"app",{get:function(){if(!this.tu)throw new _e(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),c.prototype.collection=function(s){try{return new u(this,Qs(this._delegate,s))}catch(l){throw pi(l,"collection()","Firestore.collection()")}},c.prototype.doc=function(s){try{return new $a(this,xh(this._delegate,s))}catch(l){throw pi(l,"doc()","Firestore.doc()")}},c.prototype.collectionGroup=function(s){try{return new Xn(this,function(l,h){if(l=an(l,Th),Sh("collectionGroup","collection id",h),h.indexOf("/")>=0)throw new _e(ue.INVALID_ARGUMENT,"Invalid collection ID '"+h+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Jr(l,null,(m=h,new xo(Wt.emptyPath(),m)));var m}(this._delegate,s))}catch(l){throw pi(l,"collectionGroup()","Firestore.collectionGroup()")}},c.prototype.runTransaction=function(s){var h,l=this;return function(y,b){var C=this,x=new Wn;return y.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(C,void 0,void 0,function(){var O;return(0,T.Jh)(this,function(P){switch(P.label){case 0:return[4,(B=y,Ih(B).then(function(z){return z.datastore}))];case 1:return O=P.sent(),new Gl(y.asyncQueue,O,b,x).run(),[2]}var B})})}),x.promise}(Yt(h=this._delegate),function(y){return function(h){return s(new Ha(l,h))}(new $e(h,y))})},c.prototype.batch=function(){var s=this;return Yt(this._delegate),new bp(new _p(this._delegate,function(l){return kc(s._delegate,l)}))},c.prototype.loadBundle=function(s){throw new _e(ue.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},c.prototype.namedQuery=function(s){throw new _e(ue.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},c}(),od=function(c){function s(l){var h=this;return(h=c.call(this)||this).firestore=l,h}return(0,T.ZT)(s,c),s.prototype.convertBytes=function(l){return new Ua(new Oa(l))},s.prototype.convertReference=function(l){var h=this.convertDocumentKey(l,this.firestore._databaseId);return $a.eu(h,this.firestore,null)},s}(vp),Ha=function(){function c(s,l){this._firestore=s,this._delegate=l,this._userDataWriter=new od(s)}return c.prototype.get=function(s){var l=this,h=f(s);return this._delegate.get(h).then(function(m){return new Bn(l._firestore,new yo(l._firestore._delegate,l._userDataWriter,m._key,m._document,m.metadata,h.converter))})},c.prototype.set=function(s,l,h){var m=f(s);return h?(Zl("Transaction.set",h),this._delegate.set(m,l,h)):this._delegate.set(m,l),this},c.prototype.update=function(s,l,h){for(var m,y=[],b=3;b<arguments.length;b++)y[b-3]=arguments[b];var C=f(s);return 2===arguments.length?this._delegate.update(C,l):(m=this._delegate).update.apply(m,(0,T.ev)([C,l,h],y)),this},c.prototype.delete=function(s){var l=f(s);return this._delegate.delete(l),this},c}(),bp=function(){function c(s){this._delegate=s}return c.prototype.set=function(s,l,h){var m=f(s);return h?(Zl("WriteBatch.set",h),this._delegate.set(m,l,h)):this._delegate.set(m,l),this},c.prototype.update=function(s,l,h){for(var m,y=[],b=3;b<arguments.length;b++)y[b-3]=arguments[b];var C=f(s);return 2===arguments.length?this._delegate.update(C,l):(m=this._delegate).update.apply(m,(0,T.ev)([C,l,h],y)),this},c.prototype.delete=function(s){var l=f(s);return this._delegate.delete(l),this},c.prototype.commit=function(){return this._delegate.commit()},c}(),za=function(){function c(s,l,h){this._firestore=s,this._userDataWriter=l,this._delegate=h}return c.prototype.fromFirestore=function(s,l){var h=new kn(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,null);return this._delegate.fromFirestore(new Vh(this._firestore,h),l??{})},c.prototype.toFirestore=function(s,l){return l?this._delegate.toFirestore(s,l):this._delegate.toFirestore(s)},c.nu=function(s,l){var h=c.su,m=h.get(s);m||h.set(s,m=new WeakMap);var y=m.get(l);return y||(y=new c(s,new od(s),l),m.set(l,y)),y},c}();za.su=new WeakMap;var $a=function(){function c(s,l){this.firestore=s,this._delegate=l,this._userDataWriter=new od(s)}return c.iu=function(s,l,h){if(s.length%2!=0)throw new _e(ue.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+s.canonicalString()+" has "+s.length);return new c(l,new bn(l._delegate,h,new He(s)))},c.eu=function(s,l,h){return new c(l,new bn(l._delegate,h,s))},Object.defineProperty(c.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"parent",{get:function(){return new u(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),c.prototype.collection=function(s){try{return new u(this.firestore,Qs(this._delegate,s))}catch(l){throw pi(l,"collection()","DocumentReference.collection()")}},c.prototype.isEqual=function(s){return(s=(0,Ge.m9)(s))instanceof bn&&tv(this._delegate,s)},c.prototype.set=function(s,l){l=Zl("DocumentReference.set",l);try{return l?rd(this._delegate,s,l):rd(this._delegate,s)}catch(h){throw pi(h,"setDoc()","DocumentReference.set()")}},c.prototype.update=function(s,l){for(var h=[],m=2;m<arguments.length;m++)h[m-2]=arguments[m];try{return 1===arguments.length?na(this._delegate,s):na.apply(void 0,(0,T.ev)([this._delegate,s,l],h))}catch(y){throw pi(y,"updateDoc()","DocumentReference.update()")}},c.prototype.delete=function(){return kc(an((s=this._delegate).firestore,ur),[new dl(s._key,yn.none())]);var s},c.prototype.onSnapshot=function(){for(var s=this,l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var m=sd(l),y=wr(l,function(b){return new Bn(s.firestore,new yo(s.firestore._delegate,s._userDataWriter,b._key,b._document,b.metadata,s._delegate.converter))});return id(this._delegate,m,y)},c.prototype.get=function(s){var l=this;return("cache"===s?.source?function(h){h=an(h,bn);var m=an(h.firestore,ur),y=Yt(m),b=new Ba(m);return function(C,x){var O=this,P=new Wn;return C.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(O,void 0,void 0,function(){var B;return(0,T.Jh)(this,function(z){switch(z.label){case 0:return B=function(re,te,de){return(0,T.mG)(this,void 0,void 0,function(){var Me,je;return(0,T.Jh)(this,function(at){switch(at.label){case 0:return at.trys.push([0,2,,3]),[4,(ht=re,Jt=te,En=Pe(ht),En.persistence.runTransaction("read document","readonly",function(Vn){return En.Mn.mn(Vn,Jt)}))];case 1:return(je=at.sent()).isFoundDocument()?de.resolve(je):je.isNoDocument()?de.resolve(null):de.reject(new _e(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Me=at.sent(),je=xu(Me,"Failed to get document '"+te+" from cache"),de.reject(je),[3,3];case 3:return[2]}var ht,Jt,En})})},[4,Fm(C)];case 1:return[2,B.apply(void 0,[z.sent(),x,P])]}})})}),P.promise}(y,h._key).then(function(C){return new yo(m,b,h._key,C,new br(null!==C&&C.hasLocalMutations,!0),h.converter)})}(this._delegate):"server"===s?.source?function(h){h=an(h,bn);var m=an(h.firestore,ur);return Es(Yt(m),h._key,{source:"server"}).then(function(y){return Oc(m,h,y)})}(this._delegate):function(h){h=an(h,bn);var m=an(h.firestore,ur);return Es(Yt(m),h._key).then(function(y){return Oc(m,h,y)})}(this._delegate)).then(function(h){return new Bn(l.firestore,new yo(l.firestore._delegate,l._userDataWriter,h._key,h._document,h.metadata,l._delegate.converter))})},c.prototype.withConverter=function(s){return new c(this.firestore,this._delegate.withConverter(s?za.nu(this.firestore,s):null))},c}();function pi(c,s,l){return c.message=c.message.replace(s,l),c}function sd(c){for(var s=0,l=c;s<l.length;s++){var h=l[s];if("object"==typeof h&&!Pu(h))return h}return{}}function wr(c,s){var l,h,m;return{next:function(y){m.next&&m.next(s(y))},error:null===(l=(m=Pu(c[0])?c[0]:Pu(c[1])?c[1]:"function"==typeof c[0]?{next:c[0],error:c[1],complete:c[2]}:{next:c[1],error:c[2],complete:c[3]}).error)||void 0===l?void 0:l.bind(m),complete:null===(h=m.complete)||void 0===h?void 0:h.bind(m)}}var Bn=function(){function c(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(c.prototype,"ref",{get:function(){return new $a(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),c.prototype.data=function(s){return this._delegate.data(s)},c.prototype.get=function(s,l){return this._delegate.get(s,l)},c.prototype.isEqual=function(s){return Fh(this._delegate,s._delegate)},c}(),Vh=function(c){function s(){return null!==c&&c.apply(this,arguments)||this}return(0,T.ZT)(s,c),s.prototype.data=function(l){return this._delegate.data(l)},s}(Bn),Xn=function(){function c(s,l){this.firestore=s,this._delegate=l,this._userDataWriter=new od(s)}return c.prototype.where=function(s,l,h){try{return new c(this.firestore,Ss(this._delegate,(b=h,C=l,x=ta("where",m=s),new Wm(x,C,b))))}catch(m){throw pi(m,/(orderBy|where)\(\)/,"Query.$1()")}var m,b,C,x},c.prototype.orderBy=function(s,l){try{return new c(this.firestore,Ss(this._delegate,function(h,m){void 0===m&&(m="asc");var y=m,b=ta("orderBy",h);return new Lh(b,y)}(s,l)))}catch(h){throw pi(h,/(orderBy|where)\(\)/,"Query.$1()")}},c.prototype.limit=function(s){try{return new c(this.firestore,Ss(this._delegate,(Bm("limit",l=s),new Lu("limit",l,"F"))))}catch(l){throw pi(l,"limit()","Query.limit()")}var l},c.prototype.limitToLast=function(s){try{return new c(this.firestore,Ss(this._delegate,(Bm("limitToLast",l=s),new Lu("limitToLast",l,"L"))))}catch(l){throw pi(l,"limitToLast()","Query.limitToLast()")}var l},c.prototype.startAt=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new c(this.firestore,Ss(this._delegate,function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return new gp("startAt",h,!0)}.apply(void 0,s)))}catch(h){throw pi(h,"startAt()","Query.startAt()")}},c.prototype.startAfter=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new c(this.firestore,Ss(this._delegate,function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return new gp("startAfter",h,!1)}.apply(void 0,s)))}catch(h){throw pi(h,"startAfter()","Query.startAfter()")}},c.prototype.endBefore=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new c(this.firestore,Ss(this._delegate,function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return new jh("endBefore",h,!0)}.apply(void 0,s)))}catch(h){throw pi(h,"endBefore()","Query.endBefore()")}},c.prototype.endAt=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];try{return new c(this.firestore,Ss(this._delegate,function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];return new jh("endAt",h,!1)}.apply(void 0,s)))}catch(h){throw pi(h,"endAt()","Query.endAt()")}},c.prototype.isEqual=function(s){return Ah(this._delegate,s._delegate)},c.prototype.get=function(s){var l=this;return("cache"===s?.source?function(h){h=an(h,Jr);var m=an(h.firestore,ur),y=Yt(m),b=new Ba(m);return function(C,x){var O=this,P=new Wn;return C.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(O,void 0,void 0,function(){var B;return(0,T.Jh)(this,function(z){switch(z.label){case 0:return B=function(re,te,de){return(0,T.mG)(this,void 0,void 0,function(){var Me,je,at,ht,Jt;return(0,T.Jh)(this,function(En){switch(En.label){case 0:return En.trys.push([0,2,,3]),[4,ch(re,te,!0)];case 1:return Jt=En.sent(),Me=new Ul(te,Jt.Bn),je=Me._o(Jt.documents),at=Me.applyChanges(je,!1),de.resolve(at.snapshot),[3,3];case 2:return ht=En.sent(),Jt=xu(ht,"Failed to execute query '"+te+" against cache"),de.reject(Jt),[3,3];case 3:return[2]}})})},[4,Fm(C)];case 1:return[2,B.apply(void 0,[z.sent(),x,P])]}})})}),P.promise}(y,h._query).then(function(C){return new Jo(m,b,h,C)})}(this._delegate):"server"===s?.source?function(h){h=an(h,Jr);var m=an(h.firestore,ur),y=Yt(m),b=new Ba(m);return vo(y,h._query,{source:"server"}).then(function(C){return new Jo(m,b,h,C)})}(this._delegate):function(h){h=an(h,Jr);var m=an(h.firestore,ur),y=Yt(m),b=new Ba(m);return La(h._query),vo(y,h._query).then(function(C){return new Jo(m,b,h,C)})}(this._delegate)).then(function(h){return new Hh(l.firestore,new Jo(l.firestore._delegate,l._userDataWriter,l._delegate,h._snapshot))})},c.prototype.onSnapshot=function(){for(var s=this,l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];var m=sd(l),y=wr(l,function(b){return new Hh(s.firestore,new Jo(s.firestore._delegate,s._userDataWriter,s._delegate,b._snapshot))});return id(this._delegate,m,y)},c.prototype.withConverter=function(s){return new c(this.firestore,this._delegate.withConverter(s?za.nu(this.firestore,s):null))},c}(),Uh=function(){function c(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(c.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"doc",{get:function(){return new Vh(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),c}(),Hh=function(){function c(s,l){this._firestore=s,this._delegate=l}return Object.defineProperty(c.prototype,"query",{get:function(){return new Xn(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"docs",{get:function(){var s=this;return this._delegate.docs.map(function(l){return new Vh(s._firestore,l)})},enumerable:!1,configurable:!0}),c.prototype.docChanges=function(s){var l=this;return this._delegate.docChanges(s).map(function(h){return new Uh(l._firestore,h)})},c.prototype.forEach=function(s,l){var h=this;this._delegate.forEach(function(m){s.call(l,new Vh(h._firestore,m))})},c.prototype.isEqual=function(s){return Fh(this._delegate,s._delegate)},c}(),u=function(c){function s(l,h){var m=this;return(m=c.call(this,l,h)||this).firestore=l,m._delegate=h,m}return(0,T.ZT)(s,c),Object.defineProperty(s.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parent",{get:function(){var l=this._delegate.parent;return l?new $a(this.firestore,l):null},enumerable:!1,configurable:!0}),s.prototype.doc=function(l){try{return new $a(this.firestore,void 0===l?xh(this._delegate):xh(this._delegate,l))}catch(h){throw pi(h,"doc()","CollectionReference.doc()")}},s.prototype.add=function(l){var m,y,b,C,x,h=this;return(m=this._delegate,y=l,b=an(m.firestore,ur),C=xh(m),x=yp(m.converter,y),kc(b,[Pa(Cs(m.firestore),"addDoc",C._key,x,null!==m.converter,{}).toMutation(C._key,yn.exists(!1))]).then(function(){return C})).then(function(m){return new $a(h.firestore,m)})},s.prototype.isEqual=function(l){return tv(this._delegate,l._delegate)},s.prototype.withConverter=function(l){return new s(this.firestore,this._delegate.withConverter(l?za.nu(this.firestore,l):null))},s}(Xn);function f(c){return an(c,bn)}var v=function(){function c(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this._delegate=new(Js.bind.apply(Js,(0,T.ev)([void 0],s)))}return c.documentId=function(){return new c(ls.keyField().canonicalString())},c.prototype.isEqual=function(s){return(s=(0,Ge.m9)(s))instanceof Js&&this._delegate._internalPath.isEqual(s._internalPath)},c}(),w=function(){function c(s){this._delegate=s}return c.serverTimestamp=function(){var s=new Mc("serverTimestamp");return s._methodName="FieldValue.serverTimestamp",new c(s)},c.delete=function(){var s=new Oh("deleteField");return s._methodName="FieldValue.delete",new c(s)},c.arrayUnion=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var h=function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];return new Qo("arrayUnion",m)}.apply(void 0,s);return h._methodName="FieldValue.arrayUnion",new c(h)},c.arrayRemove=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var h=function(){for(var m=[],y=0;y<arguments.length;y++)m[y]=arguments[y];return new iv("arrayRemove",m)}.apply(void 0,s);return h._methodName="FieldValue.arrayRemove",new c(h)},c.increment=function(s){var l=new qm("increment",s);return l._methodName="FieldValue.increment",new c(l)},c.prototype.isEqual=function(s){return this._delegate.isEqual(s._delegate)},c}(),N=$t(75),V={Firestore:_y,GeoPoint:kh,Timestamp:Cn,Blob:Ua,Transaction:Ha,WriteBatch:bp,DocumentReference:$a,DocumentSnapshot:Bn,Query:Xn,QueryDocumentSnapshot:Vh,QuerySnapshot:Hh,CollectionReference:u,FieldPath:v,FieldValue:w,setLogLevel:function Bh(c){Tr.setLogLevel(c)},CACHE_SIZE_UNLIMITED:-1};!function me(c){c.INTERNAL.registerComponent(new N.wA("firestore",function(h){return s=h.getProvider("app").getImmediate(),l=h.getProvider("auth-internal"),new _y(s,new ur(s,l),new Po);var s,l},"PUBLIC").setServiceProps(Object.assign({},V))),c.registerVersion("@firebase/firestore","2.4.1")}(ye.Z)},669:(ec,vi,$t)=>{$t.r(vi);var ye=$t(778),T=$t(582),Ge=$t(157),st=$t(75),Ot="firebasestorage.googleapis.com",zi="storageBucket",le=function(M){function S(L,U){var Y=M.call(this,$(L),"Firebase Storage: "+U+" ("+$(L)+")")||this;return Y.customData={serverResponse:null},Y._baseMessage=Y.message,Object.setPrototypeOf(Y,S.prototype),Y}return(0,T.ZT)(S,M),S.prototype._codeEquals=function(L){return $(L)===this.code},Object.defineProperty(S.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(L){this.customData.serverResponse=L,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),S}(Ge.ZR);function $(M){return"storage/"+M}function Ce(){return new le("unknown","An unknown error occurred, please check the error payload for server response.")}function ft(){return new le("canceled","User canceled the upload/download.")}function pt(){return new le("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Gt(M){return new le("invalid-argument",M)}function qi(){return new le("app-deleted","The Firebase app was deleted.")}function ct(M){return new le("invalid-root-operation","The operation '"+M+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function so(M,S){return new le("invalid-format","String does not match format '"+M+"': "+S)}function Q(M){throw new le("internal-error","Internal error: "+M)}var On={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ao=function M(S,L){this.data=S,this.contentType=L||null};function mt(M,S){switch(M){case On.RAW:return new ao(ri(S));case On.BASE64:case On.BASE64URL:return new ao(ce(M,S));case On.DATA_URL:return new ao(function K(M){var S=new se(M);return S.base64?ce(On.BASE64,S.rest):function $n(M){var S;try{S=decodeURIComponent(M)}catch{throw so(On.DATA_URL,"Malformed data URL.")}return ri(S)}(S.rest)}(S),function J(M){return new se(M).contentType}(S))}throw Ce()}function ri(M){for(var S=[],L=0;L<M.length;L++){var U=M.charCodeAt(L);if(U<=127)S.push(U);else if(U<=2047)S.push(192|U>>6,128|63&U);else if(55296==(64512&U))if(L<M.length-1&&56320==(64512&M.charCodeAt(L+1))){var ie=U,Ee=M.charCodeAt(++L);S.push(240|(U=65536|(1023&ie)<<10|1023&Ee)>>18,128|U>>12&63,128|U>>6&63,128|63&U)}else S.push(239,191,189);else 56320==(64512&U)?S.push(239,191,189):S.push(224|U>>12,128|U>>6&63,128|63&U)}return new Uint8Array(S)}function ce(M,S){switch(M){case On.BASE64:var L=-1!==S.indexOf("-"),U=-1!==S.indexOf("_");if(L||U)throw so(M,"Invalid character '"+(L?"-":"_")+"' found: is it base64url encoded?");break;case On.BASE64URL:var ie=-1!==S.indexOf("+"),Ee=-1!==S.indexOf("/");if(ie||Ee)throw so(M,"Invalid character '"+(ie?"+":"/")+"' found: is it base64 encoded?");S=S.replace(/-/g,"+").replace(/_/g,"/")}var Ve;try{Ve=function Lr(M){return atob(M)}(S)}catch{throw so(M,"Invalid character found")}for(var Oe=new Uint8Array(Ve.length),Je=0;Je<Ve.length;Je++)Oe[Je]=Ve.charCodeAt(Je);return Oe}var se=function M(S){this.base64=!1,this.contentType=null;var L=S.match(/^data:([^,]+)?,/);if(null===L)throw so(On.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var U=L[1]||null;null!=U&&(this.base64=function ve(M,S){return!!(M.length>=S.length)&&M.substring(M.length-S.length)===S}(U,";base64"),this.contentType=this.base64?U.substring(0,U.length-7):U),this.rest=S.substring(S.indexOf(",")+1)},fe={STATE_CHANGED:"state_changed"},Ie={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Pt(M){switch(M){case"running":case"pausing":case"canceling":return Ie.RUNNING;case"paused":return Ie.PAUSED;case"success":return Ie.SUCCESS;case"canceled":return Ie.CANCELED;default:return Ie.ERROR}}var Qe=function(M){return M[M.NO_ERROR=0]="NO_ERROR",M[M.NETWORK_ERROR=1]="NETWORK_ERROR",M[M.ABORT=2]="ABORT",M}(Qe||{}),Xe=function(){function M(){var S=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Qe.NO_ERROR,this.sendPromise_=new Promise(function(L){S.xhr_.addEventListener("abort",function(){S.errorCode_=Qe.ABORT,L()}),S.xhr_.addEventListener("error",function(){S.errorCode_=Qe.NETWORK_ERROR,L()}),S.xhr_.addEventListener("load",function(){L()})})}return M.prototype.send=function(S,L,U,Y){if(this.sent_)throw Q("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(L,S,!0),void 0!==Y)for(var ie in Y)Y.hasOwnProperty(ie)&&this.xhr_.setRequestHeader(ie,Y[ie].toString());return void 0!==U?this.xhr_.send(U):this.xhr_.send(),this.sendPromise_},M.prototype.getErrorCode=function(){if(!this.sent_)throw Q("cannot .getErrorCode() before sending");return this.errorCode_},M.prototype.getStatus=function(){if(!this.sent_)throw Q("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},M.prototype.getResponseText=function(){if(!this.sent_)throw Q("cannot .getResponseText() before sending");return this.xhr_.responseText},M.prototype.abort=function(){this.xhr_.abort()},M.prototype.getResponseHeader=function(S){return this.xhr_.getResponseHeader(S)},M.prototype.addUploadProgressListener=function(S){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",S)},M.prototype.removeUploadProgressListener=function(S){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",S)},M}(),yt=function(){function M(){}return M.prototype.createConnection=function(){return function mn(){return new Xe}()},M}(),Vt=function(){function M(S,L){this.bucket=S,this.path_=L}return Object.defineProperty(M.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),M.prototype.fullServerUrl=function(){var S=encodeURIComponent;return"/b/"+S(this.bucket)+"/o/"+S(this.path)},M.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},M.makeFromBucketSpec=function(S,L){var U;try{U=M.makeFromUrl(S,L)}catch{return new M(S,"")}if(""===U.path)return U;throw function qt(M){return new le("invalid-default-bucket","Invalid default bucket '"+M+"'.")}(S)},M.makeFromUrl=function(S,L){var U=null,Y="([A-Za-z0-9.\\-_]+)",Ve=new RegExp("^gs://"+Y+"(/(.*))?$","i");function Je(Yi){Yi.path_=decodeURIComponent(Yi.path)}for(var wt=L.replace(/[.]/g,"\\."),Wi=[{regex:Ve,indices:{bucket:1,path:3},postModify:function ie(Yi){"/"===Yi.path.charAt(Yi.path.length-1)&&(Yi.path_=Yi.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+wt+"/v[A-Za-z0-9_]+/b/"+Y+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:Je},{regex:new RegExp("^https?://"+(L===Ot?"(?:storage.googleapis.com|storage.cloud.google.com)":L)+"/"+Y+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:Je}],wi=0;wi<Wi.length;wi++){var sc=Wi[wi],Ki=sc.regex.exec(S);if(Ki){var ne=Ki[sc.indices.path];ne||(ne=""),U=new M(Ki[sc.indices.bucket],ne),sc.postModify(U);break}}if(null==U)throw function hr(M){return new le("invalid-url","Invalid URL '"+M+"'.")}(S);return U},M}(),ii=function(){function M(S){this.promise_=Promise.reject(S)}return M.prototype.getPromise=function(){return this.promise_},M.prototype.cancel=function(S){},M}();function Nn(M){return"string"==typeof M||M instanceof String}function cn(M){return Pn()&&M instanceof Blob}function Pn(){return typeof Blob<"u"}function Rs(M,S,L,U){if(U<S)throw Gt("Invalid value for '"+M+"'. Expected "+S+" or greater.");if(U>L)throw Gt("Invalid value for '"+M+"'. Expected "+L+" or less.")}function co(M,S){var L=S.match(/^(\w+):\/\/.+/),U=L?.[1],Y=S;return null==U&&(Y="https://"+S),Y+"/v0"+M}function yd(M){var S=encodeURIComponent,L="?";for(var U in M)M.hasOwnProperty(U)&&(L=L+(S(U)+"=")+S(M[U])+"&");return L.slice(0,-1)}var jr=function(){function M(S,L,U,Y,ie,Ee,Ve,Oe,Je,bt,wt){var ir=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=S,this.method_=L,this.headers_=U,this.body_=Y,this.successCodes_=ie.slice(),this.additionalRetryCodes_=Ee.slice(),this.callback_=Ve,this.errorCallback_=Oe,this.progressCallback_=bt,this.timeout_=Je,this.pool_=wt,this.promise_=new Promise(function(or,dn){ir.resolve_=or,ir.reject_=dn,ir.start_()})}return M.prototype.start_=function(){var S=this;function U(Y,ie){var Ee=S.resolve_,Ve=S.reject_,Oe=ie.connection;if(ie.wasSuccessCode)try{var Je=S.callback_(Oe,Oe.getResponseText());!function Kn(M){return void 0!==M}(Je)?Ee():Ee(Je)}catch(wt){Ve(wt)}else if(null!==Oe)(bt=Ce()).serverResponse=Oe.getResponseText(),Ve(S.errorCallback_?S.errorCallback_(Oe,bt):bt);else if(ie.canceled)Ve(bt=S.appDelete_?qi():ft());else{var bt;Ve(bt=function Bt(){return new le("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())}}this.canceled_?U(0,new is(!1,null,!0)):this.backoffId_=function Ct(M,S,L){var U=1,Y=null,ie=!1,Ee=0;function Ve(){return 2===Ee}var Oe=!1;function Je(){for(var dn=[],In=0;In<arguments.length;In++)dn[In]=arguments[In];Oe||(Oe=!0,S.apply(null,dn))}function bt(dn){Y=setTimeout(function(){Y=null,M(wt,Ve())},dn)}function wt(dn){for(var In=[],mr=1;mr<arguments.length;mr++)In[mr-1]=arguments[mr];if(!Oe){if(dn)return void Je.call.apply(Je,(0,T.ev)([null,dn],In));var bi;if(Ve()||ie)return void Je.call.apply(Je,(0,T.ev)([null,dn],In));U<64&&(U*=2),1===Ee?(Ee=2,bi=0):bi=1e3*(U+Math.random()),bt(bi)}}var ir=!1;function or(dn){ir||(ir=!0,!Oe&&(null!==Y?(dn||(Ee=2),clearTimeout(Y),bt(0)):dn||(Ee=1)))}return bt(0),setTimeout(function(){ie=!0,or(!0)},L),or}(function L(Y,ie){if(ie)Y(!1,new is(!1,null,!0));else{var Ee=S.pool_.createConnection();S.pendingConnection_=Ee,null!==S.progressCallback_&&Ee.addUploadProgressListener(Ve),Ee.send(S.url_,S.method_,S.body_,S.headers_).then(function(){null!==S.progressCallback_&&Ee.removeUploadProgressListener(Ve),S.pendingConnection_=null;var Oe=Ee.getErrorCode()===Qe.NO_ERROR,Je=Ee.getStatus();if(Oe&&!S.isRetryStatusCode_(Je)){var wt=-1!==S.successCodes_.indexOf(Je);Y(!0,new is(wt,Ee))}else{var bt=Ee.getErrorCode()===Qe.ABORT;Y(!1,new is(!1,null,bt))}})}function Ve(Oe){null!==S.progressCallback_&&S.progressCallback_(Oe.loaded,Oe.lengthComputable?Oe.total:-1)}},U,this.timeout_)},M.prototype.getPromise=function(){return this.promise_},M.prototype.cancel=function(S){this.canceled_=!0,this.appDelete_=S||!1,null!==this.backoffId_&&function Tt(M){M(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},M.prototype.isRetryStatusCode_=function(S){var L=S>=500&&S<600,Y=-1!==[408,429].indexOf(S),ie=-1!==this.additionalRetryCodes_.indexOf(S);return L||Y||ie},M}(),is=function M(S,L,U){this.wasSuccessCode=S,this.connection=L,this.canceled=!!U};function Gu(){for(var M=[],S=0;S<arguments.length;S++)M[S]=arguments[S];var L=function pr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==L){for(var U=new L,Y=0;Y<M.length;Y++)U.append(M[Y]);return U.getBlob()}if(Pn())return new Blob(M);throw new le("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Mn=function(){function M(S,L){var U=0,Y="";cn(S)?(this.data_=S,U=S.size,Y=S.type):S instanceof ArrayBuffer?(L?this.data_=new Uint8Array(S):(this.data_=new Uint8Array(S.byteLength),this.data_.set(new Uint8Array(S))),U=this.data_.length):S instanceof Uint8Array&&(L?this.data_=S:(this.data_=new Uint8Array(S.length),this.data_.set(S)),U=S.length),this.size_=U,this.type_=Y}return M.prototype.size=function(){return this.size_},M.prototype.type=function(){return this.type_},M.prototype.slice=function(S,L){if(cn(this.data_)){var Y=function qc(M,S,L){return M.webkitSlice?M.webkitSlice(S,L):M.mozSlice?M.mozSlice(S,L):M.slice?M.slice(S,L):null}(this.data_,S,L);return null===Y?null:new M(Y)}return new M(new Uint8Array(this.data_.buffer,S,L-S),!0)},M.getBlob=function(){for(var S=[],L=0;L<arguments.length;L++)S[L]=arguments[L];if(Pn()){var U=S.map(function(Oe){return Oe instanceof M?Oe.data_:Oe});return new M(Gu.apply(null,U))}var Y=S.map(function(Oe){return Nn(Oe)?mt(On.RAW,Oe).data:Oe.data_}),ie=0;Y.forEach(function(Oe){ie+=Oe.byteLength});var Ee=new Uint8Array(ie),Ve=0;return Y.forEach(function(Oe){for(var Je=0;Je<Oe.length;Je++)Ee[Ve++]=Oe[Je]}),new M(Ee,!0)},M.prototype.uploadData=function(){return this.data_},M}();function jo(M){var S;try{S=JSON.parse(M)}catch{return null}return function An(M){return"object"==typeof M&&!Array.isArray(M)}(S)?S:null}function ee(M){var S=M.lastIndexOf("/",M.length-2);return-1===S?M:M.slice(S+1)}function oe(M,S){return S}var X=function M(S,L,U,Y){this.server=S,this.local=L||S,this.writable=!!U,this.xform=Y||oe},Ae=null;function Xt(){if(Ae)return Ae;var M=[];M.push(new X("bucket")),M.push(new X("generation")),M.push(new X("metageneration")),M.push(new X("name","fullPath",!0));var L=new X("name");L.xform=function S(ie,Ee){return function ut(M){return!Nn(M)||M.length<2?M:ee(M)}(Ee)},M.push(L);var Y=new X("size");return Y.xform=function U(ie,Ee){return void 0!==Ee?Number(Ee):Ee},M.push(Y),M.push(new X("timeCreated")),M.push(new X("updated")),M.push(new X("md5Hash",null,!0)),M.push(new X("cacheControl",null,!0)),M.push(new X("contentDisposition",null,!0)),M.push(new X("contentEncoding",null,!0)),M.push(new X("contentLanguage",null,!0)),M.push(new X("contentType",null,!0)),M.push(new X("metadata","customMetadata",!0)),Ae=M}function Br(M,S,L){var U=jo(S);return null===U?null:function en(M,S,L){for(var U={type:"file"},Y=L.length,ie=0;ie<Y;ie++){var Ee=L[ie];U[Ee.local]=Ee.xform(U,S[Ee.server])}return function un(M,S){Object.defineProperty(M,"ref",{get:function L(){var ie=new Vt(M.bucket,M.fullPath);return S._makeStorageReference(ie)}})}(U,M),U}(M,U,L)}function _t(M,S){for(var L={},U=S.length,Y=0;Y<U;Y++){var ie=S[Y];ie.writable&&(L[ie.server]=M[ie.local])}return JSON.stringify(L)}var yi="prefixes",Vr="items";var uo=function M(S,L,U,Y){this.url=S,this.method=L,this.handler=U,this.timeout=Y,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function ln(M){if(!M)throw Ce()}function ks(M,S){return function L(U,Y){var ie=Br(M,Y,S);return ln(null!==ie),ie}}function Bo(M){return function S(L,U){var Y;return Y=401===L.getStatus()?L.getResponseText().includes("Firebase App Check token is invalid")?function jt(){return new le("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function Ne(){return new le("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===L.getStatus()?function xe(M){return new le("quota-exceeded","Quota for bucket '"+M+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(M.bucket):403===L.getStatus()?function Nt(M){return new le("unauthorized","User does not have permission to access '"+M+"'.")}(M.path):U,Y.serverResponse=U.serverResponse,Y}}function Fn(M){var S=Bo(M);return function L(U,Y){var ie=S(U,Y);return 404===U.getStatus()&&(ie=function Re(M){return new le("object-not-found","Object '"+M+"' does not exist.")}(M.path)),ie.serverResponse=Y.serverResponse,ie}}function tc(M,S,L){var Y=co(S.fullServerUrl(),M.host),Ee=M.maxOperationRetryTime,Ve=new uo(Y,"GET",ks(M,L),Ee);return Ve.errorHandler=Fn(S),Ve}function Gc(M,S,L,U,Y){var ie={};ie.prefix=S.isRoot?"":S.path+"/",L&&L.length>0&&(ie.delimiter=L),U&&(ie.pageToken=U),Y&&(ie.maxResults=Y);var Ve=co(S.bucketOnlyServerUrl(),M.host),Je=M.maxOperationRetryTime,bt=new uo(Ve,"GET",function bd(M,S){return function L(U,Y){var ie=function Wu(M,S,L){var U=jo(L);return null===U?null:function nt(M,S,L){var U={prefixes:[],items:[],nextPageToken:L.nextPageToken};if(L[yi])for(var Y=0,ie=L[yi];Y<ie.length;Y++){var Ve=ie[Y].replace(/\/$/,""),Oe=M._makeStorageReference(new Vt(S,Ve));U.prefixes.push(Oe)}if(L[Vr])for(var Je=0,bt=L[Vr];Je<bt.length;Je++)Oe=M._makeStorageReference(new Vt(S,bt[Je].name)),U.items.push(Oe);return U}(M,S,U)}(M,S,Y);return ln(null!==ie),ie}}(M,S.bucket),Je);return bt.urlParams=ie,bt.errorHandler=Bo(S),bt}function Up(M,S,L){var U=Object.assign({},L);return U.fullPath=M.path,U.size=S.size(),U.contentType||(U.contentType=function Kc(M,S){return M&&M.contentType||S&&S.type()||"application/octet-stream"}(null,S)),U}var pe=function M(S,L,U,Y){this.current=S,this.total=L,this.finalized=!!U,this.metadata=Y||null};function os(M,S){var L=null;try{L=M.getResponseHeader("X-Goog-Upload-Status")}catch{ln(!1)}return ln(!!L&&-1!==(S||["active"]).indexOf(L)),L}var ca=function M(S,L,U){var Y=function rn(M){return"function"==typeof M}(S)||null!=L||null!=U;if(Y)this.next=S,this.error=L,this.complete=U;else{var ie=S;this.next=ie.next,this.error=ie.error,this.complete=ie.complete}};function Os(M){return function(){for(var S=[],L=0;L<arguments.length;L++)S[L]=arguments[L];Promise.resolve().then(function(){return M.apply(void 0,S)})}}var _i=function(){function M(S,L,U){var Y=this;void 0===U&&(U=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=S,this._blob=L,this._metadata=U,this._mappings=Xt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(ie){Y._request=void 0,Y._chunkMultiplier=1,ie._codeEquals("canceled")?(Y._needToFetchStatus=!0,Y.completeTransitions_()):(Y._error=ie,Y._transition("error"))},this._metadataErrorHandler=function(ie){Y._request=void 0,ie._codeEquals("canceled")?Y.completeTransitions_():(Y._error=ie,Y._transition("error"))},this._promise=new Promise(function(ie,Ee){Y._resolve=ie,Y._reject=Ee,Y._start()}),this._promise.then(null,function(){})}return M.prototype._makeProgressCallback=function(){var S=this,L=this._transferred;return function(U){return S._updateProgress(L+U)}},M.prototype._shouldDoResumable=function(S){return S.size()>262144},M.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},M.prototype._resolveToken=function(S){var L=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(U){var Y=U[0],ie=U[1];switch(L._state){case"running":S(Y,ie);break;case"canceling":L._transition("canceled");break;case"pausing":L._transition("paused")}})},M.prototype._createResumable=function(){var S=this;this._resolveToken(function(L,U){var Y=function gt(M,S,L,U,Y){var ie=S.bucketOnlyServerUrl(),Ee=Up(S,U,Y),Ve={name:Ee.fullPath},Oe=co(ie,M.host),bt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+U.size(),"X-Goog-Upload-Header-Content-Type":Ee.contentType,"Content-Type":"application/json; charset=utf-8"},wt=_t(Ee,L),dn=new uo(Oe,"POST",function or(In){var mr;os(In);try{mr=In.getResponseHeader("X-Goog-Upload-URL")}catch{ln(!1)}return ln(Nn(mr)),mr},M.maxUploadRetryTime);return dn.urlParams=Ve,dn.headers=bt,dn.body=wt,dn.errorHandler=Bo(S),dn}(S._ref.storage,S._ref._location,S._mappings,S._blob,S._metadata),ie=S._ref.storage._makeRequest(Y,L,U);S._request=ie,ie.getPromise().then(function(Ee){S._request=void 0,S._uploadUrl=Ee,S._needToFetchStatus=!1,S.completeTransitions_()},S._errorHandler)})},M.prototype._fetchStatus=function(){var S=this,L=this._uploadUrl;this._resolveToken(function(U,Y){var ie=function on(M,S,L,U){var Oe=new uo(L,"POST",function ie(Je){var bt=os(Je,["active","final"]),wt=null;try{wt=Je.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ln(!1)}wt||ln(!1);var ir=Number(wt);return ln(!isNaN(ir)),new pe(ir,U.size(),"final"===bt)},M.maxUploadRetryTime);return Oe.headers={"X-Goog-Upload-Command":"query"},Oe.errorHandler=Bo(S),Oe}(S._ref.storage,S._ref._location,L,S._blob),Ee=S._ref.storage._makeRequest(ie,U,Y);S._request=Ee,Ee.getPromise().then(function(Ve){S._request=void 0,S._updateProgress(Ve.current),S._needToFetchStatus=!1,Ve.finalized&&(S._needToFetchMetadata=!0),S.completeTransitions_()},S._errorHandler)})},M.prototype._continueUpload=function(){var S=this,L=262144*this._chunkMultiplier,U=new pe(this._transferred,this._blob.size()),Y=this._uploadUrl;this._resolveToken(function(ie,Ee){var Ve;try{Ve=function Vo(M,S,L,U,Y,ie,Ee,Ve){var Oe=new pe(0,0);if(Ee?(Oe.current=Ee.current,Oe.total=Ee.total):(Oe.current=0,Oe.total=U.size()),U.size()!==Oe.total)throw function zn(){return new le("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();var Je=Oe.total-Oe.current,bt=Je;Y>0&&(bt=Math.min(bt,Y));var wt=Oe.current,dn={"X-Goog-Upload-Command":bt===Je?"upload, finalize":"upload","X-Goog-Upload-Offset":""+Oe.current},In=U.slice(wt,wt+bt);if(null===In)throw pt();var Wi=new uo(L,"POST",function mr(wi,sc){var Yi,Ki=os(wi,["active","final"]),gr=Oe.current+bt,ne=U.size();return Yi="final"===Ki?ks(S,ie)(wi,sc):null,new pe(gr,ne,"final"===Ki,Yi)},S.maxUploadRetryTime);return Wi.headers=dn,Wi.body=In.uploadData(),Wi.progressCallback=Ve||null,Wi.errorHandler=Bo(M),Wi}(S._ref._location,S._ref.storage,Y,S._blob,L,S._mappings,U,S._makeProgressCallback())}catch(Je){return S._error=Je,void S._transition("error")}var Oe=S._ref.storage._makeRequest(Ve,ie,Ee);S._request=Oe,Oe.getPromise().then(function(Je){S._increaseMultiplier(),S._request=void 0,S._updateProgress(Je.current),Je.finalized?(S._metadata=Je.metadata,S._transition("success")):S.completeTransitions_()},S._errorHandler)})},M.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},M.prototype._fetchMetadata=function(){var S=this;this._resolveToken(function(L,U){var Y=tc(S._ref.storage,S._ref._location,S._mappings),ie=S._ref.storage._makeRequest(Y,L,U);S._request=ie,ie.getPromise().then(function(Ee){S._request=void 0,S._metadata=Ee,S._transition("success")},S._metadataErrorHandler)})},M.prototype._oneShotUpload=function(){var S=this;this._resolveToken(function(L,U){var Y=function aa(M,S,L,U,Y){var ie=S.bucketOnlyServerUrl(),Ee={"X-Goog-Upload-Protocol":"multipart"},Oe=function Ve(){for(var Wi="",wi=0;wi<2;wi++)Wi+=Math.random().toString().slice(2);return Wi}();Ee["Content-Type"]="multipart/related; boundary="+Oe;var Je=Up(S,U,Y),bt=_t(Je,L),or=Mn.getBlob("--"+Oe+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+bt+"\r\n--"+Oe+"\r\nContent-Type: "+Je.contentType+"\r\n\r\n",U,"\r\n--"+Oe+"--");if(null===or)throw pt();var dn={name:Je.fullPath},In=co(ie,M.host),cs=M.maxUploadRetryTime,bi=new uo(In,"POST",ks(M,L),cs);return bi.urlParams=dn,bi.headers=Ee,bi.body=or.uploadData(),bi.errorHandler=Bo(S),bi}(S._ref.storage,S._ref._location,S._mappings,S._blob,S._metadata),ie=S._ref.storage._makeRequest(Y,L,U);S._request=ie,ie.getPromise().then(function(Ee){S._request=void 0,S._metadata=Ee,S._updateProgress(S._blob.size()),S._transition("success")},S._errorHandler)})},M.prototype._updateProgress=function(S){var L=this._transferred;this._transferred=S,this._transferred!==L&&this._notifyObservers()},M.prototype._transition=function(S){if(this._state!==S)switch(S){case"canceling":case"pausing":this._state=S,void 0!==this._request&&this._request.cancel();break;case"running":var L="paused"===this._state;this._state=S,L&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=S,this._notifyObservers();break;case"canceled":this._error=ft(),this._state=S,this._notifyObservers()}},M.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(M.prototype,"snapshot",{get:function(){var S=Pt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:S,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),M.prototype.on=function(S,L,U,Y){var ie=this,Ee=new ca(L,U,Y);return this._addObserver(Ee),function(){ie._removeObserver(Ee)}},M.prototype.then=function(S,L){return this._promise.then(S,L)},M.prototype.catch=function(S){return this.then(null,S)},M.prototype._addObserver=function(S){this._observers.push(S),this._notifyObserver(S)},M.prototype._removeObserver=function(S){var L=this._observers.indexOf(S);-1!==L&&this._observers.splice(L,1)},M.prototype._notifyObservers=function(){var S=this;this._finishPromise(),this._observers.slice().forEach(function(U){S._notifyObserver(U)})},M.prototype._finishPromise=function(){if(void 0!==this._resolve){var S=!0;switch(Pt(this._state)){case Ie.SUCCESS:Os(this._resolve.bind(null,this.snapshot))();break;case Ie.CANCELED:case Ie.ERROR:Os(this._reject.bind(null,this._error))();break;default:S=!1}S&&(this._resolve=void 0,this._reject=void 0)}},M.prototype._notifyObserver=function(S){switch(Pt(this._state)){case Ie.RUNNING:case Ie.PAUSED:S.next&&Os(S.next.bind(S,this.snapshot))();break;case Ie.SUCCESS:S.complete&&Os(S.complete.bind(S))();break;default:S.error&&Os(S.error.bind(S,this._error))()}},M.prototype.resume=function(){var S="paused"===this._state||"pausing"===this._state;return S&&this._transition("running"),S},M.prototype.pause=function(){var S="running"===this._state;return S&&this._transition("pausing"),S},M.prototype.cancel=function(){var S="running"===this._state||"pausing"===this._state;return S&&this._transition("canceling"),S},M}(),ss=function(){function M(S,L){this._service=S,this._location=L instanceof Vt?L:Vt.makeFromUrl(L,S.host)}return M.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},M.prototype._newRef=function(S,L){return new M(S,L)},Object.defineProperty(M.prototype,"root",{get:function(){var S=new Vt(this._location.bucket,"");return this._newRef(this._service,S)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"name",{get:function(){return ee(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"parent",{get:function(){var S=function G(M){if(0===M.length)return null;var S=M.lastIndexOf("/");return-1===S?"":M.slice(0,S)}(this._location.path);if(null===S)return null;var L=new Vt(this._location.bucket,S);return new M(this._service,L)},enumerable:!1,configurable:!0}),M.prototype._throwIfRoot=function(S){if(""===this._location.path)throw ct(S)},M}();function nc(M){var S={prefixes:[],items:[]};return wo(M,S).then(function(){return S})}function wo(M,S,L){return(0,T.mG)(this,void 0,void 0,function(){var Y,ie,Ee;return(0,T.Jh)(this,function(Ve){switch(Ve.label){case 0:return[4,ua(M,{pageToken:L})];case 1:return Y=Ve.sent(),(ie=S.prefixes).push.apply(ie,Y.prefixes),(Ee=S.items).push.apply(Ee,Y.items),null==Y.nextPageToken?[3,3]:[4,wo(M,S,Y.nextPageToken)];case 2:Ve.sent(),Ve.label=3;case 3:return[2]}})})}function ua(M,S){return(0,T.mG)(this,void 0,void 0,function(){var L,U;return(0,T.Jh)(this,function(Y){switch(Y.label){case 0:return null!=S&&"number"==typeof S.maxResults&&Rs("options.maxResults",1,1e3,S.maxResults),U=Gc(M.storage,M._location,"/",(L=S||{}).pageToken,L.maxResults),[4,M.storage.makeRequestWithTokens(U)];case 1:return[2,Y.sent().getPromise()]}})})}function nf(M){return(0,T.mG)(this,void 0,void 0,function(){var S;return(0,T.Jh)(this,function(L){switch(L.label){case 0:return M._throwIfRoot("getDownloadURL"),S=function sa(M,S,L){var Y=co(S.fullServerUrl(),M.host),Ee=M.maxOperationRetryTime,Ve=new uo(Y,"GET",function gn(M,S){return function L(U,Y){var ie=Br(M,Y,S);return ln(null!==ie),function Qt(M,S,L){var U=jo(S);if(null===U||!Nn(U.downloadTokens))return null;var Y=U.downloadTokens;if(0===Y.length)return null;var ie=encodeURIComponent;return Y.split(",").map(function(Oe){var bt=M.fullPath;return co("/b/"+ie(M.bucket)+"/o/"+ie(bt),L)+yd({alt:"media",token:Oe})})[0]}(ie,Y,M.host)}}(M,L),Ee);return Ve.errorHandler=Fn(S),Ve}(M.storage,M._location,Xt()),[4,M.storage.makeRequestWithTokens(S)];case 1:return[2,L.sent().getPromise().then(function(U){if(null===U)throw function Ke(){return new le("no-download-url","The given file does not have any download URLs.")}();return U})]}})})}function Yc(M,S){var L=function q(M,S){var L=S.split("/").filter(function(U){return U.length>0}).join("/");return 0===M.length?L:M+"/"+L}(M._location.path,S),U=new Vt(M._location.bucket,L);return new ss(M.storage,U)}function Eo(M){return/^[A-Za-z]+:\/\//.test(M)}function Ur(M,S){if(M instanceof Zc){var L=M;if(null==L._bucket)throw function fr(){return new le("no-default-bucket","No default bucket found. Did you set the '"+zi+"' property when initializing the app?")}();var U=new ss(L,L._bucket);return null!=S?Ur(U,S):U}return void 0!==S?Yc(M,S):M}function lt(M,S){if(S&&Eo(S)){if(M instanceof Zc)return function rf(M,S){return new ss(M,S)}(M,S);throw Gt("To use ref(service, url), the first argument must be a Storage instance.")}return Ur(M,S)}function rc(M,S){var L=S?.[zi];return null==L?null:Vt.makeFromBucketSpec(L,M)}var Zc=function(){function M(S,L,U,Y,ie,Ee){this.app=S,this._authProvider=L,this._appCheckProvider=U,this._pool=Y,this._url=ie,this._firebaseVersion=Ee,this._bucket=null,this._host=Ot,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ie?Vt.makeFromBucketSpec(ie,this._host):rc(this._host,this.app.options)}return Object.defineProperty(M.prototype,"host",{get:function(){return this._host},set:function(S){this._host=S,this._bucket=null!=this._url?Vt.makeFromBucketSpec(this._url,S):rc(S,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(S){Rs("time",0,Number.POSITIVE_INFINITY,S),this._maxUploadRetryTime=S},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(S){Rs("time",0,Number.POSITIVE_INFINITY,S),this._maxOperationRetryTime=S},enumerable:!1,configurable:!0}),M.prototype._getAuthToken=function(){return(0,T.mG)(this,void 0,void 0,function(){var S,L;return(0,T.Jh)(this,function(U){switch(U.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(S=this._authProvider.getImmediate({optional:!0}))?[4,S.getToken()]:[3,2];case 1:if(null!==(L=U.sent()))return[2,L.accessToken];U.label=2;case 2:return[2,null]}})})},M.prototype._getAppCheckToken=function(){return(0,T.mG)(this,void 0,void 0,function(){var S;return(0,T.Jh)(this,function(U){switch(U.label){case 0:return(S=this._appCheckProvider.getImmediate({optional:!0}))?[4,S.getToken()]:[3,2];case 1:return[2,U.sent().token];case 2:return[2,null]}})})},M.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(S){return S.cancel()}),this._requests.clear()),Promise.resolve()},M.prototype._makeStorageReference=function(S){return new ss(this,S)},M.prototype._makeRequest=function(S,L,U){var Y=this;if(this._deleted)return new ii(qi());var ie=function Gi(M,S,L,U,Y,ie){var Ee=yd(M.urlParams),Ve=M.url+Ee,Oe=Object.assign({},M.headers);return function _d(M,S){S&&(M["X-Firebase-GMPID"]=S)}(Oe,S),function ef(M,S){null!==S&&S.length>0&&(M.Authorization="Firebase "+S)}(Oe,L),function Oi(M,S){M["X-Firebase-Storage-Version"]="webjs/"+(S??"AppManager")}(Oe,ie),function It(M,S){null!==S&&(M["X-Firebase-AppCheck"]=S)}(Oe,U),new jr(Ve,M.method,Oe,M.body,M.successCodes,M.additionalRetryCodes,M.handler,M.errorHandler,M.timeout,M.progressCallback,Y)}(S,this._appId,L,U,this._pool,this._firebaseVersion);return this._requests.add(ie),ie.getPromise().then(function(){return Y._requests.delete(ie)},function(){return Y._requests.delete(ie)}),ie},M.prototype.makeRequestWithTokens=function(S){return(0,T.mG)(this,void 0,void 0,function(){var L;return(0,T.Jh)(this,function(ie){switch(ie.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return L=ie.sent(),[2,this._makeRequest(S,L[0],L[1])]}})})},M}();function as(M,S){return lt(M=(0,Ge.m9)(M),S)}var kt=function(){function M(S,L,U){this._delegate=S,this.task=L,this.ref=U}return Object.defineProperty(M.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),M}(),Ns=function(){function M(S,L){this._delegate=S,this._ref=L,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(M.prototype,"snapshot",{get:function(){return new kt(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),M.prototype.then=function(S,L){var U=this;return this._delegate.then(function(Y){if(S)return S(new kt(Y,U,U._ref))},L)},M.prototype.on=function(S,L,U,Y){var ie=this,Ee=void 0;return L&&(Ee="function"==typeof L?function(Ve){return L(new kt(Ve,ie,ie._ref))}:{next:L.next?function(Ve){return L.next(new kt(Ve,ie,ie._ref))}:void 0,complete:L.complete||void 0,error:L.error||void 0}),this._delegate.on(S,Ee,U||void 0,Y||void 0)},M}(),Dt=function(){function M(S,L){this._delegate=S,this._service=L}return Object.defineProperty(M.prototype,"prefixes",{get:function(){var S=this;return this._delegate.prefixes.map(function(L){return new oi(L,S._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"items",{get:function(){var S=this;return this._delegate.items.map(function(L){return new oi(L,S._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),M}(),oi=function(){function M(S,L){this._delegate=S,this.storage=L}return Object.defineProperty(M.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),M.prototype.toString=function(){return this._delegate.toString()},M.prototype.child=function(S){var L=function ic(M,S){return Yc(M,S)}(this._delegate,S);return new M(L,this.storage)},Object.defineProperty(M.prototype,"root",{get:function(){return new M(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"parent",{get:function(){var S=this._delegate.parent;return null==S?null:new M(S,this.storage)},enumerable:!1,configurable:!0}),M.prototype.put=function(S,L){return this._throwIfRoot("put"),new Ns(function ke(M,S,L){return function wd(M,S,L){return M._throwIfRoot("uploadBytesResumable"),new _i(M,new Mn(S),L)}(M=(0,Ge.m9)(M),S,L)}(this._delegate,S,L),this)},M.prototype.putString=function(S,L,U){void 0===L&&(L=On.RAW),this._throwIfRoot("putString");var Y=mt(L,S),ie=(0,T.pi)({},U);return null==ie.contentType&&null!=Y.contentType&&(ie.contentType=Y.contentType),new Ns(new _i(this._delegate,new Mn(Y.data,!0),ie),this)},M.prototype.listAll=function(){var S=this;return function Yu(M){return nc(M=(0,Ge.m9)(M))}(this._delegate).then(function(L){return new Dt(L,S.storage)})},M.prototype.list=function(S){var L=this;return function Xc(M,S){return ua(M=(0,Ge.m9)(M),S)}(this._delegate,S||void 0).then(function(U){return new Dt(U,L.storage)})},M.prototype.getMetadata=function(){return function Ku(M){return function Ed(M){return(0,T.mG)(this,void 0,void 0,function(){var S;return(0,T.Jh)(this,function(L){switch(L.label){case 0:return M._throwIfRoot("getMetadata"),S=tc(M.storage,M._location,Xt()),[4,M.storage.makeRequestWithTokens(S)];case 1:return[2,L.sent().getPromise()]}})})}(M=(0,Ge.m9)(M))}(this._delegate)},M.prototype.updateMetadata=function(S){return function _n(M,S){return function Ni(M,S){return(0,T.mG)(this,void 0,void 0,function(){var L;return(0,T.Jh)(this,function(U){switch(U.label){case 0:return M._throwIfRoot("updateMetadata"),L=function ot(M,S,L,U){var ie=co(S.fullServerUrl(),M.host),Ve=_t(L,U),Je=M.maxOperationRetryTime,bt=new uo(ie,"PATCH",ks(M,U),Je);return bt.headers={"Content-Type":"application/json; charset=utf-8"},bt.body=Ve,bt.errorHandler=Fn(S),bt}(M.storage,M._location,S,Xt()),[4,M.storage.makeRequestWithTokens(L)];case 1:return[2,U.sent().getPromise()]}})})}(M=(0,Ge.m9)(M),S)}(this._delegate,S)},M.prototype.getDownloadURL=function(){return function da(M){return nf(M=(0,Ge.m9)(M))}(this._delegate)},M.prototype.delete=function(){return this._throwIfRoot("delete"),function Zu(M){return function la(M){return(0,T.mG)(this,void 0,void 0,function(){var S;return(0,T.Jh)(this,function(L){switch(L.label){case 0:return M._throwIfRoot("deleteObject"),S=function Wc(M,S){var U=co(S.fullServerUrl(),M.host),Ve=new uo(U,"DELETE",function Ee(Oe,Je){},M.maxOperationRetryTime);return Ve.successCodes=[200,204],Ve.errorHandler=Fn(S),Ve}(M.storage,M._location),[4,M.storage.makeRequestWithTokens(S)];case 1:return[2,L.sent().getPromise()]}})})}(M=(0,Ge.m9)(M))}(this._delegate)},M.prototype._throwIfRoot=function(S){if(""===this._delegate._location.path)throw ct(S)},M}(),oc=function(){function M(S,L){this.app=S,this._delegate=L}return Object.defineProperty(M.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),M.prototype.ref=function(S){if(Eo(S))throw Gt("ref() expected a child path but got a URL, use refFromURL instead.");return new oi(as(this._delegate,S),this)},M.prototype.refFromURL=function(S){if(!Eo(S))throw Gt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Vt.makeFromUrl(S,this._delegate.host)}catch{throw Gt("refFromUrl() expected a valid full URL but got an invalid one.")}return new oi(as(this._delegate,S),this)},M.prototype.setMaxUploadRetryTime=function(S){this._delegate.maxUploadRetryTime=S},M.prototype.setMaxOperationRetryTime=function(S){this._delegate.maxOperationRetryTime=S},M.prototype.useEmulator=function(S,L,U){void 0===U&&(U={}),function Qc(M,S,L,U){void 0===U&&(U={}),function sf(M,S,L,U){void 0===U&&(U={}),M.host="http://"+S+":"+L;var Y=U.mockUserToken;Y&&(M._overrideAuthToken="string"==typeof Y?Y:(0,Ge.Sg)(Y,M.app.options.projectId))}(M,S,L,U)}(this._delegate,S,L,U)},M}();function dt(M,S){var L=S.instanceIdentifier,U=M.getProvider("app").getImmediate(),Y=M.getProvider("auth-internal"),ie=M.getProvider("app-check-internal");return new oc(U,new Zc(U,Y,ie,new yt,L,ye.Z.SDK_VERSION))}!function Cd(M){var S={TaskState:Ie,TaskEvent:fe,StringFormat:On,Storage:Zc,Reference:oi};M.INTERNAL.registerComponent(new st.wA("storage",dt,"PUBLIC").setServiceProps(S).setMultipleInstances(!0)),M.registerVersion("@firebase/storage","0.7.1")}(ye.Z)},582:(ec,vi,$t)=>{$t.d(vi,{CR:()=>Bt,FC:()=>pt,Jh:()=>xe,KL:()=>Ke,XA:()=>Nt,ZT:()=>T,ev:()=>qt,mG:()=>Re,pi:()=>Ge,qq:()=>fr});var ye=function(ce,se){return(ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,J){K.__proto__=J}||function(K,J){for(var ve in J)Object.prototype.hasOwnProperty.call(J,ve)&&(K[ve]=J[ve])})(ce,se)};function T(ce,se){if("function"!=typeof se&&null!==se)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function K(){this.constructor=ce}ye(ce,se),ce.prototype=null===se?Object.create(se):(K.prototype=se.prototype,new K)}var Ge=function(){return Ge=Object.assign||function(se){for(var K,J=1,ve=arguments.length;J<ve;J++)for(var fe in K=arguments[J])Object.prototype.hasOwnProperty.call(K,fe)&&(se[fe]=K[fe]);return se},Ge.apply(this,arguments)};function Re(ce,se,K,J){return new(K||(K=Promise))(function(fe,Ie){function Pt(mn){try{Xe(J.next(mn))}catch(yt){Ie(yt)}}function Qe(mn){try{Xe(J.throw(mn))}catch(yt){Ie(yt)}}function Xe(mn){mn.done?fe(mn.value):function ve(fe){return fe instanceof K?fe:new K(function(Ie){Ie(fe)})}(mn.value).then(Pt,Qe)}Xe((J=J.apply(ce,se||[])).next())})}function xe(ce,se){var J,ve,fe,Ie,K={label:0,sent:function(){if(1&fe[0])throw fe[1];return fe[1]},trys:[],ops:[]};return Ie={next:Pt(0),throw:Pt(1),return:Pt(2)},"function"==typeof Symbol&&(Ie[Symbol.iterator]=function(){return this}),Ie;function Pt(Xe){return function(mn){return function Qe(Xe){if(J)throw new TypeError("Generator is already executing.");for(;Ie&&(Ie=0,Xe[0]&&(K=0)),K;)try{if(J=1,ve&&(fe=2&Xe[0]?ve.return:Xe[0]?ve.throw||((fe=ve.return)&&fe.call(ve),0):ve.next)&&!(fe=fe.call(ve,Xe[1])).done)return fe;switch(ve=0,fe&&(Xe=[2&Xe[0],fe.value]),Xe[0]){case 0:case 1:fe=Xe;break;case 4:return K.label++,{value:Xe[1],done:!1};case 5:K.label++,ve=Xe[1],Xe=[0];continue;case 7:Xe=K.ops.pop(),K.trys.pop();continue;default:if(!(fe=(fe=K.trys).length>0&&fe[fe.length-1])&&(6===Xe[0]||2===Xe[0])){K=0;continue}if(3===Xe[0]&&(!fe||Xe[1]>fe[0]&&Xe[1]<fe[3])){K.label=Xe[1];break}if(6===Xe[0]&&K.label<fe[1]){K.label=fe[1],fe=Xe;break}if(fe&&K.label<fe[2]){K.label=fe[2],K.ops.push(Xe);break}fe[2]&&K.ops.pop(),K.trys.pop();continue}Xe=se.call(ce,K)}catch(mn){Xe=[6,mn],ve=0}finally{J=fe=0}if(5&Xe[0])throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}([Xe,mn])}}}function Nt(ce){var se="function"==typeof Symbol&&Symbol.iterator,K=se&&ce[se],J=0;if(K)return K.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&J>=ce.length&&(ce=void 0),{value:ce&&ce[J++],done:!ce}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bt(ce,se){var K="function"==typeof Symbol&&ce[Symbol.iterator];if(!K)return ce;var ve,Ie,J=K.call(ce),fe=[];try{for(;(void 0===se||se-- >0)&&!(ve=J.next()).done;)fe.push(ve.value)}catch(Pt){Ie={error:Pt}}finally{try{ve&&!ve.done&&(K=J.return)&&K.call(J)}finally{if(Ie)throw Ie.error}}return fe}function qt(ce,se,K){if(K||2===arguments.length)for(var fe,J=0,ve=se.length;J<ve;J++)(fe||!(J in se))&&(fe||(fe=Array.prototype.slice.call(se,0,J)),fe[J]=se[J]);return ce.concat(fe||Array.prototype.slice.call(se))}function fr(ce){return this instanceof fr?(this.v=ce,this):new fr(ce)}function pt(ce,se,K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ve,J=K.apply(ce,se||[]),fe=[];return ve={},Ie("next"),Ie("throw"),Ie("return"),ve[Symbol.asyncIterator]=function(){return this},ve;function Ie(Vt){J[Vt]&&(ve[Vt]=function(ii){return new Promise(function(Ct,Tt){fe.push([Vt,ii,Ct,Tt])>1||Pt(Vt,ii)})})}function Pt(Vt,ii){try{!function Qe(Vt){Vt.value instanceof fr?Promise.resolve(Vt.value.v).then(Xe,mn):yt(fe[0][2],Vt)}(J[Vt](ii))}catch(Ct){yt(fe[0][3],Ct)}}function Xe(Vt){Pt("next",Vt)}function mn(Vt){Pt("throw",Vt)}function yt(Vt,ii){Vt(ii),fe.shift(),fe.length&&Pt(fe[0][0],fe[0][1])}}function Ke(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,se=ce[Symbol.asyncIterator];return se?se.call(ce):(ce=Nt(ce),K={},J("next"),J("throw"),J("return"),K[Symbol.asyncIterator]=function(){return this},K);function J(fe){K[fe]=ce[fe]&&function(Ie){return new Promise(function(Pt,Qe){!function ve(fe,Ie,Pt,Qe){Promise.resolve(Qe).then(function(Xe){fe({value:Xe,done:Pt})},Ie)}(Pt,Qe,(Ie=ce[fe](Ie)).done,Ie.value)})}}}"function"==typeof SuppressedError&&SuppressedError}},ec=>{ec(ec.s=482)}]);